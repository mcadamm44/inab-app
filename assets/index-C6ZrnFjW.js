(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function xm(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var kd={exports:{}},Il={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zy;function YA(){if(zy)return Il;zy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Il.Fragment=e,Il.jsx=n,Il.jsxs=n,Il}var qy;function QA(){return qy||(qy=1,kd.exports=YA()),kd.exports}var A=QA(),Pd={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hy;function KA(){if(Hy)return Ce;Hy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function w(x){return x===null||typeof x!="object"?null:(x=S&&x[S]||x["@@iterator"],typeof x=="function"?x:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,ie={};function G(x,J,re){this.props=x,this.context=J,this.refs=ie,this.updater=re||H}G.prototype.isReactComponent={},G.prototype.setState=function(x,J){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,J,"setState")},G.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function ce(){}ce.prototype=G.prototype;function _e(x,J,re){this.props=x,this.context=J,this.refs=ie,this.updater=re||H}var de=_e.prototype=new ce;de.constructor=_e,Z(de,G.prototype),de.isPureReactComponent=!0;var Ve=Array.isArray,Se={H:null,A:null,T:null,S:null,V:null},ke=Object.prototype.hasOwnProperty;function V(x,J,re,ee,me,Ne){return re=Ne.ref,{$$typeof:r,type:x,key:J,ref:re!==void 0?re:null,props:Ne}}function R(x,J){return V(x.type,J,void 0,void 0,void 0,x.props)}function N(x){return typeof x=="object"&&x!==null&&x.$$typeof===r}function M(x){var J={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(re){return J[re]})}var k=/\/+/g;function P(x,J){return typeof x=="object"&&x!==null&&x.key!=null?M(""+x.key):J.toString(36)}function D(){}function Et(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(D,D):(x.status="pending",x.then(function(J){x.status==="pending"&&(x.status="fulfilled",x.value=J)},function(J){x.status==="pending"&&(x.status="rejected",x.reason=J)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function ot(x,J,re,ee,me){var Ne=typeof x;(Ne==="undefined"||Ne==="boolean")&&(x=null);var Ae=!1;if(x===null)Ae=!0;else switch(Ne){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(x.$$typeof){case r:case e:Ae=!0;break;case E:return Ae=x._init,ot(Ae(x._payload),J,re,ee,me)}}if(Ae)return me=me(x),Ae=ee===""?"."+P(x,0):ee,Ve(me)?(re="",Ae!=null&&(re=Ae.replace(k,"$&/")+"/"),ot(me,J,re,"",function(Cn){return Cn})):me!=null&&(N(me)&&(me=R(me,re+(me.key==null||x&&x.key===me.key?"":(""+me.key).replace(k,"$&/")+"/")+Ae)),J.push(me)),1;Ae=0;var wt=ee===""?".":ee+":";if(Ve(x))for(var tt=0;tt<x.length;tt++)ee=x[tt],Ne=wt+P(ee,tt),Ae+=ot(ee,J,re,Ne,me);else if(tt=w(x),typeof tt=="function")for(x=tt.call(x),tt=0;!(ee=x.next()).done;)ee=ee.value,Ne=wt+P(ee,tt++),Ae+=ot(ee,J,re,Ne,me);else if(Ne==="object"){if(typeof x.then=="function")return ot(Et(x),J,re,ee,me);throw J=String(x),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function Y(x,J,re){if(x==null)return x;var ee=[],me=0;return ot(x,ee,"","",function(Ne){return J.call(re,Ne,me++)}),ee}function te(x){if(x._status===-1){var J=x._result;J=J(),J.then(function(re){(x._status===0||x._status===-1)&&(x._status=1,x._result=re)},function(re){(x._status===0||x._status===-1)&&(x._status=2,x._result=re)}),x._status===-1&&(x._status=0,x._result=J)}if(x._status===1)return x._result.default;throw x._result}var ue=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function Be(){}return Ce.Children={map:Y,forEach:function(x,J,re){Y(x,function(){J.apply(this,arguments)},re)},count:function(x){var J=0;return Y(x,function(){J++}),J},toArray:function(x){return Y(x,function(J){return J})||[]},only:function(x){if(!N(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},Ce.Component=G,Ce.Fragment=n,Ce.Profiler=o,Ce.PureComponent=_e,Ce.StrictMode=s,Ce.Suspense=g,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Se,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(x){return Se.H.useMemoCache(x)}},Ce.cache=function(x){return function(){return x.apply(null,arguments)}},Ce.cloneElement=function(x,J,re){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var ee=Z({},x.props),me=x.key,Ne=void 0;if(J!=null)for(Ae in J.ref!==void 0&&(Ne=void 0),J.key!==void 0&&(me=""+J.key),J)!ke.call(J,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&J.ref===void 0||(ee[Ae]=J[Ae]);var Ae=arguments.length-2;if(Ae===1)ee.children=re;else if(1<Ae){for(var wt=Array(Ae),tt=0;tt<Ae;tt++)wt[tt]=arguments[tt+2];ee.children=wt}return V(x.type,me,void 0,void 0,Ne,ee)},Ce.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},Ce.createElement=function(x,J,re){var ee,me={},Ne=null;if(J!=null)for(ee in J.key!==void 0&&(Ne=""+J.key),J)ke.call(J,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(me[ee]=J[ee]);var Ae=arguments.length-2;if(Ae===1)me.children=re;else if(1<Ae){for(var wt=Array(Ae),tt=0;tt<Ae;tt++)wt[tt]=arguments[tt+2];me.children=wt}if(x&&x.defaultProps)for(ee in Ae=x.defaultProps,Ae)me[ee]===void 0&&(me[ee]=Ae[ee]);return V(x,Ne,void 0,void 0,null,me)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(x){return{$$typeof:m,render:x}},Ce.isValidElement=N,Ce.lazy=function(x){return{$$typeof:E,_payload:{_status:-1,_result:x},_init:te}},Ce.memo=function(x,J){return{$$typeof:_,type:x,compare:J===void 0?null:J}},Ce.startTransition=function(x){var J=Se.T,re={};Se.T=re;try{var ee=x(),me=Se.S;me!==null&&me(re,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(Be,ue)}catch(Ne){ue(Ne)}finally{Se.T=J}},Ce.unstable_useCacheRefresh=function(){return Se.H.useCacheRefresh()},Ce.use=function(x){return Se.H.use(x)},Ce.useActionState=function(x,J,re){return Se.H.useActionState(x,J,re)},Ce.useCallback=function(x,J){return Se.H.useCallback(x,J)},Ce.useContext=function(x){return Se.H.useContext(x)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(x,J){return Se.H.useDeferredValue(x,J)},Ce.useEffect=function(x,J,re){var ee=Se.H;if(typeof re=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ee.useEffect(x,J)},Ce.useId=function(){return Se.H.useId()},Ce.useImperativeHandle=function(x,J,re){return Se.H.useImperativeHandle(x,J,re)},Ce.useInsertionEffect=function(x,J){return Se.H.useInsertionEffect(x,J)},Ce.useLayoutEffect=function(x,J){return Se.H.useLayoutEffect(x,J)},Ce.useMemo=function(x,J){return Se.H.useMemo(x,J)},Ce.useOptimistic=function(x,J){return Se.H.useOptimistic(x,J)},Ce.useReducer=function(x,J,re){return Se.H.useReducer(x,J,re)},Ce.useRef=function(x){return Se.H.useRef(x)},Ce.useState=function(x){return Se.H.useState(x)},Ce.useSyncExternalStore=function(x,J,re){return Se.H.useSyncExternalStore(x,J,re)},Ce.useTransition=function(){return Se.H.useTransition()},Ce.version="19.1.0",Ce}var Fy;function Om(){return Fy||(Fy=1,Pd.exports=KA()),Pd.exports}var fe=Om();const XA=xm(fe);var jd={exports:{}},Cl={},Ld={exports:{}},Ud={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gy;function $A(){return Gy||(Gy=1,function(r){function e(Y,te){var ue=Y.length;Y.push(te);e:for(;0<ue;){var Be=ue-1>>>1,x=Y[Be];if(0<o(x,te))Y[Be]=te,Y[ue]=x,ue=Be;else break e}}function n(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var te=Y[0],ue=Y.pop();if(ue!==te){Y[0]=ue;e:for(var Be=0,x=Y.length,J=x>>>1;Be<J;){var re=2*(Be+1)-1,ee=Y[re],me=re+1,Ne=Y[me];if(0>o(ee,ue))me<x&&0>o(Ne,ee)?(Y[Be]=Ne,Y[me]=ue,Be=me):(Y[Be]=ee,Y[re]=ue,Be=re);else if(me<x&&0>o(Ne,ue))Y[Be]=Ne,Y[me]=ue,Be=me;else break e}}return te}function o(Y,te){var ue=Y.sortIndex-te.sortIndex;return ue!==0?ue:Y.id-te.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var g=[],_=[],E=1,S=null,w=3,H=!1,Z=!1,ie=!1,G=!1,ce=typeof setTimeout=="function"?setTimeout:null,_e=typeof clearTimeout=="function"?clearTimeout:null,de=typeof setImmediate<"u"?setImmediate:null;function Ve(Y){for(var te=n(_);te!==null;){if(te.callback===null)s(_);else if(te.startTime<=Y)s(_),te.sortIndex=te.expirationTime,e(g,te);else break;te=n(_)}}function Se(Y){if(ie=!1,Ve(Y),!Z)if(n(g)!==null)Z=!0,ke||(ke=!0,P());else{var te=n(_);te!==null&&ot(Se,te.startTime-Y)}}var ke=!1,V=-1,R=5,N=-1;function M(){return G?!0:!(r.unstable_now()-N<R)}function k(){if(G=!1,ke){var Y=r.unstable_now();N=Y;var te=!0;try{e:{Z=!1,ie&&(ie=!1,_e(V),V=-1),H=!0;var ue=w;try{t:{for(Ve(Y),S=n(g);S!==null&&!(S.expirationTime>Y&&M());){var Be=S.callback;if(typeof Be=="function"){S.callback=null,w=S.priorityLevel;var x=Be(S.expirationTime<=Y);if(Y=r.unstable_now(),typeof x=="function"){S.callback=x,Ve(Y),te=!0;break t}S===n(g)&&s(g),Ve(Y)}else s(g);S=n(g)}if(S!==null)te=!0;else{var J=n(_);J!==null&&ot(Se,J.startTime-Y),te=!1}}break e}finally{S=null,w=ue,H=!1}te=void 0}}finally{te?P():ke=!1}}}var P;if(typeof de=="function")P=function(){de(k)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Et=D.port2;D.port1.onmessage=k,P=function(){Et.postMessage(null)}}else P=function(){ce(k,0)};function ot(Y,te){V=ce(function(){Y(r.unstable_now())},te)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(Y){switch(w){case 1:case 2:case 3:var te=3;break;default:te=w}var ue=w;w=te;try{return Y()}finally{w=ue}},r.unstable_requestPaint=function(){G=!0},r.unstable_runWithPriority=function(Y,te){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ue=w;w=Y;try{return te()}finally{w=ue}},r.unstable_scheduleCallback=function(Y,te,ue){var Be=r.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Be+ue:Be):ue=Be,Y){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=ue+x,Y={id:E++,callback:te,priorityLevel:Y,startTime:ue,expirationTime:x,sortIndex:-1},ue>Be?(Y.sortIndex=ue,e(_,Y),n(g)===null&&Y===n(_)&&(ie?(_e(V),V=-1):ie=!0,ot(Se,ue-Be))):(Y.sortIndex=x,e(g,Y),Z||H||(Z=!0,ke||(ke=!0,P()))),Y},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(Y){var te=w;return function(){var ue=w;w=te;try{return Y.apply(this,arguments)}finally{w=ue}}}}(Ud)),Ud}var Yy;function ZA(){return Yy||(Yy=1,Ld.exports=$A()),Ld.exports}var Bd={exports:{}},nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qy;function WA(){if(Qy)return nn;Qy=1;var r=Om();function e(g){var _="https://react.dev/errors/"+g;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)_+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,_,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:g,containerInfo:_,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,_){if(g==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,nn.createPortal=function(g,_){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return u(g,_,null,E)},nn.flushSync=function(g){var _=f.T,E=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=_,s.p=E,s.d.f()}},nn.preconnect=function(g,_){typeof g=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(g,_))},nn.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},nn.preinit=function(g,_){if(typeof g=="string"&&_&&typeof _.as=="string"){var E=_.as,S=m(E,_.crossOrigin),w=typeof _.integrity=="string"?_.integrity:void 0,H=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;E==="style"?s.d.S(g,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:w,fetchPriority:H}):E==="script"&&s.d.X(g,{crossOrigin:S,integrity:w,fetchPriority:H,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},nn.preinitModule=function(g,_){if(typeof g=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var E=m(_.as,_.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(g)},nn.preload=function(g,_){if(typeof g=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var E=_.as,S=m(E,_.crossOrigin);s.d.L(g,E,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},nn.preloadModule=function(g,_){if(typeof g=="string")if(_){var E=m(_.as,_.crossOrigin);s.d.m(g,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(g)},nn.requestFormReset=function(g){s.d.r(g)},nn.unstable_batchedUpdates=function(g,_){return g(_)},nn.useFormState=function(g,_,E){return f.H.useFormState(g,_,E)},nn.useFormStatus=function(){return f.H.useHostTransitionStatus()},nn.version="19.1.0",nn}var Ky;function JA(){if(Ky)return Bd.exports;Ky=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Bd.exports=WA(),Bd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xy;function eb(){if(Xy)return Cl;Xy=1;var r=ZA(),e=Om(),n=JA();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function _(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=_(t),i!==null)return i;t=t.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),ie=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),ce=Symbol.for("react.provider"),_e=Symbol.for("react.consumer"),de=Symbol.for("react.context"),Ve=Symbol.for("react.forward_ref"),Se=Symbol.for("react.suspense"),ke=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=k&&t[k]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function Et(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Z:return"Fragment";case G:return"Profiler";case ie:return"StrictMode";case Se:return"Suspense";case ke:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case H:return"Portal";case de:return(t.displayName||"Context")+".Provider";case _e:return(t._context.displayName||"Context")+".Consumer";case Ve:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case V:return i=t.displayName||null,i!==null?i:Et(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return Et(t(i))}catch{}}return null}var ot=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},Be=[],x=-1;function J(t){return{current:t}}function re(t){0>x||(t.current=Be[x],Be[x]=null,x--)}function ee(t,i){x++,Be[x]=t.current,t.current=i}var me=J(null),Ne=J(null),Ae=J(null),wt=J(null);function tt(t,i){switch(ee(Ae,i),ee(Ne,t),ee(me,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?py(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=py(i),t=gy(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}re(me),ee(me,t)}function Cn(){re(me),re(Ne),re(Ae)}function Hn(t){t.memoizedState!==null&&ee(wt,t);var i=me.current,a=gy(i,t.type);i!==a&&(ee(Ne,t),ee(me,a))}function Fn(t){Ne.current===t&&(re(me),re(Ne)),wt.current===t&&(re(wt),Al._currentValue=ue)}var Ri=Object.prototype.hasOwnProperty,Ii=r.unstable_scheduleCallback,Ci=r.unstable_cancelCallback,ge=r.unstable_shouldYield,Oe=r.unstable_requestPaint,Ge=r.unstable_now,vo=r.unstable_getCurrentPriorityLevel,os=r.unstable_ImmediatePriority,cr=r.unstable_UserBlockingPriority,Ni=r.unstable_NormalPriority,Eo=r.unstable_LowPriority,hr=r.unstable_IdlePriority,ls=r.log,Ws=r.unstable_setDisableYieldValue,ht=null,Ke=null;function ln(t){if(typeof ls=="function"&&Ws(t),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(ht,t)}catch{}}var Bt=Math.clz32?Math.clz32:Ye,Js=Math.log,To=Math.LN2;function Ye(t){return t>>>=0,t===0?32:31-(Js(t)/To|0)|0}var ft=256,lt=4194304;function Gn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ea(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=Gn(l):(v&=T,v!==0?h=Gn(v):a||(a=T&~t,a!==0&&(h=Gn(a))))):(T=l&~d,T!==0?h=Gn(T):v!==0?h=Gn(v):a||(a=l&~t,a!==0&&(h=Gn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function us(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Ao(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bo(){var t=ft;return ft<<=1,(ft&4194048)===0&&(ft=256),t}function So(){var t=lt;return lt<<=1,(lt&62914560)===0&&(lt=4194304),t}function Di(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function xi(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function wo(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,I=t.expirationTimes,B=t.hiddenUpdates;for(a=v&~a;0<a;){var Q=31-Bt(a),X=1<<Q;T[Q]=0,I[Q]=-1;var z=B[Q];if(z!==null)for(B[Q]=null,Q=0;Q<z.length;Q++){var q=z[Q];q!==null&&(q.lane&=-536870913)}a&=~X}l!==0&&ei(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function ei(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Bt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Ro(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Bt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function fr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ta(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function dr(){var t=te.p;return t!==0?t:(t=window.event,t===void 0?32:ky(t.type))}function du(t,i){var a=te.p;try{return te.p=t,i()}finally{te.p=a}}var dt=Math.random().toString(36).slice(2),Mt="__reactFiber$"+dt,Rt="__reactProps$"+dt,Nn="__reactContainer$"+dt,Io="__reactEvents$"+dt,jh="__reactListeners$"+dt,mr="__reactHandles$"+dt,mu="__reactResources$"+dt,cs="__reactMarker$"+dt;function pr(t){delete t[Mt],delete t[Rt],delete t[Io],delete t[jh],delete t[mr]}function Oi(t){var i=t[Mt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Nn]||a[Mt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Ey(t);t!==null;){if(a=t[Mt])return a;t=Ey(t)}return i}t=a,a=t.parentNode}return null}function ti(t){if(t=t[Mt]||t[Nn]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function ni(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function un(t){var i=t[mu];return i||(i=t[mu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Tt(t){t[cs]=!0}var Co=new Set,na={};function Yn(t,i){Mi(t,i),Mi(t+"Capture",i)}function Mi(t,i){for(na[t]=i,t=0;t<i.length;t++)Co.add(i[t])}var pu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gu={},hs={};function _u(t){return Ri.call(hs,t)?!0:Ri.call(gu,t)?!1:pu.test(t)?hs[t]=!0:(gu[t]=!0,!1)}function gr(t,i,a){if(_u(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function ii(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Qt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}var fs,yu;function Vi(t){if(fs===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);fs=i&&i[1]||"",yu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fs+t+yu}var ia=!1;function ra(t,i){if(!t||ia)return"";ia=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(q){var z=q}Reflect.construct(t,[],X)}else{try{X.call()}catch(q){z=q}t.call(X.prototype)}}else{try{throw Error()}catch(q){z=q}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var I=v.split(`
`),B=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===B.length)for(l=I.length-1,h=B.length-1;1<=l&&0<=h&&I[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==B[h]){var Q=`
`+I[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=h);break}}}finally{ia=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Vi(a):""}function No(t){switch(t.tag){case 26:case 27:case 5:return Vi(t.type);case 16:return Vi("Lazy");case 13:return Vi("Suspense");case 19:return Vi("SuspenseList");case 0:case 15:return ra(t.type,!1);case 11:return ra(t.type.render,!1);case 1:return ra(t.type,!0);case 31:return Vi("Activity");default:return""}}function sa(t){try{var i="";do i+=No(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function cn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Do(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Lh(t){var i=Do(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function aa(t){t._valueTracker||(t._valueTracker=Lh(t))}function xo(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Do(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function ds(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Uh=/[\n"\\]/g;function It(t){return t.replace(Uh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function vn(t,i,a,l,h,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+cn(i)):t.value!==""+cn(i)&&(t.value=""+cn(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?_r(t,v,cn(i)):a!=null?_r(t,v,cn(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+cn(T):t.removeAttribute("name")}function ms(t,i,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+cn(a):"",i=i!=null?""+cn(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function _r(t,i,a){i==="number"&&ds(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ki(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+cn(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function nt(t,i,a){if(i!=null&&(i=""+cn(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+cn(a):""}function ps(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ot(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=cn(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Dn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var gs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vu(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||gs.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Oo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&vu(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&vu(t,d,i[d])}function Mo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function oa(t){return zh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Pi=null;function xn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ji=null,Li=null;function Vo(t){var i=ti(t);if(i&&(t=i.stateNode)){var a=t[Rt]||null;e:switch(t=i.stateNode,i.type){case"input":if(vn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+It(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Rt]||null;if(!h)throw Error(s(90));vn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&xo(l)}break e;case"textarea":nt(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&ki(t,!!a.multiple,i,!1)}}}var ri=!1;function Eu(t,i,a){if(ri)return t(i,a);ri=!0;try{var l=t(i);return l}finally{if(ri=!1,(ji!==null||Li!==null)&&(dc(),ji&&(i=ji,t=Li,Li=ji=null,Vo(i),t)))for(i=0;i<t.length;i++)Vo(t[i])}}function _s(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Rt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),On=!1;if(Qn)try{var ys={};Object.defineProperty(ys,"passive",{get:function(){On=!0}}),window.addEventListener("test",ys,ys),window.removeEventListener("test",ys,ys)}catch{On=!1}var si=null,yr=null,Ui=null;function ko(){if(Ui)return Ui;var t,i=yr,a=i.length,l,h="value"in si?si.value:si.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Ui=h.slice(t,1<l?1-l:void 0)}function ai(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function oi(){return!0}function Po(){return!1}function zt(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?oi:Po,this.isPropagationStopped=Po,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=oi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=oi)},persist:function(){},isPersistent:oi}),i}var $e={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},la=zt($e),vs=E({},$e,{view:0,detail:0}),Tu=zt(vs),ua,ca,li,Es=E({},vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==li&&(li&&t.type==="mousemove"?(ua=t.screenX-li.screenX,ca=t.screenY-li.screenY):ca=ua=0,li=t),ua)},movementY:function(t){return"movementY"in t?t.movementY:ca}}),Mn=zt(Es),Au=E({},Es,{dataTransfer:0}),qh=zt(Au),Ts=E({},vs,{relatedTarget:0}),ha=zt(Ts),jo=E({},$e,{animationName:0,elapsedTime:0,pseudoElement:0}),fa=zt(jo),bu=E({},$e,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),da=zt(bu),Hh=E({},$e,{data:0}),Lo=zt(Hh),As={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Su={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uo(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=wu[t])?!!i[t]:!1}function bs(){return Uo}var Ru=E({},vs,{key:function(t){if(t.key){var i=As[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ai(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Su[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bs,charCode:function(t){return t.type==="keypress"?ai(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ai(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ma=zt(Ru),Iu=E({},Es,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bo=zt(Iu),Bi=E({},vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bs}),Cu=zt(Bi),Nu=E({},$e,{propertyName:0,elapsedTime:0,pseudoElement:0}),Du=zt(Nu),xu=E({},Es,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),pa=zt(xu),hn=E({},$e,{newState:0,oldState:0}),Ou=zt(hn),Mu=[9,13,27,32],ui=Qn&&"CompositionEvent"in window,c=null;Qn&&"documentMode"in document&&(c=document.documentMode);var p=Qn&&"TextEvent"in window&&!c,y=Qn&&(!ui||c&&8<c&&11>=c),b=" ",L=!1;function F(t,i){switch(t){case"keyup":return Mu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ne(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ze=!1;function Vt(t,i){switch(t){case"compositionend":return ne(i);case"keypress":return i.which!==32?null:(L=!0,b);case"textInput":return t=i.data,t===b&&L?null:t;default:return null}}function qe(t,i){if(ze)return t==="compositionend"||!ui&&F(t,i)?(t=ko(),Ui=yr=si=null,ze=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return y&&i.locale!=="ko"?null:i.data;default:return null}}var qt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!qt[t.type]:i==="textarea"}function zi(t,i,a,l){ji?Li?Li.push(l):Li=[l]:ji=l,i=vc(i,"onChange"),0<i.length&&(a=new la("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Kt=null,ci=null;function zo(t){cy(t,0)}function Vu(t){var i=ni(t);if(xo(i))return t}function xp(t,i){if(t==="change")return i}var Op=!1;if(Qn){var Fh;if(Qn){var Gh="oninput"in document;if(!Gh){var Mp=document.createElement("div");Mp.setAttribute("oninput","return;"),Gh=typeof Mp.oninput=="function"}Fh=Gh}else Fh=!1;Op=Fh&&(!document.documentMode||9<document.documentMode)}function Vp(){Kt&&(Kt.detachEvent("onpropertychange",kp),ci=Kt=null)}function kp(t){if(t.propertyName==="value"&&Vu(ci)){var i=[];zi(i,ci,t,xn(t)),Eu(zo,i)}}function A1(t,i,a){t==="focusin"?(Vp(),Kt=i,ci=a,Kt.attachEvent("onpropertychange",kp)):t==="focusout"&&Vp()}function b1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vu(ci)}function S1(t,i){if(t==="click")return Vu(i)}function w1(t,i){if(t==="input"||t==="change")return Vu(i)}function R1(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var En=typeof Object.is=="function"?Object.is:R1;function qo(t,i){if(En(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Ri.call(i,h)||!En(t[h],i[h]))return!1}return!0}function Pp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jp(t,i){var a=Pp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Pp(a)}}function Lp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Lp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Up(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=ds(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=ds(t.document)}return i}function Yh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var I1=Qn&&"documentMode"in document&&11>=document.documentMode,ga=null,Qh=null,Ho=null,Kh=!1;function Bp(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Kh||ga==null||ga!==ds(l)||(l=ga,"selectionStart"in l&&Yh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ho&&qo(Ho,l)||(Ho=l,l=vc(Qh,"onSelect"),0<l.length&&(i=new la("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=ga)))}function Ss(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var _a={animationend:Ss("Animation","AnimationEnd"),animationiteration:Ss("Animation","AnimationIteration"),animationstart:Ss("Animation","AnimationStart"),transitionrun:Ss("Transition","TransitionRun"),transitionstart:Ss("Transition","TransitionStart"),transitioncancel:Ss("Transition","TransitionCancel"),transitionend:Ss("Transition","TransitionEnd")},Xh={},zp={};Qn&&(zp=document.createElement("div").style,"AnimationEvent"in window||(delete _a.animationend.animation,delete _a.animationiteration.animation,delete _a.animationstart.animation),"TransitionEvent"in window||delete _a.transitionend.transition);function ws(t){if(Xh[t])return Xh[t];if(!_a[t])return t;var i=_a[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in zp)return Xh[t]=i[a];return t}var qp=ws("animationend"),Hp=ws("animationiteration"),Fp=ws("animationstart"),C1=ws("transitionrun"),N1=ws("transitionstart"),D1=ws("transitioncancel"),Gp=ws("transitionend"),Yp=new Map,$h="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$h.push("scrollEnd");function Kn(t,i){Yp.set(t,i),Yn(i,[t])}var Qp=new WeakMap;function Vn(t,i){if(typeof t=="object"&&t!==null){var a=Qp.get(t);return a!==void 0?a:(i={value:t,source:i,stack:sa(i)},Qp.set(t,i),i)}return{value:t,source:i,stack:sa(i)}}var kn=[],ya=0,Zh=0;function ku(){for(var t=ya,i=Zh=ya=0;i<t;){var a=kn[i];kn[i++]=null;var l=kn[i];kn[i++]=null;var h=kn[i];kn[i++]=null;var d=kn[i];if(kn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Kp(a,h,d)}}function Pu(t,i,a,l){kn[ya++]=t,kn[ya++]=i,kn[ya++]=a,kn[ya++]=l,Zh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Wh(t,i,a,l){return Pu(t,i,a,l),ju(t)}function va(t,i){return Pu(t,null,null,i),ju(t)}function Kp(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-Bt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function ju(t){if(50<ml)throw ml=0,sd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ea={};function x1(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(t,i,a,l){return new x1(t,i,a,l)}function Jh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qi(t,i){var a=t.alternate;return a===null?(a=Tn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Xp(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Lu(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")Jh(t)&&(v=1);else if(typeof t=="string")v=MA(t,a,me.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=Tn(31,a,i,h),t.elementType=N,t.lanes=d,t;case Z:return Rs(a.children,h,d,i);case ie:v=8,h|=24;break;case G:return t=Tn(12,a,i,h|2),t.elementType=G,t.lanes=d,t;case Se:return t=Tn(13,a,i,h),t.elementType=Se,t.lanes=d,t;case ke:return t=Tn(19,a,i,h),t.elementType=ke,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ce:case de:v=10;break e;case _e:v=9;break e;case Ve:v=11;break e;case V:v=14;break e;case R:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=Tn(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Rs(t,i,a,l){return t=Tn(7,t,l,i),t.lanes=a,t}function ef(t,i,a){return t=Tn(6,t,null,i),t.lanes=a,t}function tf(t,i,a){return i=Tn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Ta=[],Aa=0,Uu=null,Bu=0,Pn=[],jn=0,Is=null,Hi=1,Fi="";function Cs(t,i){Ta[Aa++]=Bu,Ta[Aa++]=Uu,Uu=t,Bu=i}function $p(t,i,a){Pn[jn++]=Hi,Pn[jn++]=Fi,Pn[jn++]=Is,Is=t;var l=Hi;t=Fi;var h=32-Bt(l)-1;l&=~(1<<h),a+=1;var d=32-Bt(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Hi=1<<32-Bt(i)+h|a<<h|l,Fi=d+t}else Hi=1<<d|a<<h|l,Fi=t}function nf(t){t.return!==null&&(Cs(t,1),$p(t,1,0))}function rf(t){for(;t===Uu;)Uu=Ta[--Aa],Ta[Aa]=null,Bu=Ta[--Aa],Ta[Aa]=null;for(;t===Is;)Is=Pn[--jn],Pn[jn]=null,Fi=Pn[--jn],Pn[jn]=null,Hi=Pn[--jn],Pn[jn]=null}var fn=null,_t=null,Xe=!1,Ns=null,hi=!1,sf=Error(s(519));function Ds(t){var i=Error(s(418,""));throw Yo(Vn(i,t)),sf}function Zp(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Mt]=t,i[Rt]=l,a){case"dialog":je("cancel",i),je("close",i);break;case"iframe":case"object":case"embed":je("load",i);break;case"video":case"audio":for(a=0;a<gl.length;a++)je(gl[a],i);break;case"source":je("error",i);break;case"img":case"image":case"link":je("error",i),je("load",i);break;case"details":je("toggle",i);break;case"input":je("invalid",i),ms(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),aa(i);break;case"select":je("invalid",i);break;case"textarea":je("invalid",i),ps(i,l.value,l.defaultValue,l.children),aa(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||my(i.textContent,a)?(l.popover!=null&&(je("beforetoggle",i),je("toggle",i)),l.onScroll!=null&&je("scroll",i),l.onScrollEnd!=null&&je("scrollend",i),l.onClick!=null&&(i.onclick=Ec),i=!0):i=!1,i||Ds(t)}function Wp(t){for(fn=t.return;fn;)switch(fn.tag){case 5:case 13:hi=!1;return;case 27:case 3:hi=!0;return;default:fn=fn.return}}function Fo(t){if(t!==fn)return!1;if(!Xe)return Wp(t),Xe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Td(t.type,t.memoizedProps)),a=!a),a&&_t&&Ds(t),Wp(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){_t=$n(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}_t=null}}else i===27?(i=_t,Vr(t.type)?(t=wd,wd=null,_t=t):_t=i):_t=fn?$n(t.stateNode.nextSibling):null;return!0}function Go(){_t=fn=null,Xe=!1}function Jp(){var t=Ns;return t!==null&&(gn===null?gn=t:gn.push.apply(gn,t),Ns=null),t}function Yo(t){Ns===null?Ns=[t]:Ns.push(t)}var af=J(null),xs=null,Gi=null;function vr(t,i,a){ee(af,i._currentValue),i._currentValue=a}function Yi(t){t._currentValue=af.current,re(af)}function of(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function lf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var I=0;I<i.length;I++)if(T.context===i[I]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),of(d.return,a,t),l||(v=null);break e}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),of(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Qo(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;En(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===wt.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Al):t=[Al])}h=h.return}t!==null&&lf(i,t,a,l),i.flags|=262144}function zu(t){for(t=t.firstContext;t!==null;){if(!En(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Os(t){xs=t,Gi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function tn(t){return eg(xs,t)}function qu(t,i){return xs===null&&Os(t),eg(t,i)}function eg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Gi===null){if(t===null)throw Error(s(308));Gi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Gi=Gi.next=i;return a}var O1=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},M1=r.unstable_scheduleCallback,V1=r.unstable_NormalPriority,Pt={$$typeof:de,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uf(){return{controller:new O1,data:new Map,refCount:0}}function Ko(t){t.refCount--,t.refCount===0&&M1(V1,function(){t.controller.abort()})}var Xo=null,cf=0,ba=0,Sa=null;function k1(t,i){if(Xo===null){var a=Xo=[];cf=0,ba=fd(),Sa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return cf++,i.then(tg,tg),i}function tg(){if(--cf===0&&Xo!==null){Sa!==null&&(Sa.status="fulfilled");var t=Xo;Xo=null,ba=0,Sa=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function P1(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var ng=Y.S;Y.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&k1(t,i),ng!==null&&ng(t,i)};var Ms=J(null);function hf(){var t=Ms.current;return t!==null?t:ut.pooledCache}function Hu(t,i){i===null?ee(Ms,Ms.current):ee(Ms,i.pool)}function ig(){var t=hf();return t===null?null:{parent:Pt._currentValue,pool:t}}var $o=Error(s(460)),rg=Error(s(474)),Fu=Error(s(542)),ff={then:function(){}};function sg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Gu(){}function ag(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Gu,Gu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,lg(t),t;default:if(typeof i.status=="string")i.then(Gu,Gu);else{if(t=ut,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,lg(t),t}throw Zo=i,$o}}var Zo=null;function og(){if(Zo===null)throw Error(s(459));var t=Zo;return Zo=null,t}function lg(t){if(t===$o||t===Fu)throw Error(s(483))}var Er=!1;function df(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Tr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ar(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Je&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=ju(t),Kp(t,null,a),i}return Pu(t,l,i,a),ju(t)}function Wo(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Ro(t,a)}}function pf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var gf=!1;function Jo(){if(gf){var t=Sa;if(t!==null)throw t}}function el(t,i,a,l){gf=!1;var h=t.updateQueue;Er=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,B=I.next;I.next=null,v===null?d=B:v.next=B,v=I;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,T=Q.lastBaseUpdate,T!==v&&(T===null?Q.firstBaseUpdate=B:T.next=B,Q.lastBaseUpdate=I))}if(d!==null){var X=h.baseState;v=0,Q=B=I=null,T=d;do{var z=T.lane&-536870913,q=z!==T.lane;if(q?(He&z)===z:(l&z)===z){z!==0&&z===ba&&(gf=!0),Q!==null&&(Q=Q.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var be=t,ye=T;z=i;var st=a;switch(ye.tag){case 1:if(be=ye.payload,typeof be=="function"){X=be.call(st,X,z);break e}X=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=ye.payload,z=typeof be=="function"?be.call(st,X,z):be,z==null)break e;X=E({},X,z);break e;case 2:Er=!0}}z=T.callback,z!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Q===null?(B=Q=q,I=X):Q=Q.next=q,v|=z;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);Q===null&&(I=X),h.baseState=I,h.firstBaseUpdate=B,h.lastBaseUpdate=Q,d===null&&(h.shared.lanes=0),Dr|=v,t.lanes=v,t.memoizedState=X}}function ug(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function cg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)ug(a[t],i)}var wa=J(null),Yu=J(0);function hg(t,i){t=Ji,ee(Yu,t),ee(wa,i),Ji=t|i.baseLanes}function _f(){ee(Yu,Ji),ee(wa,wa.current)}function yf(){Ji=Yu.current,re(wa),re(Yu)}var br=0,De=null,it=null,Ct=null,Qu=!1,Ra=!1,Vs=!1,Ku=0,tl=0,Ia=null,j1=0;function At(){throw Error(s(321))}function vf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!En(t[a],i[a]))return!1;return!0}function Ef(t,i,a,l,h,d){return br=d,De=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Y.H=t===null||t.memoizedState===null?Kg:Xg,Vs=!1,d=a(l,h),Vs=!1,Ra&&(d=dg(i,a,l,h)),fg(t),d}function fg(t){Y.H=ec;var i=it!==null&&it.next!==null;if(br=0,Ct=it=De=null,Qu=!1,tl=0,Ia=null,i)throw Error(s(300));t===null||Ht||(t=t.dependencies,t!==null&&zu(t)&&(Ht=!0))}function dg(t,i,a,l){De=t;var h=0;do{if(Ra&&(Ia=null),tl=0,Ra=!1,25<=h)throw Error(s(301));if(h+=1,Ct=it=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=F1,d=i(a,l)}while(Ra);return d}function L1(){var t=Y.H,i=t.useState()[0];return i=typeof i.then=="function"?nl(i):i,t=t.useState()[0],(it!==null?it.memoizedState:null)!==t&&(De.flags|=1024),i}function Tf(){var t=Ku!==0;return Ku=0,t}function Af(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function bf(t){if(Qu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Qu=!1}br=0,Ct=it=De=null,Ra=!1,tl=Ku=0,Ia=null}function mn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?De.memoizedState=Ct=t:Ct=Ct.next=t,Ct}function Nt(){if(it===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=it.next;var i=Ct===null?De.memoizedState:Ct.next;if(i!==null)Ct=i,it=t;else{if(t===null)throw De.alternate===null?Error(s(467)):Error(s(310));it=t,t={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},Ct===null?De.memoizedState=Ct=t:Ct=Ct.next=t}return Ct}function Sf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nl(t){var i=tl;return tl+=1,Ia===null&&(Ia=[]),t=ag(Ia,t,i),i=De,(Ct===null?i.memoizedState:Ct.next)===null&&(i=i.alternate,Y.H=i===null||i.memoizedState===null?Kg:Xg),t}function Xu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return nl(t);if(t.$$typeof===de)return tn(t)}throw Error(s(438,String(t)))}function wf(t){var i=null,a=De.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=De.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Sf(),De.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=M;return i.index++,a}function Qi(t,i){return typeof i=="function"?i(t):i}function $u(t){var i=Nt();return Rf(i,it,t)}function Rf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=v=null,I=null,B=i,Q=!1;do{var X=B.lane&-536870913;if(X!==B.lane?(He&X)===X:(br&X)===X){var z=B.revertLane;if(z===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),X===ba&&(Q=!0);else if((br&z)===z){B=B.next,z===ba&&(Q=!0);continue}else X={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(T=I=X,v=d):I=I.next=X,De.lanes|=z,Dr|=z;X=B.action,Vs&&a(d,X),d=B.hasEagerState?B.eagerState:a(d,X)}else z={lane:X,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(T=I=z,v=d):I=I.next=z,De.lanes|=X,Dr|=X;B=B.next}while(B!==null&&B!==i);if(I===null?v=d:I.next=T,!En(d,t.memoizedState)&&(Ht=!0,Q&&(a=Sa,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function If(t){var i=Nt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);En(d,i.memoizedState)||(Ht=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function mg(t,i,a){var l=De,h=Nt(),d=Xe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!En((it||h).memoizedState,a);v&&(h.memoizedState=a,Ht=!0),h=h.queue;var T=_g.bind(null,l,h,t);if(il(2048,8,T,[t]),h.getSnapshot!==i||v||Ct!==null&&Ct.memoizedState.tag&1){if(l.flags|=2048,Ca(9,Zu(),gg.bind(null,l,h,a,i),null),ut===null)throw Error(s(349));d||(br&124)!==0||pg(l,i,a)}return a}function pg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=De.updateQueue,i===null?(i=Sf(),De.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function gg(t,i,a,l){i.value=a,i.getSnapshot=l,yg(i)&&vg(t)}function _g(t,i,a){return a(function(){yg(i)&&vg(t)})}function yg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!En(t,a)}catch{return!0}}function vg(t){var i=va(t,2);i!==null&&Rn(i,t,2)}function Cf(t){var i=mn();if(typeof t=="function"){var a=t;if(t=a(),Vs){ln(!0);try{a()}finally{ln(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:t},i}function Eg(t,i,a,l){return t.baseState=a,Rf(t,it,typeof l=="function"?l:Qi)}function U1(t,i,a,l,h){if(Ju(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};Y.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Tg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Tg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=Y.T,v={};Y.T=v;try{var T=a(h,l),I=Y.S;I!==null&&I(v,T),Ag(t,i,T)}catch(B){Nf(t,i,B)}finally{Y.T=d}}else try{d=a(h,l),Ag(t,i,d)}catch(B){Nf(t,i,B)}}function Ag(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){bg(t,i,l)},function(l){return Nf(t,i,l)}):bg(t,i,a)}function bg(t,i,a){i.status="fulfilled",i.value=a,Sg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Tg(t,a)))}function Nf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Sg(i),i=i.next;while(i!==l)}t.action=null}function Sg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function wg(t,i){return i}function Rg(t,i){if(Xe){var a=ut.formState;if(a!==null){e:{var l=De;if(Xe){if(_t){t:{for(var h=_t,d=hi;h.nodeType!==8;){if(!d){h=null;break t}if(h=$n(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){_t=$n(h.nextSibling),l=h.data==="F!";break e}}Ds(l)}l=!1}l&&(i=a[0])}}return a=mn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wg,lastRenderedState:i},a.queue=l,a=Gg.bind(null,De,l),l.dispatch=a,l=Cf(!1),d=Vf.bind(null,De,!1,l.queue),l=mn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=U1.bind(null,De,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Ig(t){var i=Nt();return Cg(i,it,t)}function Cg(t,i,a){if(i=Rf(t,i,wg)[0],t=$u(Qi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=nl(i)}catch(v){throw v===$o?Fu:v}else l=i;i=Nt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(De.flags|=2048,Ca(9,Zu(),B1.bind(null,h,a),null)),[l,d,t]}function B1(t,i){t.action=i}function Ng(t){var i=Nt(),a=it;if(a!==null)return Cg(i,a,t);Nt(),i=i.memoizedState,a=Nt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ca(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=De.updateQueue,i===null&&(i=Sf(),De.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Zu(){return{destroy:void 0,resource:void 0}}function Dg(){return Nt().memoizedState}function Wu(t,i,a,l){var h=mn();l=l===void 0?null:l,De.flags|=t,h.memoizedState=Ca(1|i,Zu(),a,l)}function il(t,i,a,l){var h=Nt();l=l===void 0?null:l;var d=h.memoizedState.inst;it!==null&&l!==null&&vf(l,it.memoizedState.deps)?h.memoizedState=Ca(i,d,a,l):(De.flags|=t,h.memoizedState=Ca(1|i,d,a,l))}function xg(t,i){Wu(8390656,8,t,i)}function Og(t,i){il(2048,8,t,i)}function Mg(t,i){return il(4,2,t,i)}function Vg(t,i){return il(4,4,t,i)}function kg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Pg(t,i,a){a=a!=null?a.concat([t]):null,il(4,4,kg.bind(null,i,t),a)}function Df(){}function jg(t,i){var a=Nt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&vf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Lg(t,i){var a=Nt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&vf(i,l[1]))return l[0];if(l=t(),Vs){ln(!0);try{t()}finally{ln(!1)}}return a.memoizedState=[l,i],l}function xf(t,i,a){return a===void 0||(br&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=z_(),De.lanes|=t,Dr|=t,a)}function Ug(t,i,a,l){return En(a,i)?a:wa.current!==null?(t=xf(t,a,l),En(t,i)||(Ht=!0),t):(br&42)===0?(Ht=!0,t.memoizedState=a):(t=z_(),De.lanes|=t,Dr|=t,i)}function Bg(t,i,a,l,h){var d=te.p;te.p=d!==0&&8>d?d:8;var v=Y.T,T={};Y.T=T,Vf(t,!1,i,a);try{var I=h(),B=Y.S;if(B!==null&&B(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Q=P1(I,l);rl(t,i,Q,wn(t))}else rl(t,i,l,wn(t))}catch(X){rl(t,i,{then:function(){},status:"rejected",reason:X},wn())}finally{te.p=d,Y.T=v}}function z1(){}function Of(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=zg(t).queue;Bg(t,h,i,ue,a===null?z1:function(){return qg(t),a(l)})}function zg(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:ue},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function qg(t){var i=zg(t).next.queue;rl(t,i,{},wn())}function Mf(){return tn(Al)}function Hg(){return Nt().memoizedState}function Fg(){return Nt().memoizedState}function q1(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=wn();t=Tr(a);var l=Ar(i,t,a);l!==null&&(Rn(l,i,a),Wo(l,i,a)),i={cache:uf()},t.payload=i;return}i=i.return}}function H1(t,i,a){var l=wn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Ju(t)?Yg(i,a):(a=Wh(t,i,a,l),a!==null&&(Rn(a,t,l),Qg(a,i,l)))}function Gg(t,i,a){var l=wn();rl(t,i,a,l)}function rl(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ju(t))Yg(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,En(T,v))return Pu(t,i,h,0),ut===null&&ku(),!1}catch{}finally{}if(a=Wh(t,i,h,l),a!==null)return Rn(a,t,l),Qg(a,i,l),!0}return!1}function Vf(t,i,a,l){if(l={lane:2,revertLane:fd(),action:l,hasEagerState:!1,eagerState:null,next:null},Ju(t)){if(i)throw Error(s(479))}else i=Wh(t,a,l,2),i!==null&&Rn(i,t,2)}function Ju(t){var i=t.alternate;return t===De||i!==null&&i===De}function Yg(t,i){Ra=Qu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Qg(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Ro(t,a)}}var ec={readContext:tn,use:Xu,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At},Kg={readContext:tn,use:Xu,useCallback:function(t,i){return mn().memoizedState=[t,i===void 0?null:i],t},useContext:tn,useEffect:xg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Wu(4194308,4,kg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Wu(4194308,4,t,i)},useInsertionEffect:function(t,i){Wu(4,2,t,i)},useMemo:function(t,i){var a=mn();i=i===void 0?null:i;var l=t();if(Vs){ln(!0);try{t()}finally{ln(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=mn();if(a!==void 0){var h=a(i);if(Vs){ln(!0);try{a(i)}finally{ln(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=H1.bind(null,De,t),[l.memoizedState,t]},useRef:function(t){var i=mn();return t={current:t},i.memoizedState=t},useState:function(t){t=Cf(t);var i=t.queue,a=Gg.bind(null,De,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Df,useDeferredValue:function(t,i){var a=mn();return xf(a,t,i)},useTransition:function(){var t=Cf(!1);return t=Bg.bind(null,De,t.queue,!0,!1),mn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=De,h=mn();if(Xe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),ut===null)throw Error(s(349));(He&124)!==0||pg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,xg(_g.bind(null,l,d,t),[t]),l.flags|=2048,Ca(9,Zu(),gg.bind(null,l,d,a,i),null),a},useId:function(){var t=mn(),i=ut.identifierPrefix;if(Xe){var a=Fi,l=Hi;a=(l&~(1<<32-Bt(l)-1)).toString(32)+a,i=""+i+"R"+a,a=Ku++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=j1++,i=""+i+"r"+a.toString(32)+"";return t.memoizedState=i},useHostTransitionStatus:Mf,useFormState:Rg,useActionState:Rg,useOptimistic:function(t){var i=mn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Vf.bind(null,De,!0,a),a.dispatch=i,[t,i]},useMemoCache:wf,useCacheRefresh:function(){return mn().memoizedState=q1.bind(null,De)}},Xg={readContext:tn,use:Xu,useCallback:jg,useContext:tn,useEffect:Og,useImperativeHandle:Pg,useInsertionEffect:Mg,useLayoutEffect:Vg,useMemo:Lg,useReducer:$u,useRef:Dg,useState:function(){return $u(Qi)},useDebugValue:Df,useDeferredValue:function(t,i){var a=Nt();return Ug(a,it.memoizedState,t,i)},useTransition:function(){var t=$u(Qi)[0],i=Nt().memoizedState;return[typeof t=="boolean"?t:nl(t),i]},useSyncExternalStore:mg,useId:Hg,useHostTransitionStatus:Mf,useFormState:Ig,useActionState:Ig,useOptimistic:function(t,i){var a=Nt();return Eg(a,it,t,i)},useMemoCache:wf,useCacheRefresh:Fg},F1={readContext:tn,use:Xu,useCallback:jg,useContext:tn,useEffect:Og,useImperativeHandle:Pg,useInsertionEffect:Mg,useLayoutEffect:Vg,useMemo:Lg,useReducer:If,useRef:Dg,useState:function(){return If(Qi)},useDebugValue:Df,useDeferredValue:function(t,i){var a=Nt();return it===null?xf(a,t,i):Ug(a,it.memoizedState,t,i)},useTransition:function(){var t=If(Qi)[0],i=Nt().memoizedState;return[typeof t=="boolean"?t:nl(t),i]},useSyncExternalStore:mg,useId:Hg,useHostTransitionStatus:Mf,useFormState:Ng,useActionState:Ng,useOptimistic:function(t,i){var a=Nt();return it!==null?Eg(a,it,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:wf,useCacheRefresh:Fg},Na=null,sl=0;function tc(t){var i=sl;return sl+=1,Na===null&&(Na=[]),ag(Na,t,i)}function al(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function nc(t,i){throw i.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function $g(t){var i=t._init;return i(t._payload)}function Zg(t){function i(j,O){if(t){var U=j.deletions;U===null?(j.deletions=[O],j.flags|=16):U.push(O)}}function a(j,O){if(!t)return null;for(;O!==null;)i(j,O),O=O.sibling;return null}function l(j){for(var O=new Map;j!==null;)j.key!==null?O.set(j.key,j):O.set(j.index,j),j=j.sibling;return O}function h(j,O){return j=qi(j,O),j.index=0,j.sibling=null,j}function d(j,O,U){return j.index=U,t?(U=j.alternate,U!==null?(U=U.index,U<O?(j.flags|=67108866,O):U):(j.flags|=67108866,O)):(j.flags|=1048576,O)}function v(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function T(j,O,U,K){return O===null||O.tag!==6?(O=ef(U,j.mode,K),O.return=j,O):(O=h(O,U),O.return=j,O)}function I(j,O,U,K){var le=U.type;return le===Z?Q(j,O,U.props.children,K,U.key):O!==null&&(O.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===R&&$g(le)===O.type)?(O=h(O,U.props),al(O,U),O.return=j,O):(O=Lu(U.type,U.key,U.props,null,j.mode,K),al(O,U),O.return=j,O)}function B(j,O,U,K){return O===null||O.tag!==4||O.stateNode.containerInfo!==U.containerInfo||O.stateNode.implementation!==U.implementation?(O=tf(U,j.mode,K),O.return=j,O):(O=h(O,U.children||[]),O.return=j,O)}function Q(j,O,U,K,le){return O===null||O.tag!==7?(O=Rs(U,j.mode,K,le),O.return=j,O):(O=h(O,U),O.return=j,O)}function X(j,O,U){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=ef(""+O,j.mode,U),O.return=j,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case w:return U=Lu(O.type,O.key,O.props,null,j.mode,U),al(U,O),U.return=j,U;case H:return O=tf(O,j.mode,U),O.return=j,O;case R:var K=O._init;return O=K(O._payload),X(j,O,U)}if(ot(O)||P(O))return O=Rs(O,j.mode,U,null),O.return=j,O;if(typeof O.then=="function")return X(j,tc(O),U);if(O.$$typeof===de)return X(j,qu(j,O),U);nc(j,O)}return null}function z(j,O,U,K){var le=O!==null?O.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return le!==null?null:T(j,O,""+U,K);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case w:return U.key===le?I(j,O,U,K):null;case H:return U.key===le?B(j,O,U,K):null;case R:return le=U._init,U=le(U._payload),z(j,O,U,K)}if(ot(U)||P(U))return le!==null?null:Q(j,O,U,K,null);if(typeof U.then=="function")return z(j,O,tc(U),K);if(U.$$typeof===de)return z(j,O,qu(j,U),K);nc(j,U)}return null}function q(j,O,U,K,le){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return j=j.get(U)||null,T(O,j,""+K,le);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case w:return j=j.get(K.key===null?U:K.key)||null,I(O,j,K,le);case H:return j=j.get(K.key===null?U:K.key)||null,B(O,j,K,le);case R:var Me=K._init;return K=Me(K._payload),q(j,O,U,K,le)}if(ot(K)||P(K))return j=j.get(U)||null,Q(O,j,K,le,null);if(typeof K.then=="function")return q(j,O,U,tc(K),le);if(K.$$typeof===de)return q(j,O,U,qu(O,K),le);nc(O,K)}return null}function be(j,O,U,K){for(var le=null,Me=null,he=O,ve=O=0,Gt=null;he!==null&&ve<U.length;ve++){he.index>ve?(Gt=he,he=null):Gt=he.sibling;var Qe=z(j,he,U[ve],K);if(Qe===null){he===null&&(he=Gt);break}t&&he&&Qe.alternate===null&&i(j,he),O=d(Qe,O,ve),Me===null?le=Qe:Me.sibling=Qe,Me=Qe,he=Gt}if(ve===U.length)return a(j,he),Xe&&Cs(j,ve),le;if(he===null){for(;ve<U.length;ve++)he=X(j,U[ve],K),he!==null&&(O=d(he,O,ve),Me===null?le=he:Me.sibling=he,Me=he);return Xe&&Cs(j,ve),le}for(he=l(he);ve<U.length;ve++)Gt=q(he,j,ve,U[ve],K),Gt!==null&&(t&&Gt.alternate!==null&&he.delete(Gt.key===null?ve:Gt.key),O=d(Gt,O,ve),Me===null?le=Gt:Me.sibling=Gt,Me=Gt);return t&&he.forEach(function(Ur){return i(j,Ur)}),Xe&&Cs(j,ve),le}function ye(j,O,U,K){if(U==null)throw Error(s(151));for(var le=null,Me=null,he=O,ve=O=0,Gt=null,Qe=U.next();he!==null&&!Qe.done;ve++,Qe=U.next()){he.index>ve?(Gt=he,he=null):Gt=he.sibling;var Ur=z(j,he,Qe.value,K);if(Ur===null){he===null&&(he=Gt);break}t&&he&&Ur.alternate===null&&i(j,he),O=d(Ur,O,ve),Me===null?le=Ur:Me.sibling=Ur,Me=Ur,he=Gt}if(Qe.done)return a(j,he),Xe&&Cs(j,ve),le;if(he===null){for(;!Qe.done;ve++,Qe=U.next())Qe=X(j,Qe.value,K),Qe!==null&&(O=d(Qe,O,ve),Me===null?le=Qe:Me.sibling=Qe,Me=Qe);return Xe&&Cs(j,ve),le}for(he=l(he);!Qe.done;ve++,Qe=U.next())Qe=q(he,j,ve,Qe.value,K),Qe!==null&&(t&&Qe.alternate!==null&&he.delete(Qe.key===null?ve:Qe.key),O=d(Qe,O,ve),Me===null?le=Qe:Me.sibling=Qe,Me=Qe);return t&&he.forEach(function(GA){return i(j,GA)}),Xe&&Cs(j,ve),le}function st(j,O,U,K){if(typeof U=="object"&&U!==null&&U.type===Z&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case w:e:{for(var le=U.key;O!==null;){if(O.key===le){if(le=U.type,le===Z){if(O.tag===7){a(j,O.sibling),K=h(O,U.props.children),K.return=j,j=K;break e}}else if(O.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===R&&$g(le)===O.type){a(j,O.sibling),K=h(O,U.props),al(K,U),K.return=j,j=K;break e}a(j,O);break}else i(j,O);O=O.sibling}U.type===Z?(K=Rs(U.props.children,j.mode,K,U.key),K.return=j,j=K):(K=Lu(U.type,U.key,U.props,null,j.mode,K),al(K,U),K.return=j,j=K)}return v(j);case H:e:{for(le=U.key;O!==null;){if(O.key===le)if(O.tag===4&&O.stateNode.containerInfo===U.containerInfo&&O.stateNode.implementation===U.implementation){a(j,O.sibling),K=h(O,U.children||[]),K.return=j,j=K;break e}else{a(j,O);break}else i(j,O);O=O.sibling}K=tf(U,j.mode,K),K.return=j,j=K}return v(j);case R:return le=U._init,U=le(U._payload),st(j,O,U,K)}if(ot(U))return be(j,O,U,K);if(P(U)){if(le=P(U),typeof le!="function")throw Error(s(150));return U=le.call(U),ye(j,O,U,K)}if(typeof U.then=="function")return st(j,O,tc(U),K);if(U.$$typeof===de)return st(j,O,qu(j,U),K);nc(j,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,O!==null&&O.tag===6?(a(j,O.sibling),K=h(O,U),K.return=j,j=K):(a(j,O),K=ef(U,j.mode,K),K.return=j,j=K),v(j)):a(j,O)}return function(j,O,U,K){try{sl=0;var le=st(j,O,U,K);return Na=null,le}catch(he){if(he===$o||he===Fu)throw he;var Me=Tn(29,he,null,j.mode);return Me.lanes=K,Me.return=j,Me}finally{}}}var Da=Zg(!0),Wg=Zg(!1),Ln=J(null),fi=null;function Sr(t){var i=t.alternate;ee(jt,jt.current&1),ee(Ln,t),fi===null&&(i===null||wa.current!==null||i.memoizedState!==null)&&(fi=t)}function Jg(t){if(t.tag===22){if(ee(jt,jt.current),ee(Ln,t),fi===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(fi=t)}}else wr()}function wr(){ee(jt,jt.current),ee(Ln,Ln.current)}function Ki(t){re(Ln),fi===t&&(fi=null),re(jt)}var jt=J(0);function ic(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Sd(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function kf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Pf={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=wn(),h=Tr(l);h.payload=i,a!=null&&(h.callback=a),i=Ar(t,h,l),i!==null&&(Rn(i,t,l),Wo(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=wn(),h=Tr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Ar(t,h,l),i!==null&&(Rn(i,t,l),Wo(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=wn(),l=Tr(a);l.tag=2,i!=null&&(l.callback=i),i=Ar(t,l,a),i!==null&&(Rn(i,t,a),Wo(i,t,a))}};function e_(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!qo(a,l)||!qo(h,d):!0}function t_(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Pf.enqueueReplaceState(i,i.state,null)}function ks(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var rc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function n_(t){rc(t)}function i_(t){console.error(t)}function r_(t){rc(t)}function sc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function s_(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function jf(t,i,a){return a=Tr(a),a.tag=3,a.payload={element:null},a.callback=function(){sc(t,i)},a}function a_(t){return t=Tr(t),t.tag=3,t}function o_(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){s_(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){s_(i,a,l),typeof h!="function"&&(xr===null?xr=new Set([this]):xr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function G1(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Qo(i,a,h,!0),a=Ln.current,a!==null){switch(a.tag){case 13:return fi===null?od():a.alternate===null&&yt===0&&(yt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===ff?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),ud(t,l,h)),!1;case 22:return a.flags|=65536,l===ff?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),ud(t,l,h)),!1}throw Error(s(435,a.tag))}return ud(t,l,h),od(),!1}if(Xe)return i=Ln.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==sf&&(t=Error(s(422),{cause:l}),Yo(Vn(t,a)))):(l!==sf&&(i=Error(s(423),{cause:l}),Yo(Vn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Vn(l,a),h=jf(t.stateNode,l,h),pf(t,h),yt!==4&&(yt=2)),!1;var d=Error(s(520),{cause:l});if(d=Vn(d,a),dl===null?dl=[d]:dl.push(d),yt!==4&&(yt=2),i===null)return!0;l=Vn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=jf(a.stateNode,l,t),pf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(xr===null||!xr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=a_(h),o_(h,t,a,l),pf(a,h),!1}a=a.return}while(a!==null);return!1}var l_=Error(s(461)),Ht=!1;function Xt(t,i,a,l){i.child=t===null?Wg(i,null,a,l):Da(i,t.child,a,l)}function u_(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Os(i),l=Ef(t,i,a,v,d,h),T=Tf(),t!==null&&!Ht?(Af(t,i,h),Xi(t,i,h)):(Xe&&T&&nf(i),i.flags|=1,Xt(t,i,l,h),i.child)}function c_(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Jh(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,h_(t,i,d,l,h)):(t=Lu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Gf(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:qo,a(v,l)&&t.ref===i.ref)return Xi(t,i,h)}return i.flags|=1,t=qi(d,l),t.ref=i.ref,t.return=i,i.child=t}function h_(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(qo(d,l)&&t.ref===i.ref)if(Ht=!1,i.pendingProps=l=d,Gf(t,h))(t.flags&131072)!==0&&(Ht=!0);else return i.lanes=t.lanes,Xi(t,i,h)}return Lf(t,i,a,l,h)}function f_(t,i,a){var l=i.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return d_(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Hu(i,d!==null?d.cachePool:null),d!==null?hg(i,d):_f(),Jg(i);else return i.lanes=i.childLanes=536870912,d_(t,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(Hu(i,d.cachePool),hg(i,d),wr(),i.memoizedState=null):(t!==null&&Hu(i,null),_f(),wr());return Xt(t,i,h,a),i.child}function d_(t,i,a,l){var h=hf();return h=h===null?null:{parent:Pt._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&Hu(i,null),_f(),Jg(i),t!==null&&Qo(t,i,l,!0),null}function ac(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Lf(t,i,a,l,h){return Os(i),a=Ef(t,i,a,l,void 0,h),l=Tf(),t!==null&&!Ht?(Af(t,i,h),Xi(t,i,h)):(Xe&&l&&nf(i),i.flags|=1,Xt(t,i,a,h),i.child)}function m_(t,i,a,l,h,d){return Os(i),i.updateQueue=null,a=dg(i,l,a,h),fg(t),l=Tf(),t!==null&&!Ht?(Af(t,i,d),Xi(t,i,d)):(Xe&&l&&nf(i),i.flags|=1,Xt(t,i,a,d),i.child)}function p_(t,i,a,l,h){if(Os(i),i.stateNode===null){var d=Ea,v=a.contextType;typeof v=="object"&&v!==null&&(d=tn(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Pf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},df(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?tn(v):Ea,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(kf(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Pf.enqueueReplaceState(d,d.state,null),el(i,l,d,h),Jo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,I=ks(a,T);d.props=I;var B=d.context,Q=a.contextType;v=Ea,typeof Q=="object"&&Q!==null&&(v=tn(Q));var X=a.getDerivedStateFromProps;Q=typeof X=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||B!==v)&&t_(i,d,l,v),Er=!1;var z=i.memoizedState;d.state=z,el(i,l,d,h),Jo(),B=i.memoizedState,T||z!==B||Er?(typeof X=="function"&&(kf(i,a,X,l),B=i.memoizedState),(I=Er||e_(i,a,I,l,z,B,v))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=v,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,mf(t,i),v=i.memoizedProps,Q=ks(a,v),d.props=Q,X=i.pendingProps,z=d.context,B=a.contextType,I=Ea,typeof B=="object"&&B!==null&&(I=tn(B)),T=a.getDerivedStateFromProps,(B=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==X||z!==I)&&t_(i,d,l,I),Er=!1,z=i.memoizedState,d.state=z,el(i,l,d,h),Jo();var q=i.memoizedState;v!==X||z!==q||Er||t!==null&&t.dependencies!==null&&zu(t.dependencies)?(typeof T=="function"&&(kf(i,a,T,l),q=i.memoizedState),(Q=Er||e_(i,a,Q,l,z,q,I)||t!==null&&t.dependencies!==null&&zu(t.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,q,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,q,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=q),d.props=l,d.state=q,d.context=I,l=Q):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,ac(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Da(i,t.child,null,h),i.child=Da(i,null,a,h)):Xt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Xi(t,i,h),t}function g_(t,i,a,l){return Go(),i.flags|=256,Xt(t,i,a,l),i.child}var Uf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bf(t){return{baseLanes:t,cachePool:ig()}}function zf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Un),t}function __(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(jt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(Xe){if(h?Sr(i):wr(),Xe){var T=_t,I;if(I=T){e:{for(I=T,T=hi;I.nodeType!==8;){if(!T){T=null;break e}if(I=$n(I.nextSibling),I===null){T=null;break e}}T=I}T!==null?(i.memoizedState={dehydrated:T,treeContext:Is!==null?{id:Hi,overflow:Fi}:null,retryLane:536870912,hydrationErrors:null},I=Tn(18,null,null,0),I.stateNode=T,I.return=i,i.child=I,fn=i,_t=null,I=!0):I=!1}I||Ds(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Sd(T)?i.lanes=32:i.lanes=536870912,null;Ki(i)}return T=l.children,l=l.fallback,h?(wr(),h=i.mode,T=oc({mode:"hidden",children:T},h),l=Rs(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=Bf(a),h.childLanes=zf(t,v,a),i.memoizedState=Uf,l):(Sr(i),qf(i,T))}if(I=t.memoizedState,I!==null&&(T=I.dehydrated,T!==null)){if(d)i.flags&256?(Sr(i),i.flags&=-257,i=Hf(t,i,a)):i.memoizedState!==null?(wr(),i.child=t.child,i.flags|=128,i=null):(wr(),h=l.fallback,T=i.mode,l=oc({mode:"visible",children:l.children},T),h=Rs(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Da(i,t.child,null,a),l=i.child,l.memoizedState=Bf(a),l.childLanes=zf(t,v,a),i.memoizedState=Uf,i=h);else if(Sr(i),Sd(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var B=v.dgst;v=B,l=Error(s(419)),l.stack="",l.digest=v,Yo({value:l,source:null,stack:null}),i=Hf(t,i,a)}else if(Ht||Qo(t,i,a,!1),v=(a&t.childLanes)!==0,Ht||v){if(v=ut,v!==null&&(l=a&-a,l=(l&42)!==0?1:fr(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,va(t,l),Rn(v,t,l),l_;T.data==="$?"||od(),i=Hf(t,i,a)}else T.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=I.treeContext,_t=$n(T.nextSibling),fn=i,Xe=!0,Ns=null,hi=!1,t!==null&&(Pn[jn++]=Hi,Pn[jn++]=Fi,Pn[jn++]=Is,Hi=t.id,Fi=t.overflow,Is=i),i=qf(i,l.children),i.flags|=4096);return i}return h?(wr(),h=l.fallback,T=i.mode,I=t.child,B=I.sibling,l=qi(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,B!==null?h=qi(B,h):(h=Rs(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=t.child.memoizedState,T===null?T=Bf(a):(I=T.cachePool,I!==null?(B=Pt._currentValue,I=I.parent!==B?{parent:B,pool:B}:I):I=ig(),T={baseLanes:T.baseLanes|a,cachePool:I}),h.memoizedState=T,h.childLanes=zf(t,v,a),i.memoizedState=Uf,l):(Sr(i),a=t.child,t=a.sibling,a=qi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function qf(t,i){return i=oc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function oc(t,i){return t=Tn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Hf(t,i,a){return Da(i,t.child,null,a),t=qf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function y_(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),of(t.return,i,a)}function Ff(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function v_(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Xt(t,i,l.children,a),l=jt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&y_(t,a,i);else if(t.tag===19)y_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ee(jt,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&ic(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Ff(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&ic(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Ff(i,!0,a,null,d);break;case"together":Ff(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Xi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Dr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Qo(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=qi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=qi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Gf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&zu(t)))}function Y1(t,i,a){switch(i.tag){case 3:tt(i,i.stateNode.containerInfo),vr(i,Pt,t.memoizedState.cache),Go();break;case 27:case 5:Hn(i);break;case 4:tt(i,i.stateNode.containerInfo);break;case 10:vr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Sr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?__(t,i,a):(Sr(i),t=Xi(t,i,a),t!==null?t.sibling:null);Sr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Qo(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return v_(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ee(jt,jt.current),l)break;return null;case 22:case 23:return i.lanes=0,f_(t,i,a);case 24:vr(i,Pt,t.memoizedState.cache)}return Xi(t,i,a)}function E_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ht=!0;else{if(!Gf(t,a)&&(i.flags&128)===0)return Ht=!1,Y1(t,i,a);Ht=(t.flags&131072)!==0}else Ht=!1,Xe&&(i.flags&1048576)!==0&&$p(i,Bu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Jh(l)?(t=ks(l,t),i.tag=1,i=p_(null,i,l,t,a)):(i.tag=0,i=Lf(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===Ve){i.tag=11,i=u_(null,i,l,t,a);break e}else if(h===V){i.tag=14,i=c_(null,i,l,t,a);break e}}throw i=Et(l)||l,Error(s(306,i,""))}}return i;case 0:return Lf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=ks(l,i.pendingProps),p_(t,i,l,h,a);case 3:e:{if(tt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,mf(t,i),el(i,l,null,a);var v=i.memoizedState;if(l=v.cache,vr(i,Pt,l),l!==d.cache&&lf(i,[Pt],a,!0),Jo(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=g_(t,i,l,a);break e}else if(l!==h){h=Vn(Error(s(424)),i),Yo(h),i=g_(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(_t=$n(t.firstChild),fn=i,Xe=!0,Ns=null,hi=!0,a=Wg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Go(),l===h){i=Xi(t,i,a);break e}Xt(t,i,l,a)}i=i.child}return i;case 26:return ac(t,i),t===null?(a=Sy(i.type,null,i.pendingProps,null))?i.memoizedState=a:Xe||(a=i.type,t=i.pendingProps,l=Tc(Ae.current).createElement(a),l[Mt]=i,l[Rt]=t,Zt(l,a,t),Tt(l),i.stateNode=l):i.memoizedState=Sy(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Hn(i),t===null&&Xe&&(l=i.stateNode=Ty(i.type,i.pendingProps,Ae.current),fn=i,hi=!0,h=_t,Vr(i.type)?(wd=h,_t=$n(l.firstChild)):_t=h),Xt(t,i,i.pendingProps.children,a),ac(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Xe&&((h=l=_t)&&(l=EA(l,i.type,i.pendingProps,hi),l!==null?(i.stateNode=l,fn=i,_t=$n(l.firstChild),hi=!1,h=!0):h=!1),h||Ds(i)),Hn(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Td(h,d)?l=null:v!==null&&Td(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Ef(t,i,L1,null,null,a),Al._currentValue=h),ac(t,i),Xt(t,i,l,a),i.child;case 6:return t===null&&Xe&&((t=a=_t)&&(a=TA(a,i.pendingProps,hi),a!==null?(i.stateNode=a,fn=i,_t=null,t=!0):t=!1),t||Ds(i)),null;case 13:return __(t,i,a);case 4:return tt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Da(i,null,l,a):Xt(t,i,l,a),i.child;case 11:return u_(t,i,i.type,i.pendingProps,a);case 7:return Xt(t,i,i.pendingProps,a),i.child;case 8:return Xt(t,i,i.pendingProps.children,a),i.child;case 12:return Xt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,vr(i,i.type,l.value),Xt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Os(i),h=tn(h),l=l(h),i.flags|=1,Xt(t,i,l,a),i.child;case 14:return c_(t,i,i.type,i.pendingProps,a);case 15:return h_(t,i,i.type,i.pendingProps,a);case 19:return v_(t,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},t===null?(a=oc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=qi(t.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return f_(t,i,a);case 24:return Os(i),l=tn(Pt),t===null?(h=hf(),h===null&&(h=ut,d=uf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},df(i),vr(i,Pt,h)):((t.lanes&a)!==0&&(mf(t,i),el(i,null,null,a),Jo()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),vr(i,Pt,l)):(l=d.cache,vr(i,Pt,l),l!==h.cache&&lf(i,[Pt],a,!0))),Xt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function $i(t){t.flags|=4}function T_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ny(i)){if(i=Ln.current,i!==null&&((He&4194048)===He?fi!==null:(He&62914560)!==He&&(He&536870912)===0||i!==fi))throw Zo=ff,rg;t.flags|=8192}}function lc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?So():536870912,t.lanes|=i,Va|=i)}function ol(t,i){if(!Xe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function pt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function Q1(t,i,a){var l=i.pendingProps;switch(rf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(i),null;case 1:return pt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Yi(Pt),Cn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Fo(i)?$i(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Jp())),pt(i),null;case 26:return a=i.memoizedState,t===null?($i(i),a!==null?(pt(i),T_(i,a)):(pt(i),i.flags&=-16777217)):a?a!==t.memoizedState?($i(i),pt(i),T_(i,a)):(pt(i),i.flags&=-16777217):(t.memoizedProps!==l&&$i(i),pt(i),i.flags&=-16777217),null;case 27:Fn(i),a=Ae.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&$i(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return pt(i),null}t=me.current,Fo(i)?Zp(i):(t=Ty(h,l,a),i.stateNode=t,$i(i))}return pt(i),null;case 5:if(Fn(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&$i(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return pt(i),null}if(t=me.current,Fo(i))Zp(i);else{switch(h=Tc(Ae.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[Mt]=i,t[Rt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(Zt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&$i(i)}}return pt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&$i(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Ae.current,Fo(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=fn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Mt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||my(t.nodeValue,a)),t||Ds(i)}else t=Tc(t).createTextNode(l),t[Mt]=i,i.stateNode=t}return pt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Fo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Mt]=i}else Go(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;pt(i),h=!1}else h=Jp(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Ki(i),i):(Ki(i),null)}if(Ki(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),lc(i,i.updateQueue),pt(i),null;case 4:return Cn(),t===null&&gd(i.stateNode.containerInfo),pt(i),null;case 10:return Yi(i.type),pt(i),null;case 19:if(re(jt),h=i.memoizedState,h===null)return pt(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)ol(h,!1);else{if(yt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=ic(t),d!==null){for(i.flags|=128,ol(h,!1),t=d.updateQueue,i.updateQueue=t,lc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Xp(a,t),a=a.sibling;return ee(jt,jt.current&1|2),i.child}t=t.sibling}h.tail!==null&&Ge()>hc&&(i.flags|=128,l=!0,ol(h,!1),i.lanes=4194304)}else{if(!l)if(t=ic(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,lc(i,t),ol(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Xe)return pt(i),null}else 2*Ge()-h.renderingStartTime>hc&&a!==536870912&&(i.flags|=128,l=!0,ol(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Ge(),i.sibling=null,t=jt.current,ee(jt,l?t&1|2:t&1),i):(pt(i),null);case 22:case 23:return Ki(i),yf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(pt(i),i.subtreeFlags&6&&(i.flags|=8192)):pt(i),a=i.updateQueue,a!==null&&lc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&re(Ms),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Yi(Pt),pt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function K1(t,i){switch(rf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Yi(Pt),Cn(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Fn(i),null;case 13:if(Ki(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Go()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return re(jt),null;case 4:return Cn(),null;case 10:return Yi(i.type),null;case 22:case 23:return Ki(i),yf(),t!==null&&re(Ms),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Yi(Pt),null;case 25:return null;default:return null}}function A_(t,i){switch(rf(i),i.tag){case 3:Yi(Pt),Cn();break;case 26:case 27:case 5:Fn(i);break;case 4:Cn();break;case 13:Ki(i);break;case 19:re(jt);break;case 10:Yi(i.type);break;case 22:case 23:Ki(i),yf(),t!==null&&re(Ms);break;case 24:Yi(Pt)}}function ll(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){at(i,i.return,T)}}function Rr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var I=a,B=T;try{B()}catch(Q){at(h,I,Q)}}}l=l.next}while(l!==d)}}catch(Q){at(i,i.return,Q)}}function b_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{cg(i,a)}catch(l){at(t,t.return,l)}}}function S_(t,i,a){a.props=ks(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){at(t,i,l)}}function ul(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){at(t,i,h)}}function di(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){at(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){at(t,i,h)}else a.current=null}function w_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){at(t,t.return,h)}}function Yf(t,i,a){try{var l=t.stateNode;pA(l,t.type,a,i),l[Rt]=i}catch(h){at(t,t.return,h)}}function R_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Vr(t.type)||t.tag===4}function Qf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||R_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Vr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Kf(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Ec));else if(l!==4&&(l===27&&Vr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Kf(t,i,a),t=t.sibling;t!==null;)Kf(t,i,a),t=t.sibling}function uc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Vr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(uc(t,i,a),t=t.sibling;t!==null;)uc(t,i,a),t=t.sibling}function I_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Zt(i,l,a),i[Mt]=t,i[Rt]=a}catch(d){at(t,t.return,d)}}var Zi=!1,bt=!1,Xf=!1,C_=typeof WeakSet=="function"?WeakSet:Set,Ft=null;function X1(t,i){if(t=t.containerInfo,vd=Ic,t=Up(t),Yh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,I=-1,B=0,Q=0,X=t,z=null;t:for(;;){for(var q;X!==a||h!==0&&X.nodeType!==3||(T=v+h),X!==d||l!==0&&X.nodeType!==3||(I=v+l),X.nodeType===3&&(v+=X.nodeValue.length),(q=X.firstChild)!==null;)z=X,X=q;for(;;){if(X===t)break t;if(z===a&&++B===h&&(T=v),z===d&&++Q===l&&(I=v),(q=X.nextSibling)!==null)break;X=z,z=X.parentNode}X=q}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ed={focusedElem:t,selectionRange:a},Ic=!1,Ft=i;Ft!==null;)if(i=Ft,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Ft=t;else for(;Ft!==null;){switch(i=Ft,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var be=ks(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(be,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ye){at(a,a.return,ye)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)bd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":bd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Ft=t;break}Ft=i.return}}function N_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ir(t,a),l&4&&ll(5,a);break;case 1:if(Ir(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){at(a,a.return,v)}else{var h=ks(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){at(a,a.return,v)}}l&64&&b_(a),l&512&&ul(a,a.return);break;case 3:if(Ir(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{cg(t,i)}catch(v){at(a,a.return,v)}}break;case 27:i===null&&l&4&&I_(a);case 26:case 5:Ir(t,a),i===null&&l&4&&w_(a),l&512&&ul(a,a.return);break;case 12:Ir(t,a);break;case 13:Ir(t,a),l&4&&O_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=rA.bind(null,a),AA(t,a))));break;case 22:if(l=a.memoizedState!==null||Zi,!l){i=i!==null&&i.memoizedState!==null||bt,h=Zi;var d=bt;Zi=l,(bt=i)&&!d?Cr(t,a,(a.subtreeFlags&8772)!==0):Ir(t,a),Zi=h,bt=d}break;case 30:break;default:Ir(t,a)}}function D_(t){var i=t.alternate;i!==null&&(t.alternate=null,D_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&pr(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var mt=null,pn=!1;function Wi(t,i,a){for(a=a.child;a!==null;)x_(t,i,a),a=a.sibling}function x_(t,i,a){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(ht,a)}catch{}switch(a.tag){case 26:bt||di(a,i),Wi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:bt||di(a,i);var l=mt,h=pn;Vr(a.type)&&(mt=a.stateNode,pn=!1),Wi(t,i,a),yl(a.stateNode),mt=l,pn=h;break;case 5:bt||di(a,i);case 6:if(l=mt,h=pn,mt=null,Wi(t,i,a),mt=l,pn=h,mt!==null)if(pn)try{(mt.nodeType===9?mt.body:mt.nodeName==="HTML"?mt.ownerDocument.body:mt).removeChild(a.stateNode)}catch(d){at(a,i,d)}else try{mt.removeChild(a.stateNode)}catch(d){at(a,i,d)}break;case 18:mt!==null&&(pn?(t=mt,vy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Rl(t)):vy(mt,a.stateNode));break;case 4:l=mt,h=pn,mt=a.stateNode.containerInfo,pn=!0,Wi(t,i,a),mt=l,pn=h;break;case 0:case 11:case 14:case 15:bt||Rr(2,a,i),bt||Rr(4,a,i),Wi(t,i,a);break;case 1:bt||(di(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&S_(a,i,l)),Wi(t,i,a);break;case 21:Wi(t,i,a);break;case 22:bt=(l=bt)||a.memoizedState!==null,Wi(t,i,a),bt=l;break;default:Wi(t,i,a)}}function O_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Rl(t)}catch(a){at(i,i.return,a)}}function $1(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new C_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new C_),i;default:throw Error(s(435,t.tag))}}function $f(t,i){var a=$1(t);i.forEach(function(l){var h=sA.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function An(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(Vr(T.type)){mt=T.stateNode,pn=!1;break e}break;case 5:mt=T.stateNode,pn=!1;break e;case 3:case 4:mt=T.stateNode.containerInfo,pn=!0;break e}T=T.return}if(mt===null)throw Error(s(160));x_(d,v,h),mt=null,pn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)M_(i,t),i=i.sibling}var Xn=null;function M_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:An(i,t),bn(t),l&4&&(Rr(3,t,t.return),ll(3,t),Rr(5,t,t.return));break;case 1:An(i,t),bn(t),l&512&&(bt||a===null||di(a,a.return)),l&64&&Zi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Xn;if(An(i,t),bn(t),l&512&&(bt||a===null||di(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[cs]||d[Mt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Zt(d,l,a),d[Mt]=t,Tt(d),l=d;break e;case"link":var v=Iy("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=h.createElement(l),Zt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=Iy("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=h.createElement(l),Zt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Mt]=t,Tt(d),l=d}t.stateNode=l}else Cy(h,t.type,t.stateNode);else t.stateNode=Ry(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Cy(h,t.type,t.stateNode):Ry(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Yf(t,t.memoizedProps,a.memoizedProps)}break;case 27:An(i,t),bn(t),l&512&&(bt||a===null||di(a,a.return)),a!==null&&l&4&&Yf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(An(i,t),bn(t),l&512&&(bt||a===null||di(a,a.return)),t.flags&32){h=t.stateNode;try{Dn(h,"")}catch(q){at(t,t.return,q)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Yf(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Xf=!0);break;case 6:if(An(i,t),bn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(q){at(t,t.return,q)}}break;case 3:if(Sc=null,h=Xn,Xn=Ac(i.containerInfo),An(i,t),Xn=h,bn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Rl(i.containerInfo)}catch(q){at(t,t.return,q)}Xf&&(Xf=!1,V_(t));break;case 4:l=Xn,Xn=Ac(t.stateNode.containerInfo),An(i,t),bn(t),Xn=l;break;case 12:An(i,t),bn(t);break;case 13:An(i,t),bn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(nd=Ge()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,$f(t,l)));break;case 22:h=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,B=Zi,Q=bt;if(Zi=B||h,bt=Q||I,An(i,t),bt=Q,Zi=B,bn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||I||Zi||bt||Ps(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(d=I.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=I.stateNode;var X=I.memoizedProps.style,z=X!=null&&X.hasOwnProperty("display")?X.display:null;T.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(q){at(I,I.return,q)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(q){at(I,I.return,q)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,$f(t,a))));break;case 19:An(i,t),bn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,$f(t,l)));break;case 30:break;case 21:break;default:An(i,t),bn(t)}}function bn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(R_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Qf(t);uc(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(Dn(v,""),a.flags&=-33);var T=Qf(t);uc(t,T,v);break;case 3:case 4:var I=a.stateNode.containerInfo,B=Qf(t);Kf(t,B,I);break;default:throw Error(s(161))}}catch(Q){at(t,t.return,Q)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function V_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;V_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Ir(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)N_(t,i.alternate,i),i=i.sibling}function Ps(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Rr(4,i,i.return),Ps(i);break;case 1:di(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&S_(i,i.return,a),Ps(i);break;case 27:yl(i.stateNode);case 26:case 5:di(i,i.return),Ps(i);break;case 22:i.memoizedState===null&&Ps(i);break;case 30:Ps(i);break;default:Ps(i)}t=t.sibling}}function Cr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Cr(h,d,a),ll(4,d);break;case 1:if(Cr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){at(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)ug(I[h],T)}catch(B){at(l,l.return,B)}}a&&v&64&&b_(d),ul(d,d.return);break;case 27:I_(d);case 26:case 5:Cr(h,d,a),a&&l===null&&v&4&&w_(d),ul(d,d.return);break;case 12:Cr(h,d,a);break;case 13:Cr(h,d,a),a&&v&4&&O_(h,d);break;case 22:d.memoizedState===null&&Cr(h,d,a),ul(d,d.return);break;case 30:break;default:Cr(h,d,a)}i=i.sibling}}function Zf(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Ko(a))}function Wf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Ko(t))}function mi(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)k_(t,i,a,l),i=i.sibling}function k_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:mi(t,i,a,l),h&2048&&ll(9,i);break;case 1:mi(t,i,a,l);break;case 3:mi(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Ko(t)));break;case 12:if(h&2048){mi(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){at(i,i.return,I)}}else mi(t,i,a,l);break;case 13:mi(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?mi(t,i,a,l):cl(t,i):d._visibility&2?mi(t,i,a,l):(d._visibility|=2,xa(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&Zf(v,i);break;case 24:mi(t,i,a,l),h&2048&&Wf(i.alternate,i);break;default:mi(t,i,a,l)}}function xa(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,v=i,T=a,I=l,B=v.flags;switch(v.tag){case 0:case 11:case 15:xa(d,v,T,I,h),ll(8,v);break;case 23:break;case 22:var Q=v.stateNode;v.memoizedState!==null?Q._visibility&2?xa(d,v,T,I,h):cl(d,v):(Q._visibility|=2,xa(d,v,T,I,h)),h&&B&2048&&Zf(v.alternate,v);break;case 24:xa(d,v,T,I,h),h&&B&2048&&Wf(v.alternate,v);break;default:xa(d,v,T,I,h)}i=i.sibling}}function cl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:cl(a,l),h&2048&&Zf(l.alternate,l);break;case 24:cl(a,l),h&2048&&Wf(l.alternate,l);break;default:cl(a,l)}i=i.sibling}}var hl=8192;function Oa(t){if(t.subtreeFlags&hl)for(t=t.child;t!==null;)P_(t),t=t.sibling}function P_(t){switch(t.tag){case 26:Oa(t),t.flags&hl&&t.memoizedState!==null&&kA(Xn,t.memoizedState,t.memoizedProps);break;case 5:Oa(t);break;case 3:case 4:var i=Xn;Xn=Ac(t.stateNode.containerInfo),Oa(t),Xn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=hl,hl=16777216,Oa(t),hl=i):Oa(t));break;default:Oa(t)}}function j_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function fl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ft=l,U_(l,t)}j_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)L_(t),t=t.sibling}function L_(t){switch(t.tag){case 0:case 11:case 15:fl(t),t.flags&2048&&Rr(9,t,t.return);break;case 3:fl(t);break;case 12:fl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,cc(t)):fl(t);break;default:fl(t)}}function cc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ft=l,U_(l,t)}j_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Rr(8,i,i.return),cc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,cc(i));break;default:cc(i)}t=t.sibling}}function U_(t,i){for(;Ft!==null;){var a=Ft;switch(a.tag){case 0:case 11:case 15:Rr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ko(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ft=l;else e:for(a=t;Ft!==null;){l=Ft;var h=l.sibling,d=l.return;if(D_(l),l===a){Ft=null;break e}if(h!==null){h.return=d,Ft=h;break e}Ft=d}}}var Z1={getCacheForType:function(t){var i=tn(Pt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},W1=typeof WeakMap=="function"?WeakMap:Map,Je=0,ut=null,Pe=null,He=0,et=0,Sn=null,Nr=!1,Ma=!1,Jf=!1,Ji=0,yt=0,Dr=0,js=0,ed=0,Un=0,Va=0,dl=null,gn=null,td=!1,nd=0,hc=1/0,fc=null,xr=null,$t=0,Or=null,ka=null,Pa=0,id=0,rd=null,B_=null,ml=0,sd=null;function wn(){if((Je&2)!==0&&He!==0)return He&-He;if(Y.T!==null){var t=ba;return t!==0?t:fd()}return dr()}function z_(){Un===0&&(Un=(He&536870912)===0||Xe?bo():536870912);var t=Ln.current;return t!==null&&(t.flags|=32),Un}function Rn(t,i,a){(t===ut&&(et===2||et===9)||t.cancelPendingCommit!==null)&&(ja(t,0),Mr(t,He,Un,!1)),xi(t,a),((Je&2)===0||t!==ut)&&(t===ut&&((Je&2)===0&&(js|=a),yt===4&&Mr(t,He,Un,!1)),pi(t))}function q_(t,i,a){if((Je&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&t.expiredLanes)===0||us(t,i),h=l?tA(t,i):ld(t,i,!0),d=l;do{if(h===0){Ma&&!l&&Mr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!J1(a)){h=ld(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var T=t;h=dl;var I=T.current.memoizedState.isDehydrated;if(I&&(ja(T,v).flags|=256),v=ld(T,v,!1),v!==2){if(Jf&&!I){T.errorRecoveryDisabledLanes|=d,js|=d,h=4;break e}d=gn,gn=h,d!==null&&(gn===null?gn=d:gn.push.apply(gn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){ja(t,0),Mr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Mr(l,i,Un,!Nr);break e;case 2:gn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=nd+300-Ge(),10<h)){if(Mr(l,i,Un,!Nr),ea(l,0,!0)!==0)break e;l.timeoutHandle=_y(H_.bind(null,l,a,gn,fc,td,i,Un,js,Va,Nr,d,2,-0,0),h);break e}H_(l,a,gn,fc,td,i,Un,js,Va,Nr,d,0,-0,0)}}break}while(!0);pi(t)}function H_(t,i,a,l,h,d,v,T,I,B,Q,X,z,q){if(t.timeoutHandle=-1,X=i.subtreeFlags,(X&8192||(X&16785408)===16785408)&&(Tl={stylesheets:null,count:0,unsuspend:VA},P_(i),X=PA(),X!==null)){t.cancelPendingCommit=X($_.bind(null,t,i,d,a,l,h,v,T,I,Q,1,z,q)),Mr(t,d,v,!B);return}$_(t,i,d,a,l,h,v,T,I)}function J1(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!En(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Mr(t,i,a,l){i&=~ed,i&=~js,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-Bt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&ei(t,a,i)}function dc(){return(Je&6)===0?(pl(0),!1):!0}function ad(){if(Pe!==null){if(et===0)var t=Pe.return;else t=Pe,Gi=xs=null,bf(t),Na=null,sl=0,t=Pe;for(;t!==null;)A_(t.alternate,t),t=t.return;Pe=null}}function ja(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,_A(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ad(),ut=t,Pe=a=qi(t.current,null),He=i,et=0,Sn=null,Nr=!1,Ma=us(t,i),Jf=!1,Va=Un=ed=js=Dr=yt=0,gn=dl=null,td=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Bt(l),d=1<<h;i|=t[h],l&=~d}return Ji=i,ku(),a}function F_(t,i){De=null,Y.H=ec,i===$o||i===Fu?(i=og(),et=3):i===rg?(i=og(),et=4):et=i===l_?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Sn=i,Pe===null&&(yt=1,sc(t,Vn(i,t.current)))}function G_(){var t=Y.H;return Y.H=ec,t===null?ec:t}function Y_(){var t=Y.A;return Y.A=Z1,t}function od(){yt=4,Nr||(He&4194048)!==He&&Ln.current!==null||(Ma=!0),(Dr&134217727)===0&&(js&134217727)===0||ut===null||Mr(ut,He,Un,!1)}function ld(t,i,a){var l=Je;Je|=2;var h=G_(),d=Y_();(ut!==t||He!==i)&&(fc=null,ja(t,i)),i=!1;var v=yt;e:do try{if(et!==0&&Pe!==null){var T=Pe,I=Sn;switch(et){case 8:ad(),v=6;break e;case 3:case 2:case 9:case 6:Ln.current===null&&(i=!0);var B=et;if(et=0,Sn=null,La(t,T,I,B),a&&Ma){v=0;break e}break;default:B=et,et=0,Sn=null,La(t,T,I,B)}}eA(),v=yt;break}catch(Q){F_(t,Q)}while(!0);return i&&t.shellSuspendCounter++,Gi=xs=null,Je=l,Y.H=h,Y.A=d,Pe===null&&(ut=null,He=0,ku()),v}function eA(){for(;Pe!==null;)Q_(Pe)}function tA(t,i){var a=Je;Je|=2;var l=G_(),h=Y_();ut!==t||He!==i?(fc=null,hc=Ge()+500,ja(t,i)):Ma=us(t,i);e:do try{if(et!==0&&Pe!==null){i=Pe;var d=Sn;t:switch(et){case 1:et=0,Sn=null,La(t,i,d,1);break;case 2:case 9:if(sg(d)){et=0,Sn=null,K_(i);break}i=function(){et!==2&&et!==9||ut!==t||(et=7),pi(t)},d.then(i,i);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:sg(d)?(et=0,Sn=null,K_(i)):(et=0,Sn=null,La(t,i,d,7));break;case 5:var v=null;switch(Pe.tag){case 26:v=Pe.memoizedState;case 5:case 27:var T=Pe;if(!v||Ny(v)){et=0,Sn=null;var I=T.sibling;if(I!==null)Pe=I;else{var B=T.return;B!==null?(Pe=B,mc(B)):Pe=null}break t}}et=0,Sn=null,La(t,i,d,5);break;case 6:et=0,Sn=null,La(t,i,d,6);break;case 8:ad(),yt=6;break e;default:throw Error(s(462))}}nA();break}catch(Q){F_(t,Q)}while(!0);return Gi=xs=null,Y.H=l,Y.A=h,Je=a,Pe!==null?0:(ut=null,He=0,ku(),yt)}function nA(){for(;Pe!==null&&!ge();)Q_(Pe)}function Q_(t){var i=E_(t.alternate,t,Ji);t.memoizedProps=t.pendingProps,i===null?mc(t):Pe=i}function K_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=m_(a,i,i.pendingProps,i.type,void 0,He);break;case 11:i=m_(a,i,i.pendingProps,i.type.render,i.ref,He);break;case 5:bf(i);default:A_(a,i),i=Pe=Xp(i,Ji),i=E_(a,i,Ji)}t.memoizedProps=t.pendingProps,i===null?mc(t):Pe=i}function La(t,i,a,l){Gi=xs=null,bf(i),Na=null,sl=0;var h=i.return;try{if(G1(t,h,i,a,He)){yt=1,sc(t,Vn(a,t.current)),Pe=null;return}}catch(d){if(h!==null)throw Pe=h,d;yt=1,sc(t,Vn(a,t.current)),Pe=null;return}i.flags&32768?(Xe||l===1?t=!0:Ma||(He&536870912)!==0?t=!1:(Nr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Ln.current,l!==null&&l.tag===13&&(l.flags|=16384))),X_(i,t)):mc(i)}function mc(t){var i=t;do{if((i.flags&32768)!==0){X_(i,Nr);return}t=i.return;var a=Q1(i.alternate,i,Ji);if(a!==null){Pe=a;return}if(i=i.sibling,i!==null){Pe=i;return}Pe=i=t}while(i!==null);yt===0&&(yt=5)}function X_(t,i){do{var a=K1(t.alternate,t);if(a!==null){a.flags&=32767,Pe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Pe=t;return}Pe=t=a}while(t!==null);yt=6,Pe=null}function $_(t,i,a,l,h,d,v,T,I){t.cancelPendingCommit=null;do pc();while($t!==0);if((Je&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Zh,wo(t,a,d,v,T,I),t===ut&&(Pe=ut=null,He=0),ka=i,Or=t,Pa=a,id=d,rd=h,B_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,aA(Ni,function(){return ty(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,h=te.p,te.p=2,v=Je,Je|=4;try{X1(t,i,a)}finally{Je=v,te.p=h,Y.T=l}}$t=1,Z_(),W_(),J_()}}function Z_(){if($t===1){$t=0;var t=Or,i=ka,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=te.p;te.p=2;var h=Je;Je|=4;try{M_(i,t);var d=Ed,v=Up(t.containerInfo),T=d.focusedElem,I=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&Lp(T.ownerDocument.documentElement,T)){if(I!==null&&Yh(T)){var B=I.start,Q=I.end;if(Q===void 0&&(Q=B),"selectionStart"in T)T.selectionStart=B,T.selectionEnd=Math.min(Q,T.value.length);else{var X=T.ownerDocument||document,z=X&&X.defaultView||window;if(z.getSelection){var q=z.getSelection(),be=T.textContent.length,ye=Math.min(I.start,be),st=I.end===void 0?ye:Math.min(I.end,be);!q.extend&&ye>st&&(v=st,st=ye,ye=v);var j=jp(T,ye),O=jp(T,st);if(j&&O&&(q.rangeCount!==1||q.anchorNode!==j.node||q.anchorOffset!==j.offset||q.focusNode!==O.node||q.focusOffset!==O.offset)){var U=X.createRange();U.setStart(j.node,j.offset),q.removeAllRanges(),ye>st?(q.addRange(U),q.extend(O.node,O.offset)):(U.setEnd(O.node,O.offset),q.addRange(U))}}}}for(X=[],q=T;q=q.parentNode;)q.nodeType===1&&X.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<X.length;T++){var K=X[T];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Ic=!!vd,Ed=vd=null}finally{Je=h,te.p=l,Y.T=a}}t.current=i,$t=2}}function W_(){if($t===2){$t=0;var t=Or,i=ka,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=te.p;te.p=2;var h=Je;Je|=4;try{N_(t,i.alternate,i)}finally{Je=h,te.p=l,Y.T=a}}$t=3}}function J_(){if($t===4||$t===3){$t=0,Oe();var t=Or,i=ka,a=Pa,l=B_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?$t=5:($t=0,ka=Or=null,ey(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(xr=null),ta(a),i=i.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(ht,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Y.T,h=te.p,te.p=2,Y.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{Y.T=i,te.p=h}}(Pa&3)!==0&&pc(),pi(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===sd?ml++:(ml=0,sd=t):ml=0,pl(0)}}function ey(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Ko(i)))}function pc(t){return Z_(),W_(),J_(),ty()}function ty(){if($t!==5)return!1;var t=Or,i=id;id=0;var a=ta(Pa),l=Y.T,h=te.p;try{te.p=32>a?32:a,Y.T=null,a=rd,rd=null;var d=Or,v=Pa;if($t=0,ka=Or=null,Pa=0,(Je&6)!==0)throw Error(s(331));var T=Je;if(Je|=4,L_(d.current),k_(d,d.current,v,a),Je=T,pl(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(ht,d)}catch{}return!0}finally{te.p=h,Y.T=l,ey(t,i)}}function ny(t,i,a){i=Vn(a,i),i=jf(t.stateNode,i,2),t=Ar(t,i,2),t!==null&&(xi(t,2),pi(t))}function at(t,i,a){if(t.tag===3)ny(t,t,a);else for(;i!==null;){if(i.tag===3){ny(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(xr===null||!xr.has(l))){t=Vn(a,t),a=a_(2),l=Ar(i,a,2),l!==null&&(o_(a,l,i,t),xi(l,2),pi(l));break}}i=i.return}}function ud(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new W1;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Jf=!0,h.add(a),t=iA.bind(null,t,i,a),i.then(t,t))}function iA(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ut===t&&(He&a)===a&&(yt===4||yt===3&&(He&62914560)===He&&300>Ge()-nd?(Je&2)===0&&ja(t,0):ed|=a,Va===He&&(Va=0)),pi(t)}function iy(t,i){i===0&&(i=So()),t=va(t,i),t!==null&&(xi(t,i),pi(t))}function rA(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),iy(t,a)}function sA(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),iy(t,a)}function aA(t,i){return Ii(t,i)}var gc=null,Ua=null,cd=!1,_c=!1,hd=!1,Ls=0;function pi(t){t!==Ua&&t.next===null&&(Ua===null?gc=Ua=t:Ua=Ua.next=t),_c=!0,cd||(cd=!0,lA())}function pl(t,i){if(!hd&&_c){hd=!0;do for(var a=!1,l=gc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Bt(42|t)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,oy(l,d))}else d=He,d=ea(l,l===ut?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||us(l,d)||(a=!0,oy(l,d));l=l.next}while(a);hd=!1}}function oA(){ry()}function ry(){_c=cd=!1;var t=0;Ls!==0&&(gA()&&(t=Ls),Ls=0);for(var i=Ge(),a=null,l=gc;l!==null;){var h=l.next,d=sy(l,i);d===0?(l.next=null,a===null?gc=h:a.next=h,h===null&&(Ua=a)):(a=l,(t!==0||(d&3)!==0)&&(_c=!0)),l=h}pl(t)}function sy(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-Bt(d),T=1<<v,I=h[v];I===-1?((T&a)===0||(T&l)!==0)&&(h[v]=Ao(T,i)):I<=i&&(t.expiredLanes|=T),d&=~T}if(i=ut,a=He,a=ea(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(et===2||et===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ci(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||us(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Ci(l),ta(a)){case 2:case 8:a=cr;break;case 32:a=Ni;break;case 268435456:a=hr;break;default:a=Ni}return l=ay.bind(null,t),a=Ii(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Ci(l),t.callbackPriority=2,t.callbackNode=null,2}function ay(t,i){if($t!==0&&$t!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(pc()&&t.callbackNode!==a)return null;var l=He;return l=ea(t,t===ut?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(q_(t,l,i),sy(t,Ge()),t.callbackNode!=null&&t.callbackNode===a?ay.bind(null,t):null)}function oy(t,i){if(pc())return null;q_(t,i,!0)}function lA(){yA(function(){(Je&6)!==0?Ii(os,oA):ry()})}function fd(){return Ls===0&&(Ls=bo()),Ls}function ly(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:oa(""+t)}function uy(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function uA(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=ly((h[Rt]||null).action),v=l.submitter;v&&(i=(i=v[Rt]||null)?ly(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new la("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ls!==0){var I=v?uy(h,v):new FormData(h);Of(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=v?uy(h,v):new FormData(h),Of(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var dd=0;dd<$h.length;dd++){var md=$h[dd],cA=md.toLowerCase(),hA=md[0].toUpperCase()+md.slice(1);Kn(cA,"on"+hA)}Kn(qp,"onAnimationEnd"),Kn(Hp,"onAnimationIteration"),Kn(Fp,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(C1,"onTransitionRun"),Kn(N1,"onTransitionStart"),Kn(D1,"onTransitionCancel"),Kn(Gp,"onTransitionEnd"),Mi("onMouseEnter",["mouseout","mouseover"]),Mi("onMouseLeave",["mouseout","mouseover"]),Mi("onPointerEnter",["pointerout","pointerover"]),Mi("onPointerLeave",["pointerout","pointerover"]),Yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gl));function cy(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],I=T.instance,B=T.currentTarget;if(T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=B;try{d(h)}catch(Q){rc(Q)}h.currentTarget=null,d=I}else for(v=0;v<l.length;v++){if(T=l[v],I=T.instance,B=T.currentTarget,T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=B;try{d(h)}catch(Q){rc(Q)}h.currentTarget=null,d=I}}}}function je(t,i){var a=i[Io];a===void 0&&(a=i[Io]=new Set);var l=t+"__bubble";a.has(l)||(hy(i,t,2,!1),a.add(l))}function pd(t,i,a){var l=0;i&&(l|=4),hy(a,t,l,i)}var yc="_reactListening"+Math.random().toString(36).slice(2);function gd(t){if(!t[yc]){t[yc]=!0,Co.forEach(function(a){a!=="selectionchange"&&(fA.has(a)||pd(a,!1,t),pd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[yc]||(i[yc]=!0,pd("selectionchange",!1,i))}}function hy(t,i,a,l){switch(ky(i)){case 2:var h=UA;break;case 8:h=BA;break;default:h=Dd}a=h.bind(null,i,a,t),h=void 0,!On||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function _d(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=Oi(T),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=d=v;continue e}T=T.parentNode}}l=l.return}Eu(function(){var B=d,Q=xn(a),X=[];e:{var z=Yp.get(t);if(z!==void 0){var q=la,be=t;switch(t){case"keypress":if(ai(a)===0)break e;case"keydown":case"keyup":q=ma;break;case"focusin":be="focus",q=ha;break;case"focusout":be="blur",q=ha;break;case"beforeblur":case"afterblur":q=ha;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=qh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=Cu;break;case qp:case Hp:case Fp:q=fa;break;case Gp:q=Du;break;case"scroll":case"scrollend":q=Tu;break;case"wheel":q=pa;break;case"copy":case"cut":case"paste":q=da;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Bo;break;case"toggle":case"beforetoggle":q=Ou}var ye=(i&4)!==0,st=!ye&&(t==="scroll"||t==="scrollend"),j=ye?z!==null?z+"Capture":null:z;ye=[];for(var O=B,U;O!==null;){var K=O;if(U=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||U===null||j===null||(K=_s(O,j),K!=null&&ye.push(_l(O,K,U))),st)break;O=O.return}0<ye.length&&(z=new q(z,be,null,a,Q),X.push({event:z,listeners:ye}))}}if((i&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",z&&a!==Pi&&(be=a.relatedTarget||a.fromElement)&&(Oi(be)||be[Nn]))break e;if((q||z)&&(z=Q.window===Q?Q:(z=Q.ownerDocument)?z.defaultView||z.parentWindow:window,q?(be=a.relatedTarget||a.toElement,q=B,be=be?Oi(be):null,be!==null&&(st=u(be),ye=be.tag,be!==st||ye!==5&&ye!==27&&ye!==6)&&(be=null)):(q=null,be=B),q!==be)){if(ye=Mn,K="onMouseLeave",j="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(ye=Bo,K="onPointerLeave",j="onPointerEnter",O="pointer"),st=q==null?z:ni(q),U=be==null?z:ni(be),z=new ye(K,O+"leave",q,a,Q),z.target=st,z.relatedTarget=U,K=null,Oi(Q)===B&&(ye=new ye(j,O+"enter",be,a,Q),ye.target=U,ye.relatedTarget=st,K=ye),st=K,q&&be)t:{for(ye=q,j=be,O=0,U=ye;U;U=Ba(U))O++;for(U=0,K=j;K;K=Ba(K))U++;for(;0<O-U;)ye=Ba(ye),O--;for(;0<U-O;)j=Ba(j),U--;for(;O--;){if(ye===j||j!==null&&ye===j.alternate)break t;ye=Ba(ye),j=Ba(j)}ye=null}else ye=null;q!==null&&fy(X,z,q,ye,!1),be!==null&&st!==null&&fy(X,st,be,ye,!0)}}e:{if(z=B?ni(B):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var le=xp;else if(kt(z))if(Op)le=w1;else{le=b1;var Me=A1}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?B&&Mo(B.elementType)&&(le=xp):le=S1;if(le&&(le=le(t,B))){zi(X,le,a,Q);break e}Me&&Me(t,z,B),t==="focusout"&&B&&z.type==="number"&&B.memoizedProps.value!=null&&_r(z,"number",z.value)}switch(Me=B?ni(B):window,t){case"focusin":(kt(Me)||Me.contentEditable==="true")&&(ga=Me,Qh=B,Ho=null);break;case"focusout":Ho=Qh=ga=null;break;case"mousedown":Kh=!0;break;case"contextmenu":case"mouseup":case"dragend":Kh=!1,Bp(X,a,Q);break;case"selectionchange":if(I1)break;case"keydown":case"keyup":Bp(X,a,Q)}var he;if(ui)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else ze?F(t,a)&&(ve="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ve="onCompositionStart");ve&&(y&&a.locale!=="ko"&&(ze||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&ze&&(he=ko()):(si=Q,yr="value"in si?si.value:si.textContent,ze=!0)),Me=vc(B,ve),0<Me.length&&(ve=new Lo(ve,t,null,a,Q),X.push({event:ve,listeners:Me}),he?ve.data=he:(he=ne(a),he!==null&&(ve.data=he)))),(he=p?Vt(t,a):qe(t,a))&&(ve=vc(B,"onBeforeInput"),0<ve.length&&(Me=new Lo("onBeforeInput","beforeinput",null,a,Q),X.push({event:Me,listeners:ve}),Me.data=he)),uA(X,t,B,a,Q)}cy(X,i)})}function _l(t,i,a){return{instance:t,listener:i,currentTarget:a}}function vc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=_s(t,a),h!=null&&l.unshift(_l(t,h,d)),h=_s(t,i),h!=null&&l.push(_l(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Ba(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function fy(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var T=a,I=T.alternate,B=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||B===null||(I=B,h?(B=_s(a,d),B!=null&&v.unshift(_l(a,B,I))):h||(B=_s(a,d),B!=null&&v.push(_l(a,B,I)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var dA=/\r\n?/g,mA=/\u0000|\uFFFD/g;function dy(t){return(typeof t=="string"?t:""+t).replace(dA,`
`).replace(mA,"")}function my(t,i){return i=dy(i),dy(t)===i}function Ec(){}function rt(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Dn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Dn(t,""+l);break;case"className":ii(t,"class",l);break;case"tabIndex":ii(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ii(t,a,l);break;case"style":Oo(t,l,d);break;case"data":if(i!=="object"){ii(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=oa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&rt(t,i,"name",h.name,h,null),rt(t,i,"formEncType",h.formEncType,h,null),rt(t,i,"formMethod",h.formMethod,h,null),rt(t,i,"formTarget",h.formTarget,h,null)):(rt(t,i,"encType",h.encType,h,null),rt(t,i,"method",h.method,h,null),rt(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=oa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Ec);break;case"onScroll":l!=null&&je("scroll",t);break;case"onScrollEnd":l!=null&&je("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=oa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":je("beforetoggle",t),je("toggle",t),gr(t,"popover",l);break;case"xlinkActuate":Qt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Qt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Qt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Qt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Qt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Qt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Qt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Qt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Qt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":gr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Bh.get(a)||a,gr(t,a,l))}}function yd(t,i,a,l,h,d){switch(a){case"style":Oo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Dn(t,l):(typeof l=="number"||typeof l=="bigint")&&Dn(t,""+l);break;case"onScroll":l!=null&&je("scroll",t);break;case"onScrollEnd":l!=null&&je("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Ec);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!na.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Rt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):gr(t,a,l)}}}function Zt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",t),je("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:rt(t,i,d,v,a,null)}}h&&rt(t,i,"srcSet",a.srcSet,a,null),l&&rt(t,i,"src",a.src,a,null);return;case"input":je("invalid",t);var T=d=v=h=null,I=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":v=Q;break;case"checked":I=Q;break;case"defaultChecked":B=Q;break;case"value":d=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:rt(t,i,l,Q,a,null)}}ms(t,d,T,I,B,v,h,!1),aa(t);return;case"select":je("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:rt(t,i,h,T,a,null)}i=d,a=v,t.multiple=!!l,i!=null?ki(t,!!l,i,!1):a!=null&&ki(t,!!l,a,!0);return;case"textarea":je("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:rt(t,i,v,T,a,null)}ps(t,l,h,d),aa(t);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:rt(t,i,I,l,a,null)}return;case"dialog":je("beforetoggle",t),je("toggle",t),je("cancel",t),je("close",t);break;case"iframe":case"object":je("load",t);break;case"video":case"audio":for(l=0;l<gl.length;l++)je(gl[l],t);break;case"image":je("error",t),je("load",t);break;case"details":je("toggle",t);break;case"embed":case"source":case"link":je("error",t),je("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:rt(t,i,B,l,a,null)}return;default:if(Mo(i)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&yd(t,i,Q,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&rt(t,i,T,l,a,null))}function pA(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,I=null,B=null,Q=null;for(q in a){var X=a[q];if(a.hasOwnProperty(q)&&X!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":I=X;default:l.hasOwnProperty(q)||rt(t,i,q,null,l,X)}}for(var z in l){var q=l[z];if(X=a[z],l.hasOwnProperty(z)&&(q!=null||X!=null))switch(z){case"type":d=q;break;case"name":h=q;break;case"checked":B=q;break;case"defaultChecked":Q=q;break;case"value":v=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:q!==X&&rt(t,i,z,q,l,X)}}vn(t,v,T,I,B,Q,d,h);return;case"select":q=v=T=z=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":q=I;default:l.hasOwnProperty(d)||rt(t,i,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":z=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==I&&rt(t,i,h,d,l,I)}i=T,a=v,l=q,z!=null?ki(t,!!a,z,!1):!!l!=!!a&&(i!=null?ki(t,!!a,i,!0):ki(t,!!a,a?[]:"",!1));return;case"textarea":q=z=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:rt(t,i,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&rt(t,i,v,h,l,d)}nt(t,z,q);return;case"option":for(var be in a)if(z=a[be],a.hasOwnProperty(be)&&z!=null&&!l.hasOwnProperty(be))switch(be){case"selected":t.selected=!1;break;default:rt(t,i,be,null,l,z)}for(I in l)if(z=l[I],q=a[I],l.hasOwnProperty(I)&&z!==q&&(z!=null||q!=null))switch(I){case"selected":t.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:rt(t,i,I,z,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)z=a[ye],a.hasOwnProperty(ye)&&z!=null&&!l.hasOwnProperty(ye)&&rt(t,i,ye,null,l,z);for(B in l)if(z=l[B],q=a[B],l.hasOwnProperty(B)&&z!==q&&(z!=null||q!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,i));break;default:rt(t,i,B,z,l,q)}return;default:if(Mo(i)){for(var st in a)z=a[st],a.hasOwnProperty(st)&&z!==void 0&&!l.hasOwnProperty(st)&&yd(t,i,st,void 0,l,z);for(Q in l)z=l[Q],q=a[Q],!l.hasOwnProperty(Q)||z===q||z===void 0&&q===void 0||yd(t,i,Q,z,l,q);return}}for(var j in a)z=a[j],a.hasOwnProperty(j)&&z!=null&&!l.hasOwnProperty(j)&&rt(t,i,j,null,l,z);for(X in l)z=l[X],q=a[X],!l.hasOwnProperty(X)||z===q||z==null&&q==null||rt(t,i,X,z,l,q)}var vd=null,Ed=null;function Tc(t){return t.nodeType===9?t:t.ownerDocument}function py(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gy(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Td(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ad=null;function gA(){var t=window.event;return t&&t.type==="popstate"?t===Ad?!1:(Ad=t,!0):(Ad=null,!1)}var _y=typeof setTimeout=="function"?setTimeout:void 0,_A=typeof clearTimeout=="function"?clearTimeout:void 0,yy=typeof Promise=="function"?Promise:void 0,yA=typeof queueMicrotask=="function"?queueMicrotask:typeof yy<"u"?function(t){return yy.resolve(null).then(t).catch(vA)}:_y;function vA(t){setTimeout(function(){throw t})}function Vr(t){return t==="head"}function vy(t,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&yl(v.documentElement),a&2&&yl(v.body),a&4)for(a=v.head,yl(a),v=a.firstChild;v;){var T=v.nextSibling,I=v.nodeName;v[cs]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){t.removeChild(d),Rl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Rl(i)}function bd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":bd(a),pr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function EA(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[cs])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=$n(t.nextSibling),t===null)break}return null}function TA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=$n(t.nextSibling),t===null))return null;return t}function Sd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function AA(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function $n(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var wd=null;function Ey(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function Ty(t,i,a){switch(i=Tc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function yl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);pr(t)}var Bn=new Map,Ay=new Set;function Ac(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var er=te.d;te.d={f:bA,r:SA,D:wA,C:RA,L:IA,m:CA,X:DA,S:NA,M:xA};function bA(){var t=er.f(),i=dc();return t||i}function SA(t){var i=ti(t);i!==null&&i.tag===5&&i.type==="form"?qg(i):er.r(t)}var za=typeof document>"u"?null:document;function by(t,i,a){var l=za;if(l&&typeof i=="string"&&i){var h=It(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Ay.has(h)||(Ay.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Zt(i,"link",t),Tt(i),l.head.appendChild(i)))}}function wA(t){er.D(t),by("dns-prefetch",t,null)}function RA(t,i){er.C(t,i),by("preconnect",t,i)}function IA(t,i,a){er.L(t,i,a);var l=za;if(l&&t&&i){var h='link[rel="preload"][as="'+It(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+It(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+It(a.imageSizes)+'"]')):h+='[href="'+It(t)+'"]';var d=h;switch(i){case"style":d=qa(t);break;case"script":d=Ha(t)}Bn.has(d)||(t=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Bn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(vl(d))||i==="script"&&l.querySelector(El(d))||(i=l.createElement("link"),Zt(i,"link",t),Tt(i),l.head.appendChild(i)))}}function CA(t,i){er.m(t,i);var a=za;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+It(l)+'"][href="'+It(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ha(t)}if(!Bn.has(d)&&(t=E({rel:"modulepreload",href:t},i),Bn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(El(d)))return}l=a.createElement("link"),Zt(l,"link",t),Tt(l),a.head.appendChild(l)}}}function NA(t,i,a){er.S(t,i,a);var l=za;if(l&&t){var h=un(l).hoistableStyles,d=qa(t);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(vl(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Bn.get(d))&&Rd(t,a);var I=v=l.createElement("link");Tt(I),Zt(I,"link",t),I._p=new Promise(function(B,Q){I.onload=B,I.onerror=Q}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,bc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function DA(t,i){er.X(t,i);var a=za;if(a&&t){var l=un(a).hoistableScripts,h=Ha(t),d=l.get(h);d||(d=a.querySelector(El(h)),d||(t=E({src:t,async:!0},i),(i=Bn.get(h))&&Id(t,i),d=a.createElement("script"),Tt(d),Zt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function xA(t,i){er.M(t,i);var a=za;if(a&&t){var l=un(a).hoistableScripts,h=Ha(t),d=l.get(h);d||(d=a.querySelector(El(h)),d||(t=E({src:t,async:!0,type:"module"},i),(i=Bn.get(h))&&Id(t,i),d=a.createElement("script"),Tt(d),Zt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Sy(t,i,a,l){var h=(h=Ae.current)?Ac(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=qa(a.href),a=un(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=qa(a.href);var d=un(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(vl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Bn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Bn.set(t,a),d||OA(h,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ha(a),a=un(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function qa(t){return'href="'+It(t)+'"'}function vl(t){return'link[rel="stylesheet"]['+t+"]"}function wy(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function OA(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Zt(i,"link",a),Tt(i),t.head.appendChild(i))}function Ha(t){return'[src="'+It(t)+'"]'}function El(t){return"script[async]"+t}function Ry(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+It(a.href)+'"]');if(l)return i.instance=l,Tt(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Tt(l),Zt(l,"style",h),bc(l,a.precedence,t),i.instance=l;case"stylesheet":h=qa(a.href);var d=t.querySelector(vl(h));if(d)return i.state.loading|=4,i.instance=d,Tt(d),d;l=wy(a),(h=Bn.get(h))&&Rd(l,h),d=(t.ownerDocument||t).createElement("link"),Tt(d);var v=d;return v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),Zt(d,"link",l),i.state.loading|=4,bc(d,a.precedence,t),i.instance=d;case"script":return d=Ha(a.src),(h=t.querySelector(El(d)))?(i.instance=h,Tt(h),h):(l=a,(h=Bn.get(d))&&(l=E({},a),Id(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Tt(h),Zt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,bc(l,a.precedence,t));return i.instance}function bc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Rd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Id(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Sc=null;function Iy(t,i,a){if(Sc===null){var l=new Map,h=Sc=new Map;h.set(a,l)}else h=Sc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[cs]||d[Mt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function Cy(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function MA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Ny(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Tl=null;function VA(){}function kA(t,i,a){if(Tl===null)throw Error(s(475));var l=Tl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=qa(a.href),d=t.querySelector(vl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=wc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,Tt(d);return}d=t.ownerDocument||t,a=wy(a),(h=Bn.get(h))&&Rd(a,h),d=d.createElement("link"),Tt(d);var v=d;v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),Zt(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=wc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function PA(){if(Tl===null)throw Error(s(475));var t=Tl;return t.stylesheets&&t.count===0&&Cd(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&Cd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function wc(){if(this.count--,this.count===0){if(this.stylesheets)Cd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Rc=null;function Cd(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Rc=new Map,i.forEach(jA,t),Rc=null,wc.call(t))}function jA(t,i){if(!(i.state.loading&4)){var a=Rc.get(t);if(a)var l=a.get(null);else{a=new Map,Rc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=wc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Al={$$typeof:de,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function LA(t,i,a,l,h,d,v,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Di(0),this.hiddenUpdates=Di(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Dy(t,i,a,l,h,d,v,T,I,B,Q,X){return t=new LA(t,i,a,v,T,I,B,X),i=1,d===!0&&(i|=24),d=Tn(3,null,null,i),t.current=d,d.stateNode=t,i=uf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},df(d),t}function xy(t){return t?(t=Ea,t):Ea}function Oy(t,i,a,l,h,d){h=xy(h),l.context===null?l.context=h:l.pendingContext=h,l=Tr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Ar(t,l,i),a!==null&&(Rn(a,t,i),Wo(a,t,i))}function My(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Nd(t,i){My(t,i),(t=t.alternate)&&My(t,i)}function Vy(t){if(t.tag===13){var i=va(t,67108864);i!==null&&Rn(i,t,67108864),Nd(t,67108864)}}var Ic=!0;function UA(t,i,a,l){var h=Y.T;Y.T=null;var d=te.p;try{te.p=2,Dd(t,i,a,l)}finally{te.p=d,Y.T=h}}function BA(t,i,a,l){var h=Y.T;Y.T=null;var d=te.p;try{te.p=8,Dd(t,i,a,l)}finally{te.p=d,Y.T=h}}function Dd(t,i,a,l){if(Ic){var h=xd(l);if(h===null)_d(t,i,l,Cc,a),Py(t,l);else if(qA(h,t,i,a,l))l.stopPropagation();else if(Py(t,l),i&4&&-1<zA.indexOf(t)){for(;h!==null;){var d=ti(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Gn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var I=1<<31-Bt(v);T.entanglements[1]|=I,v&=~I}pi(d),(Je&6)===0&&(hc=Ge()+500,pl(0))}}break;case 13:T=va(d,2),T!==null&&Rn(T,d,2),dc(),Nd(d,2)}if(d=xd(l),d===null&&_d(t,i,l,Cc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else _d(t,i,l,null,a)}}function xd(t){return t=xn(t),Od(t)}var Cc=null;function Od(t){if(Cc=null,t=Oi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Cc=t,null}function ky(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(vo()){case os:return 2;case cr:return 8;case Ni:case Eo:return 32;case hr:return 268435456;default:return 32}default:return 32}}var Md=!1,kr=null,Pr=null,jr=null,bl=new Map,Sl=new Map,Lr=[],zA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Py(t,i){switch(t){case"focusin":case"focusout":kr=null;break;case"dragenter":case"dragleave":Pr=null;break;case"mouseover":case"mouseout":jr=null;break;case"pointerover":case"pointerout":bl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sl.delete(i.pointerId)}}function wl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=ti(i),i!==null&&Vy(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function qA(t,i,a,l,h){switch(i){case"focusin":return kr=wl(kr,t,i,a,l,h),!0;case"dragenter":return Pr=wl(Pr,t,i,a,l,h),!0;case"mouseover":return jr=wl(jr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return bl.set(d,wl(bl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Sl.set(d,wl(Sl.get(d)||null,t,i,a,l,h)),!0}return!1}function jy(t){var i=Oi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,du(t.priority,function(){if(a.tag===13){var l=wn();l=fr(l);var h=va(a,l);h!==null&&Rn(h,a,l),Nd(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=xd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Pi=l,a.target.dispatchEvent(l),Pi=null}else return i=ti(a),i!==null&&Vy(i),t.blockedOn=a,!1;i.shift()}return!0}function Ly(t,i,a){Nc(t)&&a.delete(i)}function HA(){Md=!1,kr!==null&&Nc(kr)&&(kr=null),Pr!==null&&Nc(Pr)&&(Pr=null),jr!==null&&Nc(jr)&&(jr=null),bl.forEach(Ly),Sl.forEach(Ly)}function Dc(t,i){t.blockedOn===i&&(t.blockedOn=null,Md||(Md=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,HA)))}var xc=null;function Uy(t){xc!==t&&(xc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){xc===t&&(xc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Od(l||a)===null)continue;break}var d=ti(a);d!==null&&(t.splice(i,3),i-=3,Of(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Rl(t){function i(I){return Dc(I,t)}kr!==null&&Dc(kr,t),Pr!==null&&Dc(Pr,t),jr!==null&&Dc(jr,t),bl.forEach(i),Sl.forEach(i);for(var a=0;a<Lr.length;a++){var l=Lr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Lr.length&&(a=Lr[0],a.blockedOn===null);)jy(a),a.blockedOn===null&&Lr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[Rt]||null;if(typeof d=="function")v||Uy(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Rt]||null)T=v.formAction;else if(Od(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),Uy(a)}}}function Vd(t){this._internalRoot=t}Oc.prototype.render=Vd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=wn();Oy(a,l,t,i,null,null)},Oc.prototype.unmount=Vd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Oy(t.current,2,null,t,null,null),dc(),i[Nn]=null}};function Oc(t){this._internalRoot=t}Oc.prototype.unstable_scheduleHydration=function(t){if(t){var i=dr();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Lr.length&&i!==0&&i<Lr[a].priority;a++);Lr.splice(a,0,t),a===0&&jy(t)}};var By=e.version;if(By!=="19.1.0")throw Error(s(527,By,"19.1.0"));te.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var FA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mc.isDisabled&&Mc.supportsFiber)try{ht=Mc.inject(FA),Ke=Mc}catch{}}return Cl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=n_,d=i_,v=r_,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=Dy(t,1,!1,null,null,a,l,h,d,v,T,null),t[Nn]=i.current,gd(t),new Vd(i)},Cl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=n_,v=i_,T=r_,I=null,B=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(B=a.formState)),i=Dy(t,1,!0,i,a??null,l,h,d,v,T,I,B),i.context=xy(null),a=i.current,l=wn(),l=fr(l),h=Tr(l),h.callback=null,Ar(a,h,l),a=l,i.current.lanes=a,xi(i,a),pi(i),t[Nn]=i.current,gd(t),new Oc(i)},Cl.version="19.1.0",Cl}var $y;function tb(){if($y)return jd.exports;$y=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),jd.exports=eb(),jd.exports}var nb=tb();const ib=xm(nb);var zd={exports:{}},qd,Zy;function rb(){if(Zy)return qd;Zy=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return qd=r,qd}var Hd,Wy;function sb(){if(Wy)return Hd;Wy=1;var r=rb();function e(){}function n(){}return n.resetWarningCache=e,Hd=function(){function s(f,m,g,_,E,S){if(S!==r){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}s.isRequired=s;function o(){return s}var u={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:o,element:s,elementType:s,instanceOf:o,node:s,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:e};return u.PropTypes=u,u},Hd}var Jy;function ab(){return Jy||(Jy=1,zd.exports=sb()()),zd.exports}var ob=ab();const se=xm(ob),lb=()=>{};var ev={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},ub=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},M0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,g=o+2<r.length,_=g?r[o+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let w=(m&15)<<2|_>>6,H=_&63;g||(H=64,f||(w=64)),s.push(n[E],n[S],n[w],n[H])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(O0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):ub(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const _=o<r.length?n[r.charAt(o)]:64;++o;const S=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||_==null||S==null)throw new cb;const w=u<<2|m>>4;if(s.push(w),_!==64){const H=m<<4&240|_>>2;if(s.push(H),S!==64){const Z=_<<6&192|S;s.push(Z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class cb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hb=function(r){const e=O0(r);return M0.encodeByteArray(e,!0)},$c=function(r){return hb(r).replace(/\./g,"")},V0=function(r){try{return M0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db=()=>fb().__FIREBASE_DEFAULTS__,mb=()=>{if(typeof process>"u"||typeof ev>"u")return;const r=ev.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},pb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&V0(r[1]);return e&&JSON.parse(e)},gh=()=>{try{return lb()||db()||mb()||pb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},k0=r=>{var e,n;return(n=(e=gh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},gb=r=>{const e=k0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},P0=()=>{var r;return(r=gh())===null||r===void 0?void 0:r.config},j0=r=>{var e;return(e=gh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function co(r){return r.endsWith(".cloudworkstations.dev")}async function L0(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[$c(JSON.stringify(n)),$c(JSON.stringify(f)),""].join(".")}const Ll={};function vb(){const r={prod:[],emulator:[]};for(const e of Object.keys(Ll))Ll[e]?r.emulator.push(e):r.prod.push(e);return r}function Eb(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let tv=!1;function U0(r,e){if(typeof window>"u"||typeof document>"u"||!co(window.location.host)||Ll[r]===e||Ll[r]||tv)return;Ll[r]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=vb().prod.length>0;function f(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function g(w,H){w.setAttribute("width","24"),w.setAttribute("id",H),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function _(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{tv=!0,f()},w}function E(w,H){w.setAttribute("id",H),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function S(){const w=Eb(s),H=n("text"),Z=document.getElementById(H)||document.createElement("span"),ie=n("learnmore"),G=document.getElementById(ie)||document.createElement("a"),ce=n("preprendIcon"),_e=document.getElementById(ce)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const de=w.element;m(de),E(G,ie);const Ve=_();g(_e,ce),de.append(_e,Z,G,Ve),document.body.appendChild(de)}u?(Z.innerText="Preview backend disconnected.",_e.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_e.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Tb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function Ab(){var r;const e=(r=gh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Sb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function wb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Rb(){const r=on();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Ib(){return!Ab()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Cb(){try{return typeof indexedDB=="object"}catch{return!1}}function Nb(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db="FirebaseError";class lr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Db,Object.setPrototypeOf(this,lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eu.prototype.create)}}class eu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?xb(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new lr(o,m,s)}}function xb(r,e){return r.replace(Ob,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const Ob=/\{\$([^}]+)}/g;function Mb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function qs(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(nv(u)&&nv(f)){if(!qs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function nv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ol(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Ml(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function Vb(r,e){const n=new kb(r,e);return n.subscribe.bind(n)}class kb{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Pb(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Fd),o.error===void 0&&(o.error=Fd),o.complete===void 0&&(o.complete=Fd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Pb(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Fd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(r){return r&&r._delegate?r._delegate:r}class Hs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new _b;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ub(e))try{this.getOrInitializeService({instanceIdentifier:Us})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Us){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Us){return this.instances.has(e)}getOptions(e=Us){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Lb(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Us){return this.component?this.component.multipleInstances?e:Us:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Lb(r){return r===Us?void 0:r}function Ub(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new jb(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Le||(Le={}));const zb={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},qb=Le.INFO,Hb={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},Fb=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=Hb[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Mm{constructor(e){this.name=e,this._logLevel=qb,this._logHandler=Fb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const Gb=(r,e)=>e.some(n=>r instanceof n);let iv,rv;function Yb(){return iv||(iv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Qb(){return rv||(rv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const B0=new WeakMap,nm=new WeakMap,z0=new WeakMap,Gd=new WeakMap,Vm=new WeakMap;function Kb(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Yr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&B0.set(n,r)}).catch(()=>{}),Vm.set(e,r),e}function Xb(r){if(nm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});nm.set(r,e)}let im={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return nm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||z0.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function $b(r){im=r(im)}function Zb(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Yd(this),e,...n);return z0.set(s,e.sort?e.sort():[e]),Yr(s)}:Qb().includes(r)?function(...e){return r.apply(Yd(this),e),Yr(B0.get(this))}:function(...e){return Yr(r.apply(Yd(this),e))}}function Wb(r){return typeof r=="function"?Zb(r):(r instanceof IDBTransaction&&Xb(r),Gb(r,Yb())?new Proxy(r,im):r)}function Yr(r){if(r instanceof IDBRequest)return Kb(r);if(Gd.has(r))return Gd.get(r);const e=Wb(r);return e!==r&&(Gd.set(r,e),Vm.set(e,r)),e}const Yd=r=>Vm.get(r);function Jb(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Yr(f);return s&&f.addEventListener("upgradeneeded",g=>{s(Yr(f.result),g.oldVersion,g.newVersion,Yr(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),m}const eS=["get","getKey","getAll","getAllKeys","count"],tS=["put","add","delete","clear"],Qd=new Map;function sv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Qd.get(e))return Qd.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=tS.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||eS.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let _=g.store;return s&&(_=_.index(m.shift())),(await Promise.all([_[n](...m),o&&g.done]))[0]};return Qd.set(e,u),u}$b(r=>({...r,get:(e,n,s)=>sv(e,n)||r.get(e,n,s),has:(e,n)=>!!sv(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(iS(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function iS(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const rm="@firebase/app",av="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr=new Mm("@firebase/app"),rS="@firebase/app-compat",sS="@firebase/analytics-compat",aS="@firebase/analytics",oS="@firebase/app-check-compat",lS="@firebase/app-check",uS="@firebase/auth",cS="@firebase/auth-compat",hS="@firebase/database",fS="@firebase/data-connect",dS="@firebase/database-compat",mS="@firebase/functions",pS="@firebase/functions-compat",gS="@firebase/installations",_S="@firebase/installations-compat",yS="@firebase/messaging",vS="@firebase/messaging-compat",ES="@firebase/performance",TS="@firebase/performance-compat",AS="@firebase/remote-config",bS="@firebase/remote-config-compat",SS="@firebase/storage",wS="@firebase/storage-compat",RS="@firebase/firestore",IS="@firebase/ai",CS="@firebase/firestore-compat",NS="firebase",DS="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm="[DEFAULT]",xS={[rm]:"fire-core",[rS]:"fire-core-compat",[aS]:"fire-analytics",[sS]:"fire-analytics-compat",[lS]:"fire-app-check",[oS]:"fire-app-check-compat",[uS]:"fire-auth",[cS]:"fire-auth-compat",[hS]:"fire-rtdb",[fS]:"fire-data-connect",[dS]:"fire-rtdb-compat",[mS]:"fire-fn",[pS]:"fire-fn-compat",[gS]:"fire-iid",[_S]:"fire-iid-compat",[yS]:"fire-fcm",[vS]:"fire-fcm-compat",[ES]:"fire-perf",[TS]:"fire-perf-compat",[AS]:"fire-rc",[bS]:"fire-rc-compat",[SS]:"fire-gcs",[wS]:"fire-gcs-compat",[RS]:"fire-fst",[CS]:"fire-fst-compat",[IS]:"fire-vertex","fire-js":"fire-js",[NS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zc=new Map,OS=new Map,am=new Map;function ov(r,e){try{r.container.addComponent(e)}catch(n){rr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function to(r){const e=r.name;if(am.has(e))return rr.debug(`There were multiple attempts to register component ${e}.`),!1;am.set(e,r);for(const n of Zc.values())ov(n,r);for(const n of OS.values())ov(n,r);return!0}function km(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function zn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qr=new eu("app","Firebase",MS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Hs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho=DS;function q0(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:sm,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw Qr.create("bad-app-name",{appName:String(o)});if(n||(n=P0()),!n)throw Qr.create("no-options");const u=Zc.get(o);if(u){if(qs(n,u.options)&&qs(s,u.config))return u;throw Qr.create("duplicate-app",{appName:o})}const f=new Bb(o);for(const g of am.values())f.addComponent(g);const m=new VS(n,s,f);return Zc.set(o,m),m}function H0(r=sm){const e=Zc.get(r);if(!e&&r===sm&&P0())return q0();if(!e)throw Qr.create("no-app",{appName:r});return e}function Kr(r,e,n){var s;let o=(s=xS[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),rr.warn(m.join(" "));return}to(new Hs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS="firebase-heartbeat-database",PS=1,Fl="firebase-heartbeat-store";let Kd=null;function F0(){return Kd||(Kd=Jb(kS,PS,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Fl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Qr.create("idb-open",{originalErrorMessage:r.message})})),Kd}async function jS(r){try{const n=(await F0()).transaction(Fl),s=await n.objectStore(Fl).get(G0(r));return await n.done,s}catch(e){if(e instanceof lr)rr.warn(e.message);else{const n=Qr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});rr.warn(n.message)}}}async function lv(r,e){try{const s=(await F0()).transaction(Fl,"readwrite");await s.objectStore(Fl).put(e,G0(r)),await s.done}catch(n){if(n instanceof lr)rr.warn(n.message);else{const s=Qr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});rr.warn(s.message)}}}function G0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS=1024,US=30;class BS{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new qS(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=uv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>US){const f=HS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){rr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=uv(),{heartbeatsToSend:s,unsentEntries:o}=zS(this._heartbeatsCache.heartbeats),u=$c(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return rr.warn(n),""}}}function uv(){return new Date().toISOString().substring(0,10)}function zS(r,e=LS){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),cv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),cv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class qS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Cb()?Nb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await jS(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return lv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return lv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function cv(r){return $c(JSON.stringify({version:2,heartbeats:r})).length}function HS(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(r){to(new Hs("platform-logger",e=>new nS(e),"PRIVATE")),to(new Hs("heartbeat",e=>new BS(e),"PRIVATE")),Kr(rm,av,r),Kr(rm,av,"esm2017"),Kr("fire-js","")}FS("");function Pm(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function Y0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const GS=Y0,Q0=new eu("auth","Firebase",Y0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wc=new Mm("@firebase/auth");function YS(r,...e){Wc.logLevel<=Le.WARN&&Wc.warn(`Auth (${ho}): ${r}`,...e)}function Bc(r,...e){Wc.logLevel<=Le.ERROR&&Wc.error(`Auth (${ho}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(r,...e){throw jm(r,...e)}function vi(r,...e){return jm(r,...e)}function K0(r,e,n){const s=Object.assign(Object.assign({},GS()),{[e]:n});return new eu("auth","Firebase",s).create(e,{appName:r.name})}function ir(r){return K0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jm(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return Q0.create(r,...e)}function Ee(r,e,...n){if(!r)throw jm(e,...n)}function tr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Bc(e),new Error(e)}function sr(r,e){r||tr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function QS(){return hv()==="http:"||hv()==="https:"}function hv(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QS()||Sb()||"connection"in navigator)?navigator.onLine:!0}function XS(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,n){this.shortDelay=e,this.longDelay=n,sr(n>e,"Short delay should be less than long delay!"),this.isMobile=Tb()||wb()}get(){return KS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(r,e){sr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],WS=new nu(3e4,6e4);function ur(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function wi(r,e,n,s,o={}){return $0(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=tu(Object.assign({key:r.config.apiKey},f)).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const _=Object.assign({method:e,headers:g},u);return bb()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&co(r.emulatorConfig.host)&&(_.credentials="include"),X0.fetch()(await Z0(r,r.config.apiHost,n,m),_)})}async function $0(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},$S),e);try{const o=new ew(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Vc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,_]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vc(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Vc(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw Vc(r,"user-disabled",f);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw K0(r,E,_);Wn(r,E)}}catch(o){if(o instanceof lr)throw o;Wn(r,"network-request-failed",{message:String(o)})}}async function iu(r,e,n,s,o={}){const u=await wi(r,e,n,s,o);return"mfaPendingCredential"in u&&Wn(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function Z0(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?Lm(r.config,o):`${r.config.apiScheme}://${o}`;return ZS.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function JS(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ew{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(vi(this.auth,"network-request-failed")),WS.get())})}}function Vc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=vi(r,e,s);return o.customData._tokenResponse=n,o}function fv(r){return r!==void 0&&r.enterprise!==void 0}class tw{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return JS(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function nw(r,e){return wi(r,"GET","/v2/recaptchaConfig",ur(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iw(r,e){return wi(r,"POST","/v1/accounts:delete",e)}async function Jc(r,e){return wi(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ul(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rw(r,e=!1){const n=Ot(r),s=await n.getIdToken(e),o=Um(s);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Ul(Xd(o.auth_time)),issuedAtTime:Ul(Xd(o.iat)),expirationTime:Ul(Xd(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Xd(r){return Number(r)*1e3}function Um(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Bc("JWT malformed, contained fewer than 3 sections"),null;try{const o=V0(n);return o?JSON.parse(o):(Bc("Failed to decode base64 JWT payload"),null)}catch(o){return Bc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function dv(r){const e=Um(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function no(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof lr&&sw(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function sw({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ul(this.lastLoginAt),this.creationTime=Ul(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eh(r){var e;const n=r.auth,s=await r.getIdToken(),o=await no(r,Jc(n,{idToken:s}));Ee(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?W0(u.providerUserInfo):[],m=lw(r.providerData,f),g=r.isAnonymous,_=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=g?_:!1,S={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new lm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,S)}async function ow(r){const e=Ot(r);await eh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function lw(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function W0(r){return r.map(e=>{var{providerId:n}=e,s=Pm(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uw(r,e){const n=await $0(r,{},async()=>{const s=tu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await Z0(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return r.emulatorConfig&&co(r.emulatorConfig.host)&&(g.credentials="include"),X0.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function cw(r,e){return wi(r,"POST","/v2/accounts:revokeToken",ur(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):dv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=dv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await uw(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Za;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Za,this.toJSON())}_performRefresh(){return tr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Zn{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=Pm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new aw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new lm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await no(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return rw(this,e)}reload(){return ow(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Zn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await eh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zn(this.auth.app))return Promise.reject(ir(this.auth));const e=await this.getIdToken();return await no(this,iw(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,g,_,E;const S=(s=n.displayName)!==null&&s!==void 0?s:void 0,w=(o=n.email)!==null&&o!==void 0?o:void 0,H=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,Z=(f=n.photoURL)!==null&&f!==void 0?f:void 0,ie=(m=n.tenantId)!==null&&m!==void 0?m:void 0,G=(g=n._redirectEventId)!==null&&g!==void 0?g:void 0,ce=(_=n.createdAt)!==null&&_!==void 0?_:void 0,_e=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:de,emailVerified:Ve,isAnonymous:Se,providerData:ke,stsTokenManager:V}=n;Ee(de&&V,e,"internal-error");const R=Za.fromJSON(this.name,V);Ee(typeof de=="string",e,"internal-error"),Br(S,e.name),Br(w,e.name),Ee(typeof Ve=="boolean",e,"internal-error"),Ee(typeof Se=="boolean",e,"internal-error"),Br(H,e.name),Br(Z,e.name),Br(ie,e.name),Br(G,e.name),Br(ce,e.name),Br(_e,e.name);const N=new Zn({uid:de,auth:e,email:w,emailVerified:Ve,displayName:S,isAnonymous:Se,photoURL:Z,phoneNumber:H,tenantId:ie,stsTokenManager:R,createdAt:ce,lastLoginAt:_e});return ke&&Array.isArray(ke)&&(N.providerData=ke.map(M=>Object.assign({},M))),G&&(N._redirectEventId=G),N}static async _fromIdTokenResponse(e,n,s=!1){const o=new Za;o.updateFromServerResponse(n);const u=new Zn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await eh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?W0(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new Za;m.updateFromIdToken(s);const g=new Zn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new lm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(g,_),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv=new Map;function nr(r){sr(r instanceof Function,"Expected a class definition");let e=mv.get(r);return e?(sr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,mv.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}J0.type="NONE";const pv=J0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(r,e,n){return`firebase:${r}:${e}:${n}`}class Wa{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=zc(this.userKey,o.apiKey,u),this.fullPersistenceKey=zc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Jc(this.auth,{idToken:e}).catch(()=>{});return n?Zn._fromGetAccountInfoResponse(this.auth,n,e):null}return Zn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Wa(nr(pv),e,s);const o=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let u=o[0]||nr(pv);const f=zc(s,e.config.apiKey,e.name);let m=null;for(const _ of n)try{const E=await _._get(f);if(E){let S;if(typeof E=="string"){const w=await Jc(e,{idToken:E}).catch(()=>{});if(!w)break;S=await Zn._fromGetAccountInfoResponse(e,w,E)}else S=Zn._fromJSON(e,E);_!==u&&(m=S),u=_;break}}catch{}const g=o.filter(_=>_._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new Wa(u,e,s):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async _=>{if(_!==u)try{await _._remove(f)}catch{}})),new Wa(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sE(e))return"Blackberry";if(aE(e))return"Webos";if(tE(e))return"Safari";if((e.includes("chrome/")||nE(e))&&!e.includes("edge/"))return"Chrome";if(rE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function eE(r=on()){return/firefox\//i.test(r)}function tE(r=on()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nE(r=on()){return/crios\//i.test(r)}function iE(r=on()){return/iemobile/i.test(r)}function rE(r=on()){return/android/i.test(r)}function sE(r=on()){return/blackberry/i.test(r)}function aE(r=on()){return/webos/i.test(r)}function Bm(r=on()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function hw(r=on()){var e;return Bm(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function fw(){return Rb()&&document.documentMode===10}function oE(r=on()){return Bm(r)||rE(r)||aE(r)||sE(r)||/windows phone/i.test(r)||iE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(r,e=[]){let n;switch(r){case"Browser":n=gv(on());break;case"Worker":n=`${gv(on())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ho}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const g=e(u);f(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mw(r,e={}){return wi(r,"GET","/v2/passwordPolicy",ur(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw=6;class gw{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:pw,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(n=g.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),g.isValid&&(g.isValid=(s=g.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(u=g.containsUppercaseLetter)!==null&&u!==void 0?u:!0),g.isValid&&(g.isValid=(f=g.containsNumericCharacter)!==null&&f!==void 0?f:!0),g.isValid&&(g.isValid=(m=g.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),g}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _v(this),this.idTokenSubscription=new _v(this),this.beforeStateQueue=new dw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Q0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=nr(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await Wa.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Jc(this,{idToken:e}),s=await Zn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(zn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,g=await this.tryRedirectSignIn(e);(!f||f===m)&&(g!=null&&g.user)&&(o=g.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await eh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=XS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zn(this.app))return Promise.reject(ir(this));const n=e?Ot(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zn(this.app)?Promise.reject(ir(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zn(this.app)?Promise.reject(ir(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(nr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await mw(this),n=new gw(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new eu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await cw(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&nr(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await Wa.create(this,[nr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&YS(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function is(r){return Ot(r)}class _v{constructor(e){this.auth=e,this.observer=null,this.addObserver=Vb(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _h={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yw(r){_h=r}function uE(r){return _h.loadJS(r)}function vw(){return _h.recaptchaEnterpriseScript}function Ew(){return _h.gapiScript}function Tw(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class Aw{constructor(){this.enterprise=new bw}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class bw{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Sw="recaptcha-enterprise",cE="NO_RECAPTCHA";class ww{constructor(e){this.type=Sw,this.auth=is(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{nw(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const _=new tw(g);return u.tenantId==null?u._agentRecaptchaConfig=_:u._tenantRecaptchaConfigs[u.tenantId]=_,f(_.siteKey)}}).catch(g=>{m(g)})})}function o(u,f,m){const g=window.grecaptcha;fv(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(_=>{f(_)}).catch(()=>{f(cE)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Aw().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&fv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=vw();g.length!==0&&(g+=m),uE(g).then(()=>{o(m,u,f)}).catch(_=>{f(_)})}}).catch(m=>{f(m)})})}}async function yv(r,e,n,s=!1,o=!1){const u=new ww(r);let f;if(o)f=cE;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,_=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:_,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function th(r,e,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await yv(r,e,n,n==="getOobCode");return s(r,f)}else return s(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await yv(r,e,n,n==="getOobCode");return s(r,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(r,e){const n=km(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(qs(u,e??{}))return o;Wn(o,"already-initialized")}return n.initialize({options:e})}function Iw(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(nr);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function Cw(r,e,n){const s=is(r);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=hE(e),{host:f,port:m}=Nw(e),g=m===null?"":`:${m}`,_={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(qs(_,s.config.emulator)&&qs(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,co(f)?(L0(`${u}//${f}${g}`),U0("Auth",!0)):Dw()}function hE(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function Nw(r){const e=hE(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:vv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:vv(f)}}}function vv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function Dw(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return tr("not implemented")}_getIdTokenResponse(e){return tr("not implemented")}_linkToIdToken(e,n){return tr("not implemented")}_getReauthenticationResolver(e){return tr("not implemented")}}async function xw(r,e){return wi(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ow(r,e){return iu(r,"POST","/v1/accounts:signInWithPassword",ur(r,e))}async function Mw(r,e){return wi(r,"POST","/v1/accounts:sendOobCode",ur(r,e))}async function Vw(r,e){return Mw(r,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kw(r,e){return iu(r,"POST","/v1/accounts:signInWithEmailLink",ur(r,e))}async function Pw(r,e){return iu(r,"POST","/v1/accounts:signInWithEmailLink",ur(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl extends zm{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Gl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Gl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return th(e,n,"signInWithPassword",Ow);case"emailLink":return kw(e,{email:this._email,oobCode:this._password});default:Wn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return th(e,s,"signUpPassword",xw);case"emailLink":return Pw(e,{idToken:n,email:this._email,oobCode:this._password});default:Wn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ja(r,e){return iu(r,"POST","/v1/accounts:signInWithIdp",ur(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw="http://localhost";class Fs extends zm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Fs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Wn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=Pm(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Fs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Ja(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Ja(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ja(e,n)}buildRequest(){const e={requestUri:jw,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=tu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Uw(r){const e=Ol(Ml(r)).link,n=e?Ol(Ml(e)).deep_link_id:null,s=Ol(Ml(r)).deep_link_id;return(s?Ol(Ml(s)).link:null)||s||n||e||r}class qm{constructor(e){var n,s,o,u,f,m;const g=Ol(Ml(e)),_=(n=g.apiKey)!==null&&n!==void 0?n:null,E=(s=g.oobCode)!==null&&s!==void 0?s:null,S=Lw((o=g.mode)!==null&&o!==void 0?o:null);Ee(_&&E&&S,"argument-error"),this.apiKey=_,this.operation=S,this.code=E,this.continueUrl=(u=g.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=g.lang)!==null&&f!==void 0?f:null,this.tenantId=(m=g.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=Uw(e);try{return new qm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(){this.providerId=fo.PROVIDER_ID}static credential(e,n){return Gl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=qm.parseLink(n);return Ee(s,"argument-error"),Gl._fromEmailAndCode(e,s.code,s.tenantId)}}fo.PROVIDER_ID="password";fo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";fo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru extends fE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends ru{constructor(){super("facebook.com")}static credential(e){return Fs._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zr.credential(e.oauthAccessToken)}catch{return null}}}zr.FACEBOOK_SIGN_IN_METHOD="facebook.com";zr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends ru{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Fs._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return qr.credential(n,s)}catch{return null}}}qr.GOOGLE_SIGN_IN_METHOD="google.com";qr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends ru{constructor(){super("github.com")}static credential(e){return Fs._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hr.credentialFromTaggedObject(e)}static credentialFromError(e){return Hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hr.credential(e.oauthAccessToken)}catch{return null}}}Hr.GITHUB_SIGN_IN_METHOD="github.com";Hr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr extends ru{constructor(){super("twitter.com")}static credential(e,n){return Fs._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Fr.credentialFromTaggedObject(e)}static credentialFromError(e){return Fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Fr.credential(n,s)}catch{return null}}}Fr.TWITTER_SIGN_IN_METHOD="twitter.com";Fr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bw(r,e){return iu(r,"POST","/v1/accounts:signUp",ur(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Zn._fromIdTokenResponse(e,s,o),f=Ev(s);return new Gs({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=Ev(s);return new Gs({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function Ev(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh extends lr{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,nh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new nh(e,n,s,o)}}function dE(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?nh._fromErrorAndOperation(r,u,e,s):u})}async function zw(r,e,n=!1){const s=await no(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Gs._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qw(r,e,n=!1){const{auth:s}=r;if(zn(s.app))return Promise.reject(ir(s));const o="reauthenticate";try{const u=await no(r,dE(s,o,e,r),n);Ee(u.idToken,s,"internal-error");const f=Um(u.idToken);Ee(f,s,"internal-error");const{sub:m}=f;return Ee(r.uid===m,s,"user-mismatch"),Gs._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Wn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mE(r,e,n=!1){if(zn(r.app))return Promise.reject(ir(r));const s="signIn",o=await dE(r,s,e),u=await Gs._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function Hw(r,e){return mE(is(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pE(r){const e=is(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Fw(r,e,n){const s=is(r);await th(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Vw)}async function Gw(r,e,n){if(zn(r.app))return Promise.reject(ir(r));const s=is(r),f=await th(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Bw).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&pE(r),g}),m=await Gs._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function Yw(r,e,n){return zn(r.app)?Promise.reject(ir(r)):Hw(Ot(r),fo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&pE(r),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qw(r,e){return wi(r,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kw(r,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=Ot(r),u={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},f=await no(s,Qw(s.auth,u));s.displayName=f.displayName||null,s.photoURL=f.photoUrl||null;const m=s.providerData.find(({providerId:g})=>g==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(f)}function Xw(r,e,n,s){return Ot(r).onIdTokenChanged(e,n,s)}function $w(r,e,n){return Ot(r).beforeAuthStateChanged(e,n)}function Zw(r,e,n,s){return Ot(r).onAuthStateChanged(e,n,s)}function Ww(r){return Ot(r).signOut()}const ih="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ih,"1"),this.storage.removeItem(ih),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw=1e3,eR=10;class _E extends gE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=oE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);fw()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,eR):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},Jw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}_E.type="LOCAL";const tR=_E;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE extends gE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}yE.type="SESSION";const vE=yE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new yh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async _=>_(n.origin,u)),g=await nR(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const _=Hm("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(S){const w=S;if(w.data.eventId===_)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:_,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(){return window}function rR(r){Ei().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(){return typeof Ei().WorkerGlobalScope<"u"&&typeof Ei().importScripts=="function"}async function sR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function aR(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function oR(){return EE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE="firebaseLocalStorageDb",lR=1,rh="firebaseLocalStorage",AE="fbase_key";class su{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function vh(r,e){return r.transaction([rh],e?"readwrite":"readonly").objectStore(rh)}function uR(){const r=indexedDB.deleteDatabase(TE);return new su(r).toPromise()}function um(){const r=indexedDB.open(TE,lR);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(rh,{keyPath:AE})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(rh)?e(s):(s.close(),await uR(),e(await um()))})})}async function Tv(r,e,n){const s=vh(r,!0).put({[AE]:e,value:n});return new su(s).toPromise()}async function cR(r,e){const n=vh(r,!1).get(e),s=await new su(n).toPromise();return s===void 0?null:s.value}function Av(r,e){const n=vh(r,!0).delete(e);return new su(n).toPromise()}const hR=800,fR=3;class bE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await um(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>fR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return EE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yh._getInstance(oR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await sR(),!this.activeServiceWorker)return;this.sender=new iR(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||aR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await um();return await Tv(e,ih,"1"),await Av(e,ih),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Tv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>cR(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Av(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=vh(o,!1).getAll();return new su(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bE.type="LOCAL";const dR=bE;new nu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(r,e){return e?nr(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm extends zm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ja(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ja(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ja(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function pR(r){return mE(r.auth,new Fm(r),r.bypassAuthState)}function gR(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),qw(n,new Fm(r),r.bypassAuthState)}async function _R(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),zw(n,new Fm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pR;case"linkViaPopup":case"linkViaRedirect":return _R;case"reauthViaPopup":case"reauthViaRedirect":return gR;default:Wn(this.auth,"internal-error")}}resolve(e){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR=new nu(2e3,1e4);class $a extends SE{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,$a.currentPopupAction&&$a.currentPopupAction.cancel(),$a.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){sr(this.filter.length===1,"Popup operations only handle one event");const e=Hm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$a.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,yR.get())};e()}}$a.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR="pendingRedirect",qc=new Map;class ER extends SE{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=qc.get(this.auth._key());if(!e){try{const s=await TR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}qc.set(this.auth._key(),e)}return this.bypassAuthState||qc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function TR(r,e){const n=SR(e),s=bR(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function AR(r,e){qc.set(r._key(),e)}function bR(r){return nr(r._redirectPersistence)}function SR(r){return zc(vR,r.config.apiKey,r.name)}async function wR(r,e,n=!1){if(zn(r.app))return Promise.reject(ir(r));const s=is(r),o=mR(s,e),f=await new ER(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=10*60*1e3;class IR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!CR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!wE(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(vi(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=RR&&this.cachedEventUids.clear(),this.cachedEventUids.has(bv(e))}saveEventToCache(e){this.cachedEventUids.add(bv(e)),this.lastProcessedEventTime=Date.now()}}function bv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function wE({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function CR(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wE(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NR(r,e={}){return wi(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xR=/^https?/;async function OR(r){if(r.config.emulator)return;const{authorizedDomains:e}=await NR(r);for(const n of e)try{if(MR(n))return}catch{}Wn(r,"unauthorized-domain")}function MR(r){const e=om(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!xR.test(n))return!1;if(DR.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR=new nu(3e4,6e4);function Sv(){const r=Ei().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function kR(r){return new Promise((e,n)=>{var s,o,u;function f(){Sv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Sv(),n(vi(r,"network-request-failed"))},timeout:VR.get()})}if(!((o=(s=Ei().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Ei().gapi)===null||u===void 0)&&u.load)f();else{const m=Tw("iframefcb");return Ei()[m]=()=>{gapi.load?f():n(vi(r,"network-request-failed"))},uE(`${Ew()}?onload=${m}`).catch(g=>n(g))}}).catch(e=>{throw Hc=null,e})}let Hc=null;function PR(r){return Hc=Hc||kR(r),Hc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR=new nu(5e3,15e3),LR="__/auth/iframe",UR="emulator/auth/iframe",BR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qR(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Lm(e,UR):`https://${r.config.authDomain}/${LR}`,s={apiKey:e.apiKey,appName:r.name,v:ho},o=zR.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${tu(s).slice(1)}`}async function HR(r){const e=await PR(r),n=Ei().gapi;return Ee(n,r,"internal-error"),e.open({where:document.body,url:qR(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:BR,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=vi(r,"network-request-failed"),m=Ei().setTimeout(()=>{u(f)},jR.get());function g(){Ei().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},GR=500,YR=600,QR="_blank",KR="http://localhost";class wv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function XR(r,e,n,s=GR,o=YR){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g=Object.assign(Object.assign({},FR),{width:s.toString(),height:o.toString(),top:u,left:f}),_=on().toLowerCase();n&&(m=nE(_)?QR:n),eE(_)&&(e=e||KR,g.scrollbars="yes");const E=Object.entries(g).reduce((w,[H,Z])=>`${w}${H}=${Z},`,"");if(hw(_)&&m!=="_self")return $R(e||"",m),new wv(null);const S=window.open(e||"",m,E);Ee(S,r,"popup-blocked");try{S.focus()}catch{}return new wv(S)}function $R(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR="__/auth/handler",WR="emulator/auth/handler",JR=encodeURIComponent("fac");async function Rv(r,e,n,s,o,u){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:ho,eventId:o};if(e instanceof fE){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",Mb(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))f[E]=S}if(e instanceof ru){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await r._getAppCheckToken(),_=g?`#${JR}=${encodeURIComponent(g)}`:"";return`${eI(r)}?${tu(m).slice(1)}${_}`}function eI({config:r}){return r.emulator?Lm(r,WR):`https://${r.authDomain}/${ZR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d="webStorageSupport";class tI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vE,this._completeRedirectFn=wR,this._overrideRedirectResult=AR}async _openPopup(e,n,s,o){var u;sr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await Rv(e,n,s,om(),o);return XR(e,f,Hm())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await Rv(e,n,s,om(),o);return rR(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(sr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await HR(e),s=new IR(e);return n.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send($d,{type:$d},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[$d];f!==void 0&&n(!!f),Wn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=OR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return oE()||tE()||Bm()}}const nI=tI;var Iv="@firebase/auth",Cv="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sI(r){to(new Hs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Ee(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lE(r)},_=new _w(s,o,u,g);return Iw(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),to(new Hs("auth-internal",e=>{const n=is(e.getProvider("auth").getImmediate());return(s=>new iI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kr(Iv,Cv,rI(r)),Kr(Iv,Cv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI=5*60,oI=j0("authIdTokenMaxAge")||aI;let Nv=null;const lI=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>oI)return;const o=n==null?void 0:n.token;Nv!==o&&(Nv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function uI(r=H0()){const e=km(r,"auth");if(e.isInitialized())return e.getImmediate();const n=Rw(r,{popupRedirectResolver:nI,persistence:[dR,tR,vE]}),s=j0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=lI(u.toString());$w(n,f,()=>f(n.currentUser)),Xw(n,m=>f(m))}}const o=k0("auth");return o&&Cw(n,`http://${o}`),n}function cI(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}yw({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=vi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",cI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sI("Browser");var hI="firebase",fI="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kr(hI,fI,"app");var Dv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xr,RE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,R){function N(){}N.prototype=R.prototype,V.D=R.prototype,V.prototype=new N,V.prototype.constructor=V,V.C=function(M,k,P){for(var D=Array(arguments.length-2),Et=2;Et<arguments.length;Et++)D[Et-2]=arguments[Et];return R.prototype[k].apply(M,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(V,R,N){N||(N=0);var M=Array(16);if(typeof R=="string")for(var k=0;16>k;++k)M[k]=R.charCodeAt(N++)|R.charCodeAt(N++)<<8|R.charCodeAt(N++)<<16|R.charCodeAt(N++)<<24;else for(k=0;16>k;++k)M[k]=R[N++]|R[N++]<<8|R[N++]<<16|R[N++]<<24;R=V.g[0],N=V.g[1],k=V.g[2];var P=V.g[3],D=R+(P^N&(k^P))+M[0]+3614090360&4294967295;R=N+(D<<7&4294967295|D>>>25),D=P+(k^R&(N^k))+M[1]+3905402710&4294967295,P=R+(D<<12&4294967295|D>>>20),D=k+(N^P&(R^N))+M[2]+606105819&4294967295,k=P+(D<<17&4294967295|D>>>15),D=N+(R^k&(P^R))+M[3]+3250441966&4294967295,N=k+(D<<22&4294967295|D>>>10),D=R+(P^N&(k^P))+M[4]+4118548399&4294967295,R=N+(D<<7&4294967295|D>>>25),D=P+(k^R&(N^k))+M[5]+1200080426&4294967295,P=R+(D<<12&4294967295|D>>>20),D=k+(N^P&(R^N))+M[6]+2821735955&4294967295,k=P+(D<<17&4294967295|D>>>15),D=N+(R^k&(P^R))+M[7]+4249261313&4294967295,N=k+(D<<22&4294967295|D>>>10),D=R+(P^N&(k^P))+M[8]+1770035416&4294967295,R=N+(D<<7&4294967295|D>>>25),D=P+(k^R&(N^k))+M[9]+2336552879&4294967295,P=R+(D<<12&4294967295|D>>>20),D=k+(N^P&(R^N))+M[10]+4294925233&4294967295,k=P+(D<<17&4294967295|D>>>15),D=N+(R^k&(P^R))+M[11]+2304563134&4294967295,N=k+(D<<22&4294967295|D>>>10),D=R+(P^N&(k^P))+M[12]+1804603682&4294967295,R=N+(D<<7&4294967295|D>>>25),D=P+(k^R&(N^k))+M[13]+4254626195&4294967295,P=R+(D<<12&4294967295|D>>>20),D=k+(N^P&(R^N))+M[14]+2792965006&4294967295,k=P+(D<<17&4294967295|D>>>15),D=N+(R^k&(P^R))+M[15]+1236535329&4294967295,N=k+(D<<22&4294967295|D>>>10),D=R+(k^P&(N^k))+M[1]+4129170786&4294967295,R=N+(D<<5&4294967295|D>>>27),D=P+(N^k&(R^N))+M[6]+3225465664&4294967295,P=R+(D<<9&4294967295|D>>>23),D=k+(R^N&(P^R))+M[11]+643717713&4294967295,k=P+(D<<14&4294967295|D>>>18),D=N+(P^R&(k^P))+M[0]+3921069994&4294967295,N=k+(D<<20&4294967295|D>>>12),D=R+(k^P&(N^k))+M[5]+3593408605&4294967295,R=N+(D<<5&4294967295|D>>>27),D=P+(N^k&(R^N))+M[10]+38016083&4294967295,P=R+(D<<9&4294967295|D>>>23),D=k+(R^N&(P^R))+M[15]+3634488961&4294967295,k=P+(D<<14&4294967295|D>>>18),D=N+(P^R&(k^P))+M[4]+3889429448&4294967295,N=k+(D<<20&4294967295|D>>>12),D=R+(k^P&(N^k))+M[9]+568446438&4294967295,R=N+(D<<5&4294967295|D>>>27),D=P+(N^k&(R^N))+M[14]+3275163606&4294967295,P=R+(D<<9&4294967295|D>>>23),D=k+(R^N&(P^R))+M[3]+4107603335&4294967295,k=P+(D<<14&4294967295|D>>>18),D=N+(P^R&(k^P))+M[8]+1163531501&4294967295,N=k+(D<<20&4294967295|D>>>12),D=R+(k^P&(N^k))+M[13]+2850285829&4294967295,R=N+(D<<5&4294967295|D>>>27),D=P+(N^k&(R^N))+M[2]+4243563512&4294967295,P=R+(D<<9&4294967295|D>>>23),D=k+(R^N&(P^R))+M[7]+1735328473&4294967295,k=P+(D<<14&4294967295|D>>>18),D=N+(P^R&(k^P))+M[12]+2368359562&4294967295,N=k+(D<<20&4294967295|D>>>12),D=R+(N^k^P)+M[5]+4294588738&4294967295,R=N+(D<<4&4294967295|D>>>28),D=P+(R^N^k)+M[8]+2272392833&4294967295,P=R+(D<<11&4294967295|D>>>21),D=k+(P^R^N)+M[11]+1839030562&4294967295,k=P+(D<<16&4294967295|D>>>16),D=N+(k^P^R)+M[14]+4259657740&4294967295,N=k+(D<<23&4294967295|D>>>9),D=R+(N^k^P)+M[1]+2763975236&4294967295,R=N+(D<<4&4294967295|D>>>28),D=P+(R^N^k)+M[4]+1272893353&4294967295,P=R+(D<<11&4294967295|D>>>21),D=k+(P^R^N)+M[7]+4139469664&4294967295,k=P+(D<<16&4294967295|D>>>16),D=N+(k^P^R)+M[10]+3200236656&4294967295,N=k+(D<<23&4294967295|D>>>9),D=R+(N^k^P)+M[13]+681279174&4294967295,R=N+(D<<4&4294967295|D>>>28),D=P+(R^N^k)+M[0]+3936430074&4294967295,P=R+(D<<11&4294967295|D>>>21),D=k+(P^R^N)+M[3]+3572445317&4294967295,k=P+(D<<16&4294967295|D>>>16),D=N+(k^P^R)+M[6]+76029189&4294967295,N=k+(D<<23&4294967295|D>>>9),D=R+(N^k^P)+M[9]+3654602809&4294967295,R=N+(D<<4&4294967295|D>>>28),D=P+(R^N^k)+M[12]+3873151461&4294967295,P=R+(D<<11&4294967295|D>>>21),D=k+(P^R^N)+M[15]+530742520&4294967295,k=P+(D<<16&4294967295|D>>>16),D=N+(k^P^R)+M[2]+3299628645&4294967295,N=k+(D<<23&4294967295|D>>>9),D=R+(k^(N|~P))+M[0]+4096336452&4294967295,R=N+(D<<6&4294967295|D>>>26),D=P+(N^(R|~k))+M[7]+1126891415&4294967295,P=R+(D<<10&4294967295|D>>>22),D=k+(R^(P|~N))+M[14]+2878612391&4294967295,k=P+(D<<15&4294967295|D>>>17),D=N+(P^(k|~R))+M[5]+4237533241&4294967295,N=k+(D<<21&4294967295|D>>>11),D=R+(k^(N|~P))+M[12]+1700485571&4294967295,R=N+(D<<6&4294967295|D>>>26),D=P+(N^(R|~k))+M[3]+2399980690&4294967295,P=R+(D<<10&4294967295|D>>>22),D=k+(R^(P|~N))+M[10]+4293915773&4294967295,k=P+(D<<15&4294967295|D>>>17),D=N+(P^(k|~R))+M[1]+2240044497&4294967295,N=k+(D<<21&4294967295|D>>>11),D=R+(k^(N|~P))+M[8]+1873313359&4294967295,R=N+(D<<6&4294967295|D>>>26),D=P+(N^(R|~k))+M[15]+4264355552&4294967295,P=R+(D<<10&4294967295|D>>>22),D=k+(R^(P|~N))+M[6]+2734768916&4294967295,k=P+(D<<15&4294967295|D>>>17),D=N+(P^(k|~R))+M[13]+1309151649&4294967295,N=k+(D<<21&4294967295|D>>>11),D=R+(k^(N|~P))+M[4]+4149444226&4294967295,R=N+(D<<6&4294967295|D>>>26),D=P+(N^(R|~k))+M[11]+3174756917&4294967295,P=R+(D<<10&4294967295|D>>>22),D=k+(R^(P|~N))+M[2]+718787259&4294967295,k=P+(D<<15&4294967295|D>>>17),D=N+(P^(k|~R))+M[9]+3951481745&4294967295,V.g[0]=V.g[0]+R&4294967295,V.g[1]=V.g[1]+(k+(D<<21&4294967295|D>>>11))&4294967295,V.g[2]=V.g[2]+k&4294967295,V.g[3]=V.g[3]+P&4294967295}s.prototype.u=function(V,R){R===void 0&&(R=V.length);for(var N=R-this.blockSize,M=this.B,k=this.h,P=0;P<R;){if(k==0)for(;P<=N;)o(this,V,P),P+=this.blockSize;if(typeof V=="string"){for(;P<R;)if(M[k++]=V.charCodeAt(P++),k==this.blockSize){o(this,M),k=0;break}}else for(;P<R;)if(M[k++]=V[P++],k==this.blockSize){o(this,M),k=0;break}}this.h=k,this.o+=R},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var R=1;R<V.length-8;++R)V[R]=0;var N=8*this.o;for(R=V.length-8;R<V.length;++R)V[R]=N&255,N/=256;for(this.u(V),V=Array(16),R=N=0;4>R;++R)for(var M=0;32>M;M+=8)V[N++]=this.g[R]>>>M&255;return V};function u(V,R){var N=m;return Object.prototype.hasOwnProperty.call(N,V)?N[V]:N[V]=R(V)}function f(V,R){this.h=R;for(var N=[],M=!0,k=V.length-1;0<=k;k--){var P=V[k]|0;M&&P==R||(N[k]=P,M=!1)}this.g=N}var m={};function g(V){return-128<=V&&128>V?u(V,function(R){return new f([R|0],0>R?-1:0)}):new f([V|0],0>V?-1:0)}function _(V){if(isNaN(V)||!isFinite(V))return S;if(0>V)return G(_(-V));for(var R=[],N=1,M=0;V>=N;M++)R[M]=V/N|0,N*=4294967296;return new f(R,0)}function E(V,R){if(V.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(V.charAt(0)=="-")return G(E(V.substring(1),R));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=_(Math.pow(R,8)),M=S,k=0;k<V.length;k+=8){var P=Math.min(8,V.length-k),D=parseInt(V.substring(k,k+P),R);8>P?(P=_(Math.pow(R,P)),M=M.j(P).add(_(D))):(M=M.j(N),M=M.add(_(D)))}return M}var S=g(0),w=g(1),H=g(16777216);r=f.prototype,r.m=function(){if(ie(this))return-G(this).m();for(var V=0,R=1,N=0;N<this.g.length;N++){var M=this.i(N);V+=(0<=M?M:4294967296+M)*R,R*=4294967296}return V},r.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(Z(this))return"0";if(ie(this))return"-"+G(this).toString(V);for(var R=_(Math.pow(V,6)),N=this,M="";;){var k=Ve(N,R).g;N=ce(N,k.j(R));var P=((0<N.g.length?N.g[0]:N.h)>>>0).toString(V);if(N=k,Z(N))return P+M;for(;6>P.length;)P="0"+P;M=P+M}},r.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function Z(V){if(V.h!=0)return!1;for(var R=0;R<V.g.length;R++)if(V.g[R]!=0)return!1;return!0}function ie(V){return V.h==-1}r.l=function(V){return V=ce(this,V),ie(V)?-1:Z(V)?0:1};function G(V){for(var R=V.g.length,N=[],M=0;M<R;M++)N[M]=~V.g[M];return new f(N,~V.h).add(w)}r.abs=function(){return ie(this)?G(this):this},r.add=function(V){for(var R=Math.max(this.g.length,V.g.length),N=[],M=0,k=0;k<=R;k++){var P=M+(this.i(k)&65535)+(V.i(k)&65535),D=(P>>>16)+(this.i(k)>>>16)+(V.i(k)>>>16);M=D>>>16,P&=65535,D&=65535,N[k]=D<<16|P}return new f(N,N[N.length-1]&-2147483648?-1:0)};function ce(V,R){return V.add(G(R))}r.j=function(V){if(Z(this)||Z(V))return S;if(ie(this))return ie(V)?G(this).j(G(V)):G(G(this).j(V));if(ie(V))return G(this.j(G(V)));if(0>this.l(H)&&0>V.l(H))return _(this.m()*V.m());for(var R=this.g.length+V.g.length,N=[],M=0;M<2*R;M++)N[M]=0;for(M=0;M<this.g.length;M++)for(var k=0;k<V.g.length;k++){var P=this.i(M)>>>16,D=this.i(M)&65535,Et=V.i(k)>>>16,ot=V.i(k)&65535;N[2*M+2*k]+=D*ot,_e(N,2*M+2*k),N[2*M+2*k+1]+=P*ot,_e(N,2*M+2*k+1),N[2*M+2*k+1]+=D*Et,_e(N,2*M+2*k+1),N[2*M+2*k+2]+=P*Et,_e(N,2*M+2*k+2)}for(M=0;M<R;M++)N[M]=N[2*M+1]<<16|N[2*M];for(M=R;M<2*R;M++)N[M]=0;return new f(N,0)};function _e(V,R){for(;(V[R]&65535)!=V[R];)V[R+1]+=V[R]>>>16,V[R]&=65535,R++}function de(V,R){this.g=V,this.h=R}function Ve(V,R){if(Z(R))throw Error("division by zero");if(Z(V))return new de(S,S);if(ie(V))return R=Ve(G(V),R),new de(G(R.g),G(R.h));if(ie(R))return R=Ve(V,G(R)),new de(G(R.g),R.h);if(30<V.g.length){if(ie(V)||ie(R))throw Error("slowDivide_ only works with positive integers.");for(var N=w,M=R;0>=M.l(V);)N=Se(N),M=Se(M);var k=ke(N,1),P=ke(M,1);for(M=ke(M,2),N=ke(N,2);!Z(M);){var D=P.add(M);0>=D.l(V)&&(k=k.add(N),P=D),M=ke(M,1),N=ke(N,1)}return R=ce(V,k.j(R)),new de(k,R)}for(k=S;0<=V.l(R);){for(N=Math.max(1,Math.floor(V.m()/R.m())),M=Math.ceil(Math.log(N)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),P=_(N),D=P.j(R);ie(D)||0<D.l(V);)N-=M,P=_(N),D=P.j(R);Z(P)&&(P=w),k=k.add(P),V=ce(V,D)}return new de(k,V)}r.A=function(V){return Ve(this,V).h},r.and=function(V){for(var R=Math.max(this.g.length,V.g.length),N=[],M=0;M<R;M++)N[M]=this.i(M)&V.i(M);return new f(N,this.h&V.h)},r.or=function(V){for(var R=Math.max(this.g.length,V.g.length),N=[],M=0;M<R;M++)N[M]=this.i(M)|V.i(M);return new f(N,this.h|V.h)},r.xor=function(V){for(var R=Math.max(this.g.length,V.g.length),N=[],M=0;M<R;M++)N[M]=this.i(M)^V.i(M);return new f(N,this.h^V.h)};function Se(V){for(var R=V.g.length+1,N=[],M=0;M<R;M++)N[M]=V.i(M)<<1|V.i(M-1)>>>31;return new f(N,V.h)}function ke(V,R){var N=R>>5;R%=32;for(var M=V.g.length-N,k=[],P=0;P<M;P++)k[P]=0<R?V.i(P+N)>>>R|V.i(P+N+1)<<32-R:V.i(P+N);return new f(k,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,RE=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=E,Xr=f}).apply(typeof Dv<"u"?Dv:typeof self<"u"?self:typeof window<"u"?window:{});var kc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var IE,Vl,CE,Fc,cm,NE,DE,xE;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,y){return c==Array.prototype||c==Object.prototype||(c[p]=y.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof kc=="object"&&kc];for(var p=0;p<c.length;++p){var y=c[p];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function o(c,p){if(p)e:{var y=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var L=c[b];if(!(L in y))break e;y=y[L]}c=c[c.length-1],b=y[c],p=p(b),p!=b&&p!=null&&e(y,c,{configurable:!0,writable:!0,value:p})}}function u(c,p){c instanceof String&&(c+="");var y=0,b=!1,L={next:function(){if(!b&&y<c.length){var F=y++;return{value:p(F,c[F]),done:!1}}return b=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}o("Array.prototype.values",function(c){return c||function(){return u(this,function(p,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function g(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function _(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function E(c,p,y){return c.call.apply(c.bind,arguments)}function S(c,p,y){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,b),c.apply(p,L)}}return function(){return c.apply(p,arguments)}}function w(c,p,y){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,w.apply(null,arguments)}function H(c,p){var y=Array.prototype.slice.call(arguments,1);return function(){var b=y.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function Z(c,p){function y(){}y.prototype=p.prototype,c.aa=p.prototype,c.prototype=new y,c.prototype.constructor=c,c.Qb=function(b,L,F){for(var ne=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)ne[ze-2]=arguments[ze];return p.prototype[L].apply(b,ne)}}function ie(c){const p=c.length;if(0<p){const y=Array(p);for(let b=0;b<p;b++)y[b]=c[b];return y}return[]}function G(c,p){for(let y=1;y<arguments.length;y++){const b=arguments[y];if(g(b)){const L=c.length||0,F=b.length||0;c.length=L+F;for(let ne=0;ne<F;ne++)c[L+ne]=b[ne]}else c.push(b)}}class ce{constructor(p,y){this.i=p,this.j=y,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function _e(c){return/^[\s\xa0]*$/.test(c)}function de(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function Ve(c){return Ve[" "](c),c}Ve[" "]=function(){};var Se=de().indexOf("Gecko")!=-1&&!(de().toLowerCase().indexOf("webkit")!=-1&&de().indexOf("Edge")==-1)&&!(de().indexOf("Trident")!=-1||de().indexOf("MSIE")!=-1)&&de().indexOf("Edge")==-1;function ke(c,p,y){for(const b in c)p.call(y,c[b],b,c)}function V(c,p){for(const y in c)p.call(void 0,c[y],y,c)}function R(c){const p={};for(const y in c)p[y]=c[y];return p}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,p){let y,b;for(let L=1;L<arguments.length;L++){b=arguments[L];for(y in b)c[y]=b[y];for(let F=0;F<N.length;F++)y=N[F],Object.prototype.hasOwnProperty.call(b,y)&&(c[y]=b[y])}}function k(c){var p=1;c=c.split(":");const y=[];for(;0<p&&c.length;)y.push(c.shift()),p--;return c.length&&y.push(c.join(":")),y}function P(c){m.setTimeout(()=>{throw c},0)}function D(){var c=Be;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class Et{constructor(){this.h=this.g=null}add(p,y){const b=ot.get();b.set(p,y),this.h?this.h.next=b:this.g=b,this.h=b}}var ot=new ce(()=>new Y,c=>c.reset());class Y{constructor(){this.next=this.g=this.h=null}set(p,y){this.h=p,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let te,ue=!1,Be=new Et,x=()=>{const c=m.Promise.resolve(void 0);te=()=>{c.then(J)}};var J=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(y){P(y)}var p=ot;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}ue=!1};function re(){this.s=this.s,this.C=this.C}re.prototype.s=!1,re.prototype.ma=function(){this.s||(this.s=!0,this.N())},re.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ee(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}ee.prototype.h=function(){this.defaultPrevented=!0};var me=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const y=()=>{};m.addEventListener("test",y,p),m.removeEventListener("test",y,p)}catch{}return c}();function Ne(c,p){if(ee.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var y=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(Se){e:{try{Ve(p.nodeName);var L=!0;break e}catch{}L=!1}L||(p=null)}}else y=="mouseover"?p=c.fromElement:y=="mouseout"&&(p=c.toElement);this.relatedTarget=p,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ae[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ne.aa.h.call(this)}}Z(Ne,ee);var Ae={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var wt="closure_listenable_"+(1e6*Math.random()|0),tt=0;function Cn(c,p,y,b,L){this.listener=c,this.proxy=null,this.src=p,this.type=y,this.capture=!!b,this.ha=L,this.key=++tt,this.da=this.fa=!1}function Hn(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Fn(c){this.src=c,this.g={},this.h=0}Fn.prototype.add=function(c,p,y,b,L){var F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);var ne=Ii(c,p,b,L);return-1<ne?(p=c[ne],y||(p.fa=!1)):(p=new Cn(p,this.src,F,!!b,L),p.fa=y,c.push(p)),p};function Ri(c,p){var y=p.type;if(y in c.g){var b=c.g[y],L=Array.prototype.indexOf.call(b,p,void 0),F;(F=0<=L)&&Array.prototype.splice.call(b,L,1),F&&(Hn(p),c.g[y].length==0&&(delete c.g[y],c.h--))}}function Ii(c,p,y,b){for(var L=0;L<c.length;++L){var F=c[L];if(!F.da&&F.listener==p&&F.capture==!!y&&F.ha==b)return L}return-1}var Ci="closure_lm_"+(1e6*Math.random()|0),ge={};function Oe(c,p,y,b,L){if(Array.isArray(p)){for(var F=0;F<p.length;F++)Oe(c,p[F],y,b,L);return null}return y=Ws(y),c&&c[wt]?c.K(p,y,_(b)?!!b.capture:!1,L):Ge(c,p,y,!1,b,L)}function Ge(c,p,y,b,L,F){if(!p)throw Error("Invalid event type");var ne=_(L)?!!L.capture:!!L,ze=hr(c);if(ze||(c[Ci]=ze=new Fn(c)),y=ze.add(p,y,b,ne,F),y.proxy)return y;if(b=vo(),y.proxy=b,b.src=c,b.listener=y,c.addEventListener)me||(L=ne),L===void 0&&(L=!1),c.addEventListener(p.toString(),b,L);else if(c.attachEvent)c.attachEvent(Ni(p.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return y}function vo(){function c(y){return p.call(c.src,c.listener,y)}const p=Eo;return c}function os(c,p,y,b,L){if(Array.isArray(p))for(var F=0;F<p.length;F++)os(c,p[F],y,b,L);else b=_(b)?!!b.capture:!!b,y=Ws(y),c&&c[wt]?(c=c.i,p=String(p).toString(),p in c.g&&(F=c.g[p],y=Ii(F,y,b,L),-1<y&&(Hn(F[y]),Array.prototype.splice.call(F,y,1),F.length==0&&(delete c.g[p],c.h--)))):c&&(c=hr(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Ii(p,y,b,L)),(y=-1<c?p[c]:null)&&cr(y))}function cr(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[wt])Ri(p.i,c);else{var y=c.type,b=c.proxy;p.removeEventListener?p.removeEventListener(y,b,c.capture):p.detachEvent?p.detachEvent(Ni(y),b):p.addListener&&p.removeListener&&p.removeListener(b),(y=hr(p))?(Ri(y,c),y.h==0&&(y.src=null,p[Ci]=null)):Hn(c)}}}function Ni(c){return c in ge?ge[c]:ge[c]="on"+c}function Eo(c,p){if(c.da)c=!0;else{p=new Ne(p,this);var y=c.listener,b=c.ha||c.src;c.fa&&cr(c),c=y.call(b,p)}return c}function hr(c){return c=c[Ci],c instanceof Fn?c:null}var ls="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ws(c){return typeof c=="function"?c:(c[ls]||(c[ls]=function(p){return c.handleEvent(p)}),c[ls])}function ht(){re.call(this),this.i=new Fn(this),this.M=this,this.F=null}Z(ht,re),ht.prototype[wt]=!0,ht.prototype.removeEventListener=function(c,p,y,b){os(this,c,p,y,b)};function Ke(c,p){var y,b=c.F;if(b)for(y=[];b;b=b.F)y.push(b);if(c=c.M,b=p.type||p,typeof p=="string")p=new ee(p,c);else if(p instanceof ee)p.target=p.target||c;else{var L=p;p=new ee(b,c),M(p,L)}if(L=!0,y)for(var F=y.length-1;0<=F;F--){var ne=p.g=y[F];L=ln(ne,b,!0,p)&&L}if(ne=p.g=c,L=ln(ne,b,!0,p)&&L,L=ln(ne,b,!1,p)&&L,y)for(F=0;F<y.length;F++)ne=p.g=y[F],L=ln(ne,b,!1,p)&&L}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var y=c.g[p],b=0;b<y.length;b++)Hn(y[b]);delete c.g[p],c.h--}}this.F=null},ht.prototype.K=function(c,p,y,b){return this.i.add(String(c),p,!1,y,b)},ht.prototype.L=function(c,p,y,b){return this.i.add(String(c),p,!0,y,b)};function ln(c,p,y,b){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var L=!0,F=0;F<p.length;++F){var ne=p[F];if(ne&&!ne.da&&ne.capture==y){var ze=ne.listener,Vt=ne.ha||ne.src;ne.fa&&Ri(c.i,ne),L=ze.call(Vt,b)!==!1&&L}}return L&&!b.defaultPrevented}function Bt(c,p,y){if(typeof c=="function")y&&(c=w(c,y));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:m.setTimeout(c,p||0)}function Js(c){c.g=Bt(()=>{c.g=null,c.i&&(c.i=!1,Js(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class To extends re{constructor(p,y){super(),this.m=p,this.l=y,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Js(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ye(c){re.call(this),this.h=c,this.g={}}Z(Ye,re);var ft=[];function lt(c){ke(c.g,function(p,y){this.g.hasOwnProperty(y)&&cr(p)},c),c.g={}}Ye.prototype.N=function(){Ye.aa.N.call(this),lt(this)},Ye.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gn=m.JSON.stringify,ea=m.JSON.parse,us=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Ao(){}Ao.prototype.h=null;function bo(c){return c.h||(c.h=c.i())}function So(){}var Di={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xi(){ee.call(this,"d")}Z(xi,ee);function wo(){ee.call(this,"c")}Z(wo,ee);var ei={},Ro=null;function fr(){return Ro=Ro||new ht}ei.La="serverreachability";function ta(c){ee.call(this,ei.La,c)}Z(ta,ee);function dr(c){const p=fr();Ke(p,new ta(p))}ei.STAT_EVENT="statevent";function du(c,p){ee.call(this,ei.STAT_EVENT,c),this.stat=p}Z(du,ee);function dt(c){const p=fr();Ke(p,new du(p,c))}ei.Ma="timingevent";function Mt(c,p){ee.call(this,ei.Ma,c),this.size=p}Z(Mt,ee);function Rt(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},p)}function Nn(){this.g=!0}Nn.prototype.xa=function(){this.g=!1};function Io(c,p,y,b,L,F){c.info(function(){if(c.g)if(F)for(var ne="",ze=F.split("&"),Vt=0;Vt<ze.length;Vt++){var qe=ze[Vt].split("=");if(1<qe.length){var qt=qe[0];qe=qe[1];var kt=qt.split("_");ne=2<=kt.length&&kt[1]=="type"?ne+(qt+"="+qe+"&"):ne+(qt+"=redacted&")}}else ne=null;else ne=F;return"XMLHTTP REQ ("+b+") [attempt "+L+"]: "+p+`
`+y+`
`+ne})}function jh(c,p,y,b,L,F,ne){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+L+"]: "+p+`
`+y+`
`+F+" "+ne})}function mr(c,p,y,b){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+cs(c,y)+(b?" "+b:"")})}function mu(c,p){c.info(function(){return"TIMEOUT: "+p})}Nn.prototype.info=function(){};function cs(c,p){if(!c.g)return p;if(!p)return null;try{var y=JSON.parse(p);if(y){for(c=0;c<y.length;c++)if(Array.isArray(y[c])){var b=y[c];if(!(2>b.length)){var L=b[1];if(Array.isArray(L)&&!(1>L.length)){var F=L[0];if(F!="noop"&&F!="stop"&&F!="close")for(var ne=1;ne<L.length;ne++)L[ne]=""}}}}return Gn(y)}catch{return p}}var pr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Oi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ti;function ni(){}Z(ni,Ao),ni.prototype.g=function(){return new XMLHttpRequest},ni.prototype.i=function(){return{}},ti=new ni;function un(c,p,y,b){this.j=c,this.i=p,this.l=y,this.R=b||1,this.U=new Ye(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Tt}function Tt(){this.i=null,this.g="",this.h=!1}var Co={},na={};function Yn(c,p,y){c.L=1,c.v=ps(vn(p)),c.m=y,c.P=!0,Mi(c,null)}function Mi(c,p){c.F=Date.now(),hs(c),c.A=vn(c.v);var y=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),Vo(y.i,"t",b),c.C=0,y=c.j.J,c.h=new Tt,c.g=Du(c.j,y?p:null,!c.m),0<c.O&&(c.M=new To(w(c.Y,c,c.g),c.O)),p=c.U,y=c.g,b=c.ca;var L="readystatechange";Array.isArray(L)||(L&&(ft[0]=L.toString()),L=ft);for(var F=0;F<L.length;F++){var ne=Oe(y,L[F],b||p.handleEvent,!1,p.h||p);if(!ne)break;p.g[ne.key]=ne}p=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),dr(),Io(c.i,c.u,c.A,c.l,c.R,c.m)}un.prototype.ca=function(c){c=c.target;const p=this.M;p&&Mn(c)==3?p.j():this.Y(c)},un.prototype.Y=function(c){try{if(c==this.g)e:{const kt=Mn(this.g);var p=this.g.Ba();const zi=this.g.Z();if(!(3>kt)&&(kt!=3||this.g&&(this.h.h||this.g.oa()||Au(this.g)))){this.J||kt!=4||p==7||(p==8||0>=zi?dr(3):dr(2)),gr(this);var y=this.g.Z();this.X=y;t:if(pu(this)){var b=Au(this.g);c="";var L=b.length,F=Mn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qt(this),ii(this);var ne="";break t}this.h.i=new m.TextDecoder}for(p=0;p<L;p++)this.h.h=!0,c+=this.h.i.decode(b[p],{stream:!(F&&p==L-1)});b.length=0,this.h.g+=c,this.C=0,ne=this.h.g}else ne=this.g.oa();if(this.o=y==200,jh(this.i,this.u,this.A,this.l,this.R,kt,y),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,Vt=this.g;if((ze=Vt.g?Vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_e(ze)){var qe=ze;break t}}qe=null}if(y=qe)mr(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fs(this,y);else{this.o=!1,this.s=3,dt(12),Qt(this),ii(this);break e}}if(this.P){y=!0;let Kt;for(;!this.J&&this.C<ne.length;)if(Kt=gu(this,ne),Kt==na){kt==4&&(this.s=4,dt(14),y=!1),mr(this.i,this.l,null,"[Incomplete Response]");break}else if(Kt==Co){this.s=4,dt(15),mr(this.i,this.l,ne,"[Invalid Chunk]"),y=!1;break}else mr(this.i,this.l,Kt,null),fs(this,Kt);if(pu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kt!=4||ne.length!=0||this.h.h||(this.s=1,dt(16),y=!1),this.o=this.o&&y,!y)mr(this.i,this.l,ne,"[Invalid Chunked Response]"),Qt(this),ii(this);else if(0<ne.length&&!this.W){this.W=!0;var qt=this.j;qt.g==this&&qt.ba&&!qt.M&&(qt.j.info("Great, no buffering proxy detected. Bytes received: "+ne.length),bs(qt),qt.M=!0,dt(11))}}else mr(this.i,this.l,ne,null),fs(this,ne);kt==4&&Qt(this),this.o&&!this.J&&(kt==4?Iu(this.j,this):(this.o=!1,hs(this)))}else qh(this.g),y==400&&0<ne.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),Qt(this),ii(this)}}}catch{}finally{}};function pu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function gu(c,p){var y=c.C,b=p.indexOf(`
`,y);return b==-1?na:(y=Number(p.substring(y,b)),isNaN(y)?Co:(b+=1,b+y>p.length?na:(p=p.slice(b,b+y),c.C=b+y,p)))}un.prototype.cancel=function(){this.J=!0,Qt(this)};function hs(c){c.S=Date.now()+c.I,_u(c,c.I)}function _u(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Rt(w(c.ba,c),p)}function gr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}un.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(mu(this.i,this.A),this.L!=2&&(dr(),dt(17)),Qt(this),this.s=2,ii(this)):_u(this,this.S-c)};function ii(c){c.j.G==0||c.J||Iu(c.j,c)}function Qt(c){gr(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,lt(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function fs(c,p){try{var y=c.j;if(y.G!=0&&(y.g==c||No(y.h,c))){if(!c.K&&No(y.h,c)&&y.G==3){try{var b=y.Da.g.parse(p)}catch{b=null}if(Array.isArray(b)&&b.length==3){var L=b;if(L[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<c.F)ma(y),fa(y);else break e;Uo(y),dt(18)}}else y.za=L[1],0<y.za-y.T&&37500>L[2]&&y.F&&y.v==0&&!y.C&&(y.C=Rt(w(y.Za,y),6e3));if(1>=ra(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Bi(y,11)}else if((c.K||y.g==c)&&ma(y),!_e(p))for(L=y.Da.g.parse(p),p=0;p<L.length;p++){let qe=L[p];if(y.T=qe[0],qe=qe[1],y.G==2)if(qe[0]=="c"){y.K=qe[1],y.ia=qe[2];const qt=qe[3];qt!=null&&(y.la=qt,y.j.info("VER="+y.la));const kt=qe[4];kt!=null&&(y.Aa=kt,y.j.info("SVER="+y.Aa));const zi=qe[5];zi!=null&&typeof zi=="number"&&0<zi&&(b=1.5*zi,y.L=b,y.j.info("backChannelRequestTimeoutMs_="+b)),b=y;const Kt=c.g;if(Kt){const ci=Kt.g?Kt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ci){var F=b.h;F.g||ci.indexOf("spdy")==-1&&ci.indexOf("quic")==-1&&ci.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(sa(F,F.h),F.h=null))}if(b.D){const zo=Kt.g?Kt.g.getResponseHeader("X-HTTP-Session-Id"):null;zo&&(b.ya=zo,nt(b.I,b.D,zo))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-c.F,y.j.info("Handshake RTT: "+y.R+"ms")),b=y;var ne=c;if(b.qa=Nu(b,b.J?b.ia:null,b.W),ne.K){cn(b.h,ne);var ze=ne,Vt=b.L;Vt&&(ze.I=Vt),ze.B&&(gr(ze),hs(ze)),b.g=ne}else wu(b);0<y.i.length&&da(y)}else qe[0]!="stop"&&qe[0]!="close"||Bi(y,7);else y.G==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Bi(y,7):jo(y):qe[0]!="noop"&&y.l&&y.l.ta(qe),y.v=0)}}dr(4)}catch{}}var yu=class{constructor(c,p){this.g=c,this.map=p}};function Vi(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ia(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ra(c){return c.h?1:c.g?c.g.size:0}function No(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function sa(c,p){c.g?c.g.add(p):c.h=p}function cn(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Vi.prototype.cancel=function(){if(this.i=Do(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Do(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const y of c.g.values())p=p.concat(y.D);return p}return ie(c.i)}function Lh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var p=[],y=c.length,b=0;b<y;b++)p.push(c[b]);return p}p=[],y=0;for(b in c)p[y++]=c[b];return p}function aa(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var p=[];c=c.length;for(var y=0;y<c;y++)p.push(y);return p}p=[],y=0;for(const b in c)p[y++]=b;return p}}}function xo(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var y=aa(c),b=Lh(c),L=b.length,F=0;F<L;F++)p.call(void 0,b[F],y&&y[F],c)}var ds=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Uh(c,p){if(c){c=c.split("&");for(var y=0;y<c.length;y++){var b=c[y].indexOf("="),L=null;if(0<=b){var F=c[y].substring(0,b);L=c[y].substring(b+1)}else F=c[y];p(F,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function It(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof It){this.h=c.h,ms(this,c.j),this.o=c.o,this.g=c.g,_r(this,c.s),this.l=c.l;var p=c.i,y=new Pi;y.i=p.i,p.g&&(y.g=new Map(p.g),y.h=p.h),ki(this,y),this.m=c.m}else c&&(p=String(c).match(ds))?(this.h=!1,ms(this,p[1]||"",!0),this.o=Dn(p[2]||""),this.g=Dn(p[3]||"",!0),_r(this,p[4]),this.l=Dn(p[5]||"",!0),ki(this,p[6]||"",!0),this.m=Dn(p[7]||"")):(this.h=!1,this.i=new Pi(null,this.h))}It.prototype.toString=function(){var c=[],p=this.j;p&&c.push(gs(p,Oo,!0),":");var y=this.g;return(y||p=="file")&&(c.push("//"),(p=this.o)&&c.push(gs(p,Oo,!0),"@"),c.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&c.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&c.push("/"),c.push(gs(y,y.charAt(0)=="/"?Bh:Mo,!0))),(y=this.i.toString())&&c.push("?",y),(y=this.m)&&c.push("#",gs(y,oa)),c.join("")};function vn(c){return new It(c)}function ms(c,p,y){c.j=y?Dn(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function _r(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function ki(c,p,y){p instanceof Pi?(c.i=p,Eu(c.i,c.h)):(y||(p=gs(p,zh)),c.i=new Pi(p,c.h))}function nt(c,p,y){c.i.set(p,y)}function ps(c){return nt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Dn(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function gs(c,p,y){return typeof c=="string"?(c=encodeURI(c).replace(p,vu),y&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function vu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Oo=/[#\/\?@]/g,Mo=/[#\?:]/g,Bh=/[#\?]/g,zh=/[#\?@]/g,oa=/#/g;function Pi(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function xn(c){c.g||(c.g=new Map,c.h=0,c.i&&Uh(c.i,function(p,y){c.add(decodeURIComponent(p.replace(/\+/g," ")),y)}))}r=Pi.prototype,r.add=function(c,p){xn(this),this.i=null,c=ri(this,c);var y=this.g.get(c);return y||this.g.set(c,y=[]),y.push(p),this.h+=1,this};function ji(c,p){xn(c),p=ri(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Li(c,p){return xn(c),p=ri(c,p),c.g.has(p)}r.forEach=function(c,p){xn(this),this.g.forEach(function(y,b){y.forEach(function(L){c.call(p,L,b,this)},this)},this)},r.na=function(){xn(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),y=[];for(let b=0;b<p.length;b++){const L=c[b];for(let F=0;F<L.length;F++)y.push(p[b])}return y},r.V=function(c){xn(this);let p=[];if(typeof c=="string")Li(this,c)&&(p=p.concat(this.g.get(ri(this,c))));else{c=Array.from(this.g.values());for(let y=0;y<c.length;y++)p=p.concat(c[y])}return p},r.set=function(c,p){return xn(this),this.i=null,c=ri(this,c),Li(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},r.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function Vo(c,p,y){ji(c,p),0<y.length&&(c.i=null,c.g.set(ri(c,p),ie(y)),c.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var y=0;y<p.length;y++){var b=p[y];const F=encodeURIComponent(String(b)),ne=this.V(b);for(b=0;b<ne.length;b++){var L=F;ne[b]!==""&&(L+="="+encodeURIComponent(String(ne[b]))),c.push(L)}}return this.i=c.join("&")};function ri(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function Eu(c,p){p&&!c.j&&(xn(c),c.i=null,c.g.forEach(function(y,b){var L=b.toLowerCase();b!=L&&(ji(this,b),Vo(this,L,y))},c)),c.j=p}function _s(c,p){const y=new Nn;if(m.Image){const b=new Image;b.onload=H(On,y,"TestLoadImage: loaded",!0,p,b),b.onerror=H(On,y,"TestLoadImage: error",!1,p,b),b.onabort=H(On,y,"TestLoadImage: abort",!1,p,b),b.ontimeout=H(On,y,"TestLoadImage: timeout",!1,p,b),m.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else p(!1)}function Qn(c,p){const y=new Nn,b=new AbortController,L=setTimeout(()=>{b.abort(),On(y,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:b.signal}).then(F=>{clearTimeout(L),F.ok?On(y,"TestPingServer: ok",!0,p):On(y,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),On(y,"TestPingServer: error",!1,p)})}function On(c,p,y,b,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),b(y)}catch{}}function ys(){this.g=new us}function si(c,p,y){const b=y||"";try{xo(c,function(L,F){let ne=L;_(L)&&(ne=Gn(L)),p.push(b+F+"="+encodeURIComponent(ne))})}catch(L){throw p.push(b+"type="+encodeURIComponent("_badmap")),L}}function yr(c){this.l=c.Ub||null,this.j=c.eb||!1}Z(yr,Ao),yr.prototype.g=function(){return new Ui(this.l,this.j)},yr.prototype.i=function(c){return function(){return c}}({});function Ui(c,p){ht.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Z(Ui,ht),r=Ui.prototype,r.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,oi(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||m).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ai(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,oi(this)),this.g&&(this.readyState=3,oi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ko(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ko(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?ai(this):oi(this),this.readyState==3&&ko(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,ai(this))},r.Qa=function(c){this.g&&(this.response=c,ai(this))},r.ga=function(){this.g&&ai(this)};function ai(c){c.readyState=4,c.l=null,c.j=null,c.v=null,oi(c)}r.setRequestHeader=function(c,p){this.u.append(c,p)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var y=p.next();!y.done;)y=y.value,c.push(y[0]+": "+y[1]),y=p.next();return c.join(`\r
`)};function oi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ui.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Po(c){let p="";return ke(c,function(y,b){p+=b,p+=":",p+=y,p+=`\r
`}),p}function zt(c,p,y){e:{for(b in y){var b=!1;break e}b=!0}b||(y=Po(y),typeof c=="string"?y!=null&&encodeURIComponent(String(y)):nt(c,p,y))}function $e(c){ht.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Z($e,ht);var la=/^https?$/i,vs=["POST","PUT"];r=$e.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,p,y,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ti.g(),this.v=this.o?bo(this.o):bo(ti),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(F){Tu(this,F);return}if(c=y||"",y=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var L in b)y.set(L,b[L]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const F of b.keys())y.set(F,b.get(F));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(y.keys()).find(F=>F.toLowerCase()=="content-type"),L=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(vs,p,void 0))||b||L||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,ne]of y)this.g.setRequestHeader(F,ne);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Es(this),this.u=!0,this.g.send(c),this.u=!1}catch(F){Tu(this,F)}};function Tu(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,ua(c),li(c)}function ua(c){c.A||(c.A=!0,Ke(c,"complete"),Ke(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ke(this,"complete"),Ke(this,"abort"),li(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),li(this,!0)),$e.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ca(this):this.bb())},r.bb=function(){ca(this)};function ca(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Mn(c)!=4||c.Z()!=2)){if(c.u&&Mn(c)==4)Bt(c.Ea,0,c);else if(Ke(c,"readystatechange"),Mn(c)==4){c.h=!1;try{const ne=c.Z();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var y;if(!(y=p)){var b;if(b=ne===0){var L=String(c.D).match(ds)[1]||null;!L&&m.self&&m.self.location&&(L=m.self.location.protocol.slice(0,-1)),b=!la.test(L?L.toLowerCase():"")}y=b}if(y)Ke(c,"complete"),Ke(c,"success");else{c.m=6;try{var F=2<Mn(c)?c.g.statusText:""}catch{F=""}c.l=F+" ["+c.Z()+"]",ua(c)}}finally{li(c)}}}}function li(c,p){if(c.g){Es(c);const y=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||Ke(c,"ready");try{y.onreadystatechange=b}catch{}}}function Es(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Mn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Mn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),ea(p)}};function Au(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function qh(c){const p={};c=(c.g&&2<=Mn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(_e(c[b]))continue;var y=k(c[b]);const L=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const F=p[L]||[];p[L]=F,F.push(y)}V(p,function(b){return b.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ts(c,p,y){return y&&y.internalChannelParams&&y.internalChannelParams[c]||p}function ha(c){this.Aa=0,this.i=[],this.j=new Nn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ts("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ts("baseRetryDelayMs",5e3,c),this.cb=Ts("retryDelaySeedMs",1e4,c),this.Wa=Ts("forwardChannelMaxRetries",2,c),this.wa=Ts("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Vi(c&&c.concurrentRequestLimit),this.Da=new ys,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ha.prototype,r.la=8,r.G=1,r.connect=function(c,p,y,b){dt(0),this.W=c,this.H=p||{},y&&b!==void 0&&(this.H.OSID=y,this.H.OAID=b),this.F=this.X,this.I=Nu(this,null,this.W),da(this)};function jo(c){if(bu(c),c.G==3){var p=c.U++,y=vn(c.I);if(nt(y,"SID",c.K),nt(y,"RID",p),nt(y,"TYPE","terminate"),As(c,y),p=new un(c,c.j,p),p.L=2,p.v=ps(vn(y)),y=!1,m.navigator&&m.navigator.sendBeacon)try{y=m.navigator.sendBeacon(p.v.toString(),"")}catch{}!y&&m.Image&&(new Image().src=p.v,y=!0),y||(p.g=Du(p.j,null),p.g.ea(p.v)),p.F=Date.now(),hs(p)}Cu(c)}function fa(c){c.g&&(bs(c),c.g.cancel(),c.g=null)}function bu(c){fa(c),c.u&&(m.clearTimeout(c.u),c.u=null),ma(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function da(c){if(!ia(c.h)&&!c.s){c.s=!0;var p=c.Ga;te||x(),ue||(te(),ue=!0),Be.add(p,c),c.B=0}}function Hh(c,p){return ra(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Rt(w(c.Ga,c,p),Bo(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const L=new un(this,this.j,c);let F=this.o;if(this.S&&(F?(F=R(F),M(F,this.S)):F=this.S),this.m!==null||this.O||(L.H=F,F=null),this.P)e:{for(var p=0,y=0;y<this.i.length;y++){t:{var b=this.i[y];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(p+=b,4096<p){p=y;break e}if(p===4096||y===this.i.length-1){p=y+1;break e}}p=1e3}else p=1e3;p=Su(this,L,p),y=vn(this.I),nt(y,"RID",c),nt(y,"CVER",22),this.D&&nt(y,"X-HTTP-Session-Id",this.D),As(this,y),F&&(this.O?p="headers="+encodeURIComponent(String(Po(F)))+"&"+p:this.m&&zt(y,this.m,F)),sa(this.h,L),this.Ua&&nt(y,"TYPE","init"),this.P?(nt(y,"$req",p),nt(y,"SID","null"),L.T=!0,Yn(L,y,null)):Yn(L,y,p),this.G=2}}else this.G==3&&(c?Lo(this,c):this.i.length==0||ia(this.h)||Lo(this))};function Lo(c,p){var y;p?y=p.l:y=c.U++;const b=vn(c.I);nt(b,"SID",c.K),nt(b,"RID",y),nt(b,"AID",c.T),As(c,b),c.m&&c.o&&zt(b,c.m,c.o),y=new un(c,c.j,y,c.B+1),c.m===null&&(y.H=c.o),p&&(c.i=p.D.concat(c.i)),p=Su(c,y,1e3),y.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),sa(c.h,y),Yn(y,b,p)}function As(c,p){c.H&&ke(c.H,function(y,b){nt(p,b,y)}),c.l&&xo({},function(y,b){nt(p,b,y)})}function Su(c,p,y){y=Math.min(c.i.length,y);var b=c.l?w(c.l.Na,c.l,c):null;e:{var L=c.i;let F=-1;for(;;){const ne=["count="+y];F==-1?0<y?(F=L[0].g,ne.push("ofs="+F)):F=0:ne.push("ofs="+F);let ze=!0;for(let Vt=0;Vt<y;Vt++){let qe=L[Vt].g;const qt=L[Vt].map;if(qe-=F,0>qe)F=Math.max(0,L[Vt].g-100),ze=!1;else try{si(qt,ne,"req"+qe+"_")}catch{b&&b(qt)}}if(ze){b=ne.join("&");break e}}}return c=c.i.splice(0,y),p.D=c,b}function wu(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;te||x(),ue||(te(),ue=!0),Be.add(p,c),c.v=0}}function Uo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Rt(w(c.Fa,c),Bo(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Ru(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Rt(w(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),fa(this),Ru(this))};function bs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Ru(c){c.g=new un(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=vn(c.qa);nt(p,"RID","rpc"),nt(p,"SID",c.K),nt(p,"AID",c.T),nt(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&nt(p,"TO",c.ja),nt(p,"TYPE","xmlhttp"),As(c,p),c.m&&c.o&&zt(p,c.m,c.o),c.L&&(c.g.I=c.L);var y=c.g;c=c.ia,y.L=1,y.v=ps(vn(p)),y.m=null,y.P=!0,Mi(y,c)}r.Za=function(){this.C!=null&&(this.C=null,fa(this),Uo(this),dt(19))};function ma(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Iu(c,p){var y=null;if(c.g==p){ma(c),bs(c),c.g=null;var b=2}else if(No(c.h,p))y=p.D,cn(c.h,p),b=1;else return;if(c.G!=0){if(p.o)if(b==1){y=p.m?p.m.length:0,p=Date.now()-p.F;var L=c.B;b=fr(),Ke(b,new Mt(b,y)),da(c)}else wu(c);else if(L=p.s,L==3||L==0&&0<p.X||!(b==1&&Hh(c,p)||b==2&&Uo(c)))switch(y&&0<y.length&&(p=c.h,p.i=p.i.concat(y)),L){case 1:Bi(c,5);break;case 4:Bi(c,10);break;case 3:Bi(c,6);break;default:Bi(c,2)}}}function Bo(c,p){let y=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(y*=2),y*p}function Bi(c,p){if(c.j.info("Error code "+p),p==2){var y=w(c.fb,c),b=c.Xa;const L=!b;b=new It(b||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ms(b,"https"),ps(b),L?_s(b.toString(),y):Qn(b.toString(),y)}else dt(2);c.G=0,c.l&&c.l.sa(p),Cu(c),bu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function Cu(c){if(c.G=0,c.ka=[],c.l){const p=Do(c.h);(p.length!=0||c.i.length!=0)&&(G(c.ka,p),G(c.ka,c.i),c.h.i.length=0,ie(c.i),c.i.length=0),c.l.ra()}}function Nu(c,p,y){var b=y instanceof It?vn(y):new It(y);if(b.g!="")p&&(b.g=p+"."+b.g),_r(b,b.s);else{var L=m.location;b=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;var F=new It(null);b&&ms(F,b),p&&(F.g=p),L&&_r(F,L),y&&(F.l=y),b=F}return y=c.D,p=c.ya,y&&p&&nt(b,y,p),nt(b,"VER",c.la),As(c,b),b}function Du(c,p,y){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new $e(new yr({eb:y})):new $e(c.pa),p.Ha(c.J),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function xu(){}r=xu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function pa(){}pa.prototype.g=function(c,p){return new hn(c,p)};function hn(c,p){ht.call(this),this.g=new ha(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!_e(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!_e(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new ui(this)}Z(hn,ht),hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){jo(this.g)},hn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var y={};y.__data__=c,c=y}else this.u&&(y={},y.__data__=Gn(c),c=y);p.i.push(new yu(p.Ya++,c)),p.G==3&&da(p)},hn.prototype.N=function(){this.g.l=null,delete this.j,jo(this.g),delete this.g,hn.aa.N.call(this)};function Ou(c){xi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const y in p){c=y;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}Z(Ou,xi);function Mu(){wo.call(this),this.status=1}Z(Mu,wo);function ui(c){this.g=c}Z(ui,xu),ui.prototype.ua=function(){Ke(this.g,"a")},ui.prototype.ta=function(c){Ke(this.g,new Ou(c))},ui.prototype.sa=function(c){Ke(this.g,new Mu)},ui.prototype.ra=function(){Ke(this.g,"b")},pa.prototype.createWebChannel=pa.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,xE=function(){return new pa},DE=function(){return fr()},NE=ei,cm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},pr.NO_ERROR=0,pr.TIMEOUT=8,pr.HTTP_ERROR=6,Fc=pr,Oi.COMPLETE="complete",CE=Oi,So.EventType=Di,Di.OPEN="a",Di.CLOSE="b",Di.ERROR="c",Di.MESSAGE="d",ht.prototype.listen=ht.prototype.K,Vl=So,$e.prototype.listenOnce=$e.prototype.L,$e.prototype.getLastError=$e.prototype.Ka,$e.prototype.getLastErrorCode=$e.prototype.Ba,$e.prototype.getStatus=$e.prototype.Z,$e.prototype.getResponseJson=$e.prototype.Oa,$e.prototype.getResponseText=$e.prototype.oa,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Ha,IE=$e}).apply(typeof kc<"u"?kc:typeof self<"u"?self:typeof window<"u"?window:{});const xv="@firebase/firestore",Ov="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mo="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys=new Mm("@firebase/firestore");function Ya(){return Ys.logLevel}function ae(r,...e){if(Ys.logLevel<=Le.DEBUG){const n=e.map(Gm);Ys.debug(`Firestore (${mo}): ${r}`,...n)}}function ar(r,...e){if(Ys.logLevel<=Le.ERROR){const n=e.map(Gm);Ys.error(`Firestore (${mo}): ${r}`,...n)}}function io(r,...e){if(Ys.logLevel<=Le.WARN){const n=e.map(Gm);Ys.warn(`Firestore (${mo}): ${r}`,...n)}}function Gm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,OE(r,s,n)}function OE(r,e,n){let s=`FIRESTORE (${mo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ar(s),new Error(s)}function Ze(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||OE(e,o,s)}function Re(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends lr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(sn.UNAUTHENTICATED))}shutdown(){}}class mI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class pI{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ze(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new zs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new zs,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},m=g=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new zs)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ze(typeof s.accessToken=="string",31837,{l:s}),new ME(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string",2055,{h:e}),new sn(e)}}class gI{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class _I{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new gI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Mv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ze(this.o===void 0,3512);const s=u=>{u.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ae("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Mv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ze(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Mv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=vI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function xe(r,e){return r<e?-1:r>e?1:0}function hm(r,e){let n=0;for(;n<r.length&&n<e.length;){const s=r.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return xe(s,o);{const u=VE(),f=EI(u.encode(Vv(r,n)),u.encode(Vv(e,n)));return f!==0?f:xe(s,o)}}n+=s>65535?2:1}return xe(r.length,e.length)}function Vv(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function EI(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return xe(r[n],e[n]);return xe(r.length,e.length)}function ro(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv=-62135596800,Pv=1e6;class We{static now(){return We.fromMillis(Date.now())}static fromDate(e){return We.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Pv);return new We(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<kv)throw new oe(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Pv}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-kv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new We(0,0))}static max(){return new we(new We(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="__name__";class gi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Te(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return gi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof gi?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=gi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return xe(e.length,n.length)}static compareSegments(e,n){const s=gi.isNumericId(e),o=gi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?gi.extractNumericId(e).compare(gi.extractNumericId(n)):hm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Xr.fromString(e.substring(4,e.length-2))}}class ct extends gi{construct(e,n,s){return new ct(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new oe(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new ct(n)}static emptyPath(){return new ct([])}}const TI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends gi{construct(e,n,s){return new Jt(e,n,s)}static isValidIdentifier(e){return TI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===jv}static keyField(){return new Jt([jv])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new oe(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new oe(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new oe(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new oe(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(n)}static emptyPath(){return new Jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(ct.fromString(e))}static fromName(e){return new pe(ct.fromString(e).popFirst(5))}static empty(){return new pe(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ct.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new ct(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yl=-1;function AI(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new We(n+1,0):new We(n,s));return new Zr(o,pe.empty(),e)}function bI(r){return new Zr(r.readTime,r.key,Yl)}class Zr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Zr(we.min(),pe.empty(),Yl)}static max(){return new Zr(we.max(),pe.empty(),Yl)}}function SI(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(r.documentKey,e.documentKey),n!==0?n:xe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function po(r){if(r.code!==W.FAILED_PRECONDITION||r.message!==wI)throw r;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,s)=>{n(e)})}static reject(e){return new $((n,s)=>{s(e)})}static waitFor(e){return new $((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},g=>s(g))}),f=!0,u===o&&n()})}static or(e){let n=$.resolve(!1);for(const s of e)n=n.next(o=>o?$.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new $((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const _=g;n(e[_]).next(E=>{f[_]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,n){return new $((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function II(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function go(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Eh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym=-1;function Th(r){return r==null}function sh(r){return r===0&&1/r==-1/0}function CI(r){return typeof r=="number"&&Number.isInteger(r)&&!sh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE="";function NI(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=Lv(e)),e=DI(r.get(n),e);return Lv(e)}function DI(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case PE:n+="";break;default:n+=u}}return n}function Lv(r){return r+PE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uv(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function rs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function jE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,n){this.comparator=e,this.root=n||Wt.EMPTY}insert(e,n){return new gt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pc(this.root,e,this.comparator,!0)}}class Pc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Wt.RED,this.left=o??Wt.EMPTY,this.right=u??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Wt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Wt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Wt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Bv(this.data.getIterator())}getIteratorFrom(e){return new Bv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ut(this.comparator);return n.data=e,n}}class Bv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new In([])}unionWith(e){let n=new Ut(Jt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new In(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ro(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new LE("Invalid base64 string: "+u):u}}(e);return new en(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new en(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const xI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wr(r){if(Ze(!!r,39018),typeof r=="string"){let e=0;const n=xI.exec(r);if(Ze(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:St(r.seconds),nanos:St(r.nanos)}}function St(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Jr(r){return typeof r=="string"?en.fromBase64String(r):en.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="server_timestamp",BE="__type__",zE="__previous_value__",qE="__local_write_time__";function Qm(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[BE])===null||n===void 0?void 0:n.stringValue)===UE}function Ah(r){const e=r.mapValue.fields[zE];return Qm(e)?Ah(e):e}function Ql(r){const e=Wr(r.mapValue.fields[qE].timestampValue);return new We(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e,n,s,o,u,f,m,g,_,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=_,this.isUsingEmulator=E}}const ah="(default)";class Kl{constructor(e,n){this.projectId=e,this.database=n||ah}static empty(){return new Kl("","")}get isDefaultDatabase(){return this.database===ah}isEqual(e){return e instanceof Kl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE="__type__",MI="__max__",jc={mapValue:{}},FE="__vector__",oh="value";function es(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Qm(r)?4:kI(r)?9007199254740991:VI(r)?10:11:Te(28295,{value:r})}function Si(r,e){if(r===e)return!0;const n=es(r);if(n!==es(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Ql(r).isEqual(Ql(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Wr(o.timestampValue),m=Wr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return Jr(o.bytesValue).isEqual(Jr(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return St(o.geoPointValue.latitude)===St(u.geoPointValue.latitude)&&St(o.geoPointValue.longitude)===St(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return St(o.integerValue)===St(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=St(o.doubleValue),m=St(u.doubleValue);return f===m?sh(f)===sh(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return ro(r.arrayValue.values||[],e.arrayValue.values||[],Si);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Uv(f)!==Uv(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!Si(f[g],m[g])))return!1;return!0}(r,e);default:return Te(52216,{left:r})}}function Xl(r,e){return(r.values||[]).find(n=>Si(n,e))!==void 0}function so(r,e){if(r===e)return 0;const n=es(r),s=es(e);if(n!==s)return xe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return xe(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=St(u.integerValue||u.doubleValue),g=St(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(r,e);case 3:return zv(r.timestampValue,e.timestampValue);case 4:return zv(Ql(r),Ql(e));case 5:return hm(r.stringValue,e.stringValue);case 6:return function(u,f){const m=Jr(u),g=Jr(f);return m.compareTo(g)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),g=f.split("/");for(let _=0;_<m.length&&_<g.length;_++){const E=xe(m[_],g[_]);if(E!==0)return E}return xe(m.length,g.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=xe(St(u.latitude),St(f.latitude));return m!==0?m:xe(St(u.longitude),St(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return qv(r.arrayValue,e.arrayValue);case 10:return function(u,f){var m,g,_,E;const S=u.fields||{},w=f.fields||{},H=(m=S[oh])===null||m===void 0?void 0:m.arrayValue,Z=(g=w[oh])===null||g===void 0?void 0:g.arrayValue,ie=xe(((_=H==null?void 0:H.values)===null||_===void 0?void 0:_.length)||0,((E=Z==null?void 0:Z.values)===null||E===void 0?void 0:E.length)||0);return ie!==0?ie:qv(H,Z)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===jc.mapValue&&f===jc.mapValue)return 0;if(u===jc.mapValue)return 1;if(f===jc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),_=f.fields||{},E=Object.keys(_);g.sort(),E.sort();for(let S=0;S<g.length&&S<E.length;++S){const w=hm(g[S],E[S]);if(w!==0)return w;const H=so(m[g[S]],_[E[S]]);if(H!==0)return H}return xe(g.length,E.length)}(r.mapValue,e.mapValue);default:throw Te(23264,{Pe:n})}}function zv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return xe(r,e);const n=Wr(r),s=Wr(e),o=xe(n.seconds,s.seconds);return o!==0?o:xe(n.nanos,s.nanos)}function qv(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=so(n[o],s[o]);if(u)return u}return xe(n.length,s.length)}function ao(r){return fm(r)}function fm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Wr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Jr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return pe.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=fm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${fm(n.fields[f])}`;return o+"}"}(r.mapValue):Te(61005,{value:r})}function Gc(r){switch(es(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ah(r);return e?16+Gc(e):16;case 5:return 2*r.stringValue.length;case 6:return Jr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Gc(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return rs(s.fields,(u,f)=>{o+=u.length+Gc(f)}),o}(r.mapValue);default:throw Te(13486,{value:r})}}function Hv(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function dm(r){return!!r&&"integerValue"in r}function Km(r){return!!r&&"arrayValue"in r}function Fv(r){return!!r&&"nullValue"in r}function Gv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Yc(r){return!!r&&"mapValue"in r}function VI(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[HE])===null||n===void 0?void 0:n.stringValue)===FE}function Bl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return rs(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Bl(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bl(r.arrayValue.values[n]);return e}return Object.assign({},r)}function kI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===MI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.value=e}static empty(){return new yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Yc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bl(n)}setAll(e){let n=Jt.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Bl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Yc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Si(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Yc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){rs(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new yn(Bl(this.value))}}function GE(r){const e=[];return rs(r.fields,(n,s)=>{const o=new Jt([n]);if(Yc(s)){const u=GE(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new In(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new an(e,0,we.min(),we.min(),we.min(),yn.empty(),0)}static newFoundDocument(e,n,s,o){return new an(e,1,n,we.min(),s,o,0)}static newNoDocument(e,n){return new an(e,2,n,we.min(),we.min(),yn.empty(),0)}static newUnknownDocument(e,n){return new an(e,3,n,we.min(),we.min(),yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,n){this.position=e,this.inclusive=n}}function Yv(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=pe.comparator(pe.fromName(f.referenceValue),n.key):s=so(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Qv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Si(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,n="asc"){this.field=e,this.dir=n}}function PI(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{}class xt extends YE{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new LI(e,n,s):n==="array-contains"?new zI(e,s):n==="in"?new qI(e,s):n==="not-in"?new HI(e,s):n==="array-contains-any"?new FI(e,s):new xt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new UI(e,s):new BI(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(so(n,this.value)):n!==null&&es(this.value)===es(n)&&this.matchesComparison(so(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jn extends YE{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Jn(e,n)}matches(e){return QE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function QE(r){return r.op==="and"}function KE(r){return jI(r)&&QE(r)}function jI(r){for(const e of r.filters)if(e instanceof Jn)return!1;return!0}function mm(r){if(r instanceof xt)return r.field.canonicalString()+r.op.toString()+ao(r.value);if(KE(r))return r.filters.map(e=>mm(e)).join(",");{const e=r.filters.map(n=>mm(n)).join(",");return`${r.op}(${e})`}}function XE(r,e){return r instanceof xt?function(s,o){return o instanceof xt&&s.op===o.op&&s.field.isEqual(o.field)&&Si(s.value,o.value)}(r,e):r instanceof Jn?function(s,o){return o instanceof Jn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&XE(f,o.filters[m]),!0):!1}(r,e):void Te(19439)}function $E(r){return r instanceof xt?function(n){return`${n.field.canonicalString()} ${n.op} ${ao(n.value)}`}(r):r instanceof Jn?function(n){return n.op.toString()+" {"+n.getFilters().map($E).join(" ,")+"}"}(r):"Filter"}class LI extends xt{constructor(e,n,s){super(e,n,s),this.key=pe.fromName(s.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class UI extends xt{constructor(e,n){super(e,"in",n),this.keys=ZE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class BI extends xt{constructor(e,n){super(e,"not-in",n),this.keys=ZE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function ZE(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>pe.fromName(s.referenceValue))}class zI extends xt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Km(n)&&Xl(n.arrayValue,this.value)}}class qI extends xt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xl(this.value.arrayValue,n)}}class HI extends xt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Xl(this.value.arrayValue,n)}}class FI extends xt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Km(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Xl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Ie=null}}function Kv(r,e=null,n=[],s=[],o=null,u=null,f=null){return new GI(r,e,n,s,o,u,f)}function Xm(r){const e=Re(r);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>mm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Th(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>ao(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>ao(s)).join(",")),e.Ie=n}return e.Ie}function $m(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!PI(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!XE(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Qv(r.startAt,e.startAt)&&Qv(r.endAt,e.endAt)}function pm(r){return pe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function YI(r,e,n,s,o,u,f,m){return new _o(r,e,n,s,o,u,f,m)}function Zm(r){return new _o(r)}function Xv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function WE(r){return r.collectionGroup!==null}function zl(r){const e=Re(r);if(e.Ee===null){e.Ee=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ut(Jt.comparator);return f.filters.forEach(g=>{g.getFlattenedFilters().forEach(_=>{_.isInequality()&&(m=m.add(_.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new $l(u,s))}),n.has(Jt.keyField().canonicalString())||e.Ee.push(new $l(Jt.keyField(),s))}return e.Ee}function Ti(r){const e=Re(r);return e.de||(e.de=QI(e,zl(r))),e.de}function QI(r,e){if(r.limitType==="F")return Kv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new $l(o.field,u)});const n=r.endAt?new lh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new lh(r.startAt.position,r.startAt.inclusive):null;return Kv(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function gm(r,e){const n=r.filters.concat([e]);return new _o(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function _m(r,e,n){return new _o(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function bh(r,e){return $m(Ti(r),Ti(e))&&r.limitType===e.limitType}function JE(r){return`${Xm(Ti(r))}|lt:${r.limitType}`}function Qa(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>$E(o)).join(", ")}]`),Th(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>ao(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>ao(o)).join(",")),`Target(${s})`}(Ti(r))}; limitType=${r.limitType})`}function Sh(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):pe.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of zl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,m,g){const _=Yv(f,m,g);return f.inclusive?_<=0:_<0}(s.startAt,zl(s),o)||s.endAt&&!function(f,m,g){const _=Yv(f,m,g);return f.inclusive?_>=0:_>0}(s.endAt,zl(s),o))}(r,e)}function KI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function eT(r){return(e,n)=>{let s=!1;for(const o of zl(r)){const u=XI(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function XI(r,e,n){const s=r.field.isKeyField()?pe.comparator(e.key,n.key):function(u,f,m){const g=f.data.field(u),_=m.data.field(u);return g!==null&&_!==null?so(g,_):Te(42886)}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){rs(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return jE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I=new gt(pe.comparator);function or(){return $I}const tT=new gt(pe.comparator);function kl(...r){let e=tT;for(const n of r)e=e.insert(n.key,n);return e}function nT(r){let e=tT;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Bs(){return ql()}function iT(){return ql()}function ql(){return new Xs(r=>r.toString(),(r,e)=>r.isEqual(e))}const ZI=new gt(pe.comparator),WI=new Ut(pe.comparator);function Ue(...r){let e=WI;for(const n of r)e=e.add(n);return e}const JI=new Ut(xe);function e2(){return JI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sh(e)?"-0":e}}function rT(r){return{integerValue:""+r}}function t2(r,e){return CI(e)?rT(e):Wm(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(){this._=void 0}}function n2(r,e,n){return r instanceof uh?function(o,u){const f={fields:{[BE]:{stringValue:UE},[qE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Qm(u)&&(u=Ah(u)),u&&(f.fields[zE]=u),{mapValue:f}}(n,e):r instanceof Zl?aT(r,e):r instanceof Wl?oT(r,e):function(o,u){const f=sT(o,u),m=$v(f)+$v(o.Re);return dm(f)&&dm(o.Re)?rT(m):Wm(o.serializer,m)}(r,e)}function i2(r,e,n){return r instanceof Zl?aT(r,e):r instanceof Wl?oT(r,e):n}function sT(r,e){return r instanceof ch?function(s){return dm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class uh extends wh{}class Zl extends wh{constructor(e){super(),this.elements=e}}function aT(r,e){const n=lT(e);for(const s of r.elements)n.some(o=>Si(o,s))||n.push(s);return{arrayValue:{values:n}}}class Wl extends wh{constructor(e){super(),this.elements=e}}function oT(r,e){let n=lT(e);for(const s of r.elements)n=n.filter(o=>!Si(o,s));return{arrayValue:{values:n}}}class ch extends wh{constructor(e,n){super(),this.serializer=e,this.Re=n}}function $v(r){return St(r.integerValue||r.doubleValue)}function lT(r){return Km(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function r2(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof Zl&&o instanceof Zl||s instanceof Wl&&o instanceof Wl?ro(s.elements,o.elements,Si):s instanceof ch&&o instanceof ch?Si(s.Re,o.Re):s instanceof uh&&o instanceof uh}(r.transform,e.transform)}class s2{constructor(e,n){this.version=e,this.transformResults=n}}class qn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qn}static exists(e){return new qn(void 0,e)}static updateTime(e){return new qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Rh{}function uT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Jm(r.key,qn.none()):new au(r.key,r.data,qn.none());{const n=r.data,s=yn.empty();let o=new Ut(Jt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ss(r.key,s,new In(o.toArray()),qn.none())}}function a2(r,e,n){r instanceof au?function(o,u,f){const m=o.value.clone(),g=Wv(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof ss?function(o,u,f){if(!Qc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=Wv(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(cT(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Hl(r,e,n,s){return r instanceof au?function(u,f,m,g){if(!Qc(u.precondition,f))return m;const _=u.value.clone(),E=Jv(u.fieldTransforms,g,f);return _.setAll(E),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),null}(r,e,n,s):r instanceof ss?function(u,f,m,g){if(!Qc(u.precondition,f))return m;const _=Jv(u.fieldTransforms,g,f),E=f.data;return E.setAll(cT(u)),E.setAll(_),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(S=>S.field))}(r,e,n,s):function(u,f,m){return Qc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function o2(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=sT(s.transform,o||null);u!=null&&(n===null&&(n=yn.empty()),n.set(s.field,u))}return n||null}function Zv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ro(s,o,(u,f)=>r2(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class au extends Rh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ss extends Rh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function cT(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function Wv(r,e,n){const s=new Map;Ze(r.length===n.length,32656,{Ve:n.length,me:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,i2(f,m,n[o]))}return s}function Jv(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,n2(u,f,e))}return s}class Jm extends Rh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class l2 extends Rh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&a2(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Hl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Hl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=iT();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=uT(f,m);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(we.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ue())}isEqual(e){return this.batchId===e.batchId&&ro(this.mutations,e.mutations,(n,s)=>Zv(n,s))&&ro(this.baseMutations,e.baseMutations,(n,s)=>Zv(n,s))}}class ep{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ze(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let o=function(){return ZI}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new ep(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt,Fe;function f2(r){switch(r){case W.OK:return Te(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return Te(15467,{code:r})}}function hT(r){if(r===void 0)return ar("GRPC error has no .code"),W.UNKNOWN;switch(r){case Dt.OK:return W.OK;case Dt.CANCELLED:return W.CANCELLED;case Dt.UNKNOWN:return W.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return W.INTERNAL;case Dt.UNAVAILABLE:return W.UNAVAILABLE;case Dt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Dt.NOT_FOUND:return W.NOT_FOUND;case Dt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Dt.ABORTED:return W.ABORTED;case Dt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Dt.DATA_LOSS:return W.DATA_LOSS;default:return Te(39323,{code:r})}}(Fe=Dt||(Dt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2=new Xr([4294967295,4294967295],0);function e0(r){const e=VE().encode(r),n=new RE;return n.update(e),new Uint8Array(n.digest())}function t0(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Xr([n,s],0),new Xr([o,u],0)]}class tp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Pl(`Invalid padding: ${n}`);if(s<0)throw new Pl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Pl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Pl(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Xr.fromNumber(this.pe)}we(e,n,s){let o=e.add(n.multiply(Xr.fromNumber(s)));return o.compare(d2)===1&&(o=new Xr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=e0(e),[s,o]=t0(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);if(!this.be(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new tp(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.pe===0)return;const n=e0(e),[s,o]=t0(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Pl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,ou.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Ih(we.min(),o,new gt(xe),or(),Ue())}}class ou{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new ou(s,n,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,n,s,o){this.De=e,this.removedTargetIds=n,this.key=s,this.ve=o}}class fT{constructor(e,n){this.targetId=e,this.Ce=n}}class dT{constructor(e,n,s=en.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class n0{constructor(){this.Fe=0,this.Me=i0(),this.xe=en.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ue(),n=Ue(),s=Ue();return this.Me.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Te(38017,{changeType:u})}}),new ou(this.xe,this.Oe,e,n,s)}Qe(){this.Ne=!1,this.Me=i0()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ze(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class m2{constructor(e){this.ze=e,this.je=new Map,this.He=or(),this.Je=Lc(),this.Ye=Lc(),this.Ze=new gt(xe)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const s=this.rt(n);switch(e.state){case 0:this.it(n)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(e.resumeToken));break;default:Te(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((s,o)=>{this.it(o)&&n(o)})}ot(e){const n=e.targetId,s=e.Ce.count,o=this._t(n);if(o){const u=o.target;if(pm(u))if(s===0){const f=new pe(u.path);this.tt(n,f,an.newNoDocument(f,we.min()))}else Ze(s===1,20013,{expectedCount:s});else{const f=this.ut(n);if(f!==s){const m=this.ct(e),g=m?this.lt(m,e,f):1;if(g!==0){this.st(n);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,_)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Jr(s).toUint8Array()}catch(g){if(g instanceof LE)return io("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new tp(f,o,u)}catch(g){return io(g instanceof Pl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.pe===0?null:m}lt(e,n,s){return n.Ce.count===s-this.Tt(e,n.targetId)?0:2}Tt(e,n){const s=this.ze.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ze.Pt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.tt(n,u,null),o++)}),o}It(e){const n=new Map;this.je.forEach((u,f)=>{const m=this._t(f);if(m){if(u.current&&pm(m.target)){const g=new pe(m.target.path);this.Et(g).has(f)||this.dt(f,g)||this.tt(f,g,an.newNoDocument(g,e))}u.Le&&(n.set(f,u.qe()),u.Qe())}});let s=Ue();this.Ye.forEach((u,f)=>{let m=!0;f.forEachWhile(g=>{const _=this._t(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.He.forEach((u,f)=>f.setReadTime(e));const o=new Ih(e,n,this.Ze,this.He,s);return this.He=or(),this.Je=Lc(),this.Ye=Lc(),this.Ze=new gt(xe),o}et(e,n){if(!this.it(e))return;const s=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,s){if(!this.it(e))return;const o=this.rt(e);this.dt(e,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),s&&(this.He=this.He.insert(n,s))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new n0,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Ut(xe),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Ut(xe),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||ae("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new n0),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Lc(){return new gt(pe.comparator)}function i0(){return new gt(pe.comparator)}const p2={asc:"ASCENDING",desc:"DESCENDING"},g2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_2={and:"AND",or:"OR"};class y2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ym(r,e){return r.useProto3Json||Th(e)?e:{value:e}}function hh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function v2(r,e){return hh(r,e.toTimestamp())}function Ai(r){return Ze(!!r,49232),we.fromTimestamp(function(n){const s=Wr(n);return new We(s.seconds,s.nanos)}(r))}function np(r,e){return vm(r,e).canonicalString()}function vm(r,e){const n=function(o){return new ct(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function pT(r){const e=ct.fromString(r);return Ze(ET(e),10190,{key:e.toString()}),e}function Em(r,e){return np(r.databaseId,e.path)}function Zd(r,e){const n=pT(e);if(n.get(1)!==r.databaseId.projectId)throw new oe(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new oe(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new pe(_T(n))}function gT(r,e){return np(r.databaseId,e)}function E2(r){const e=pT(r);return e.length===4?ct.emptyPath():_T(e)}function Tm(r){return new ct(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function _T(r){return Ze(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function r0(r,e,n){return{name:Em(r,e),fields:n.value.mapValue.fields}}function T2(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Te(39313,{state:_})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(_,E){return _.useProto3Json?(Ze(E===void 0||typeof E=="string",58123),en.fromBase64String(E||"")):(Ze(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),en.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(_){const E=_.code===void 0?W.UNKNOWN:hT(_.code);return new oe(E,_.message||"")}(f);n=new dT(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Zd(r,s.document.name),u=Ai(s.document.updateTime),f=s.document.createTime?Ai(s.document.createTime):we.min(),m=new yn({mapValue:{fields:s.document.fields}}),g=an.newFoundDocument(o,u,f,m),_=s.targetIds||[],E=s.removedTargetIds||[];n=new Kc(_,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Zd(r,s.document),u=s.readTime?Ai(s.readTime):we.min(),f=an.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Kc([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Zd(r,s.document),u=s.removedTargetIds||[];n=new Kc([],u,o,null)}else{if(!("filter"in e))return Te(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new h2(o,u),m=s.targetId;n=new fT(m,f)}}return n}function A2(r,e){let n;if(e instanceof au)n={update:r0(r,e.key,e.value)};else if(e instanceof Jm)n={delete:Em(r,e.key)};else if(e instanceof ss)n={update:r0(r,e.key,e.data),updateMask:x2(e.fieldMask)};else{if(!(e instanceof l2))return Te(16599,{ft:e.type});n={verify:Em(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof uh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Zl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Wl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof ch)return{fieldPath:f.field.canonicalString(),increment:m.Re};throw Te(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:v2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te(27497)}(r,e.precondition)),n}function b2(r,e){return r&&r.length>0?(Ze(e!==void 0,14353),r.map(n=>function(o,u){let f=o.updateTime?Ai(o.updateTime):Ai(u);return f.isEqual(we.min())&&(f=Ai(u)),new s2(f,o.transformResults||[])}(n,e))):[]}function S2(r,e){return{documents:[gT(r,e.path)]}}function w2(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=gT(r,o);const u=function(_){if(_.length!==0)return vT(Jn.create(_,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(_){if(_.length!==0)return _.map(E=>function(w){return{field:Ka(w.field),direction:C2(w.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=ym(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{gt:n,parent:o}}function R2(r){let e=E2(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ze(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(S){const w=yT(S);return w instanceof Jn&&KE(w)?w.getFilters():[w]}(n.where));let f=[];n.orderBy&&(f=function(S){return S.map(w=>function(Z){return new $l(Xa(Z.field),function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Z.direction))}(w))}(n.orderBy));let m=null;n.limit&&(m=function(S){let w;return w=typeof S=="object"?S.value:S,Th(w)?null:w}(n.limit));let g=null;n.startAt&&(g=function(S){const w=!!S.before,H=S.values||[];return new lh(H,w)}(n.startAt));let _=null;return n.endAt&&(_=function(S){const w=!S.before,H=S.values||[];return new lh(H,w)}(n.endAt)),YI(e,o,f,u,m,"F",g,_)}function I2(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function yT(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Xa(n.unaryFilter.field);return xt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Xa(n.unaryFilter.field);return xt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Xa(n.unaryFilter.field);return xt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Xa(n.unaryFilter.field);return xt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}}(r):r.fieldFilter!==void 0?function(n){return xt.create(Xa(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Jn.create(n.compositeFilter.filters.map(s=>yT(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}}(n.compositeFilter.op))}(r):Te(30097,{filter:r})}function C2(r){return p2[r]}function N2(r){return g2[r]}function D2(r){return _2[r]}function Ka(r){return{fieldPath:r.canonicalString()}}function Xa(r){return Jt.fromServerFormat(r.fieldPath)}function vT(r){return r instanceof xt?function(n){if(n.op==="=="){if(Gv(n.value))return{unaryFilter:{field:Ka(n.field),op:"IS_NAN"}};if(Fv(n.value))return{unaryFilter:{field:Ka(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Gv(n.value))return{unaryFilter:{field:Ka(n.field),op:"IS_NOT_NAN"}};if(Fv(n.value))return{unaryFilter:{field:Ka(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ka(n.field),op:N2(n.op),value:n.value}}}(r):r instanceof Jn?function(n){const s=n.getFilters().map(o=>vT(o));return s.length===1?s[0]:{compositeFilter:{op:D2(n.op),filters:s}}}(r):Te(54877,{filter:r})}function x2(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ET(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e,n,s,o,u=we.min(),f=we.min(),m=en.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Gr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e){this.wt=e}}function M2(r){const e=R2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?_m(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(){this.Cn=new k2}addToCollectionParentIndex(e,n){return this.Cn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(Zr.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(Zr.min())}updateCollectionGroup(e,n,s){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class k2{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ut(ct.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ut(ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},TT=41943040;class _n{static withCacheSize(e){return new _n(e,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(TT,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new oo(0)}static lr(){return new oo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0="LruGarbageCollector",P2=1048576;function o0([r,e],[n,s]){const o=xe(r,n);return o===0?xe(e,s):o}class j2{constructor(e){this.Er=e,this.buffer=new Ut(o0),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();o0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class L2{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ae(a0,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){go(n)?ae(a0,"Ignoring IndexedDB error during garbage collection: ",n):await po(n)}await this.mr(3e5)})}}class U2{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return $.resolve(Eh.le);const s=new j2(n);return this.gr.forEachTarget(e,o=>s.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>s.Rr(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.gr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(s0)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),s0):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let s,o,u,f,m,g,_;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(s=S,m=Date.now(),this.removeTargets(e,s,n))).next(S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(S=>(_=Date.now(),Ya()<=Le.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${S} documents in `+(_-g)+`ms
Total Duration: ${_-E}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S})))}}function B2(r,e){return new U2(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(){this.changes=new Xs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?$.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Hl(s.mutation,o,In.empty(),We.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ue()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ue()){const o=Bs();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=kl();return u.forEach((m,g)=>{f=f.insert(m,g.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Bs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ue()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=or();const f=ql(),m=function(){return ql()}();return n.forEach((g,_)=>{const E=s.get(_.key);o.has(_.key)&&(E===void 0||E.mutation instanceof ss)?u=u.insert(_.key,_):E!==void 0?(f.set(_.key,E.mutation.getFieldMask()),Hl(E.mutation,_,E.mutation.getFieldMask(),We.now())):f.set(_.key,In.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((_,E)=>f.set(_,E)),n.forEach((_,E)=>{var S;return m.set(_,new q2(E,(S=f.get(_))!==null&&S!==void 0?S:null))}),m))}recalculateAndSaveOverlays(e,n){const s=ql();let o=new gt((f,m)=>f-m),u=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(g=>{const _=n.get(g);if(_===null)return;let E=s.get(g)||In.empty();E=m.applyToLocalView(_,E),s.set(g,E);const S=(o.get(m.batchId)||Ue()).add(g);o=o.insert(m.batchId,S)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),_=g.key,E=g.value,S=iT();E.forEach(w=>{if(!u.has(w)){const H=uT(n.get(w),s.get(w));H!==null&&S.set(w,H),u=u.add(w)}}),f.push(this.documentOverlayCache.saveOverlays(e,_,S))}return $.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return pe.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):WE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):$.resolve(Bs());let m=Yl,g=u;return f.next(_=>$.forEach(_,(E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?$.resolve():this.remoteDocumentCache.getEntry(e,E).next(w=>{g=g.insert(E,w)}))).next(()=>this.populateOverlays(e,_,u)).next(()=>this.computeViews(e,g,_,Ue())).next(E=>({batchId:m,changes:nT(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next(s=>{let o=kl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=kl();return this.indexManager.getCollectionParents(e,u).next(m=>$.forEach(m,g=>{const _=function(S,w){return new _o(w,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,_,s,o).next(E=>{E.forEach((S,w)=>{f=f.insert(S,w)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((g,_)=>{const E=_.getKey();f.get(E)===null&&(f=f.insert(E,an.newInvalidDocument(E)))});let m=kl();return f.forEach((g,_)=>{const E=u.get(g);E!==void 0&&Hl(E.mutation,_,In.empty(),We.now()),Sh(n,_)&&(m=m.insert(g,_))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return $.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Ai(o.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(o){return{name:o.name,query:M2(o.bundledQuery),readTime:Ai(o.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(){this.overlays=new gt(pe.comparator),this.Qr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Bs();return $.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.St(e,n,u)}),$.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Qr.delete(s)),$.resolve()}getOverlaysForCollection(e,n,s){const o=Bs(),u=n.length+1,f=new pe(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,_=g.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return $.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new gt((_,E)=>_-E);const f=this.overlays.getIterator();for(;f.hasNext();){const _=f.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let E=u.get(_.largestBatchId);E===null&&(E=Bs(),u=u.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const m=Bs(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((_,E)=>m.set(_,E)),!(m.size()>=o)););return $.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Qr.get(o.largestBatchId).delete(s.key);this.Qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new c2(n,s));let u=this.Qr.get(n);u===void 0&&(u=Ue(),this.Qr.set(n,u)),this.Qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(){this.$r=new Ut(Yt.Ur),this.Kr=new Ut(Yt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const s=new Yt(e,n);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.zr(new Yt(e,n))}jr(e,n){e.forEach(s=>this.removeReference(s,n))}Hr(e){const n=new pe(new ct([])),s=new Yt(n,e),o=new Yt(n,e+1),u=[];return this.Kr.forEachInRange([s,o],f=>{this.zr(f),u.push(f.key)}),u}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new pe(new ct([])),s=new Yt(n,e),o=new Yt(n,e+1);let u=Ue();return this.Kr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Yt(e,0),s=this.$r.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Yt{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return pe.comparator(e.key,n.key)||xe(e.Zr,n.Zr)}static Wr(e,n){return xe(e.Zr,n.Zr)||pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Ut(Yt.Ur)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new u2(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Xr=this.Xr.add(new Yt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return $.resolve(f)}lookupMutationBatch(e,n){return $.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ti(s),u=o<0?0:o;return $.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Ym:this.nr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Yt(n,0),o=new Yt(n,Number.POSITIVE_INFINITY),u=[];return this.Xr.forEachInRange([s,o],f=>{const m=this.ei(f.Zr);u.push(m)}),$.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ut(xe);return n.forEach(o=>{const u=new Yt(o,0),f=new Yt(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([u,f],m=>{s=s.add(m.Zr)})}),$.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;pe.isDocumentKey(u)||(u=u.child(""));const f=new Yt(new pe(u),0);let m=new Ut(xe);return this.Xr.forEachWhile(g=>{const _=g.key.path;return!!s.isPrefixOf(_)&&(_.length===o&&(m=m.add(g.Zr)),!0)},f),$.resolve(this.ni(m))}ni(e){const n=[];return e.forEach(s=>{const o=this.ei(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Ze(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return $.forEach(n.mutations,o=>{const u=new Yt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=s})}sr(e){}containsKey(e,n){const s=new Yt(n,0),o=this.Xr.firstAfterOrEqual(s);return $.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e){this.ii=e,this.docs=function(){return new gt(pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ii(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return $.resolve(s?s.document.mutableCopy():an.newInvalidDocument(n))}getEntries(e,n){let s=or();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():an.newInvalidDocument(o))}),$.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=or();const f=n.path,m=new pe(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:_,value:{document:E}}=g.getNext();if(!f.isPrefixOf(_.path))break;_.path.length>f.length+1||SI(bI(E),s)<=0||(o.has(E.key)||Sh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return $.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Te(9500)}si(e,n){return $.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new X2(this)}getSize(e){return $.resolve(this.size)}}class X2 extends z2{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Br.addEntry(e,o)):this.Br.removeEntry(s)}),$.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e){this.persistence=e,this.oi=new Xs(n=>Xm(n),$m),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this._i=0,this.ai=new ip,this.targetCount=0,this.ui=oo.cr()}forEachTarget(e,n){return this.oi.forEach((s,o)=>n(o)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this._i&&(this._i=n),$.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new oo(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Tr(n),$.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.oi.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.oi.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),$.waitFor(u).next(()=>o)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const s=this.oi.get(n)||null;return $.resolve(s)}addMatchingKeys(e,n,s){return this.ai.Gr(n,s),$.resolve()}removeMatchingKeys(e,n,s){this.ai.jr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),$.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ai.Yr(n);return $.resolve(s)}containsKey(e,n){return $.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e,n){this.ci={},this.overlays={},this.li=new Eh(0),this.hi=!1,this.hi=!0,this.Pi=new Y2,this.referenceDelegate=e(this),this.Ti=new $2(this),this.indexManager=new V2,this.remoteDocumentCache=function(o){return new K2(o)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new O2(n),this.Ei=new F2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new G2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ci[e.toKey()];return s||(s=new Q2(n,this.referenceDelegate),this.ci[e.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,s){ae("MemoryPersistence","Starting transaction:",e);const o=new Z2(this.li.next());return this.referenceDelegate.di(),s(o).next(u=>this.referenceDelegate.Ai(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ri(e,n){return $.or(Object.values(this.ci).map(s=>()=>s.containsKey(e,n)))}}class Z2 extends RI{constructor(e){super(),this.currentSequenceNumber=e}}class rp{constructor(e){this.persistence=e,this.Vi=new ip,this.mi=null}static fi(e){return new rp(e)}get gi(){if(this.mi)return this.mi;throw Te(60996)}addReference(e,n,s){return this.Vi.addReference(s,n),this.gi.delete(s.toString()),$.resolve()}removeReference(e,n,s){return this.Vi.removeReference(s,n),this.gi.add(s.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),$.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(o=>this.gi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.gi.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.gi,s=>{const o=pe.fromPath(s);return this.pi(e,o).next(u=>{u||n.removeEntry(o,we.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(s=>{s?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return $.or([()=>$.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class fh{constructor(e,n){this.persistence=e,this.yi=new Xs(s=>NI(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=B2(this,n)}static fi(e,n){return new fh(e,n)}di(){}Ai(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}br(e){let n=0;return this.yr(e,s=>{n++}).next(()=>n)}yr(e,n){return $.forEach(this.yi,(s,o)=>this.Dr(e,s,o).next(u=>u?$.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.si(e,f=>this.Dr(e,f,n).next(m=>{m||(s++,u.removeEntry(f,we.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),$.resolve()}removeReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),$.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Gc(e.data.value)),n}Dr(e,n,s){return $.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.yi.get(n);return $.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.ds=s,this.As=o}static Rs(e,n){let s=Ue(),o=Ue();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new sp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return Ib()?8:II(on())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ws(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.bs(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new W2;return this.Ss(e,n,f).next(m=>{if(u.result=m,this.fs)return this.Ds(e,n,f,m.size)})}).next(()=>u.result)}Ds(e,n,s,o){return s.documentReadCount<this.gs?(Ya()<=Le.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",Qa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),$.resolve()):(Ya()<=Le.DEBUG&&ae("QueryEngine","Query:",Qa(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ps*o?(Ya()<=Le.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",Qa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ti(n))):$.resolve())}ws(e,n){if(Xv(n))return $.resolve(null);let s=Ti(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=_m(n,null,"F"),s=Ti(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Ue(...u);return this.ys.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(g=>{const _=this.vs(n,m);return this.Cs(n,_,f,g.readTime)?this.ws(e,_m(n,null,"F")):this.Fs(e,_,n,g)}))})))}bs(e,n,s,o){return Xv(n)||o.isEqual(we.min())?$.resolve(null):this.ys.getDocuments(e,s).next(u=>{const f=this.vs(n,u);return this.Cs(n,f,s,o)?$.resolve(null):(Ya()<=Le.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Qa(n)),this.Fs(e,f,n,AI(o,Yl)).next(m=>m))})}vs(e,n){let s=new Ut(eT(e));return n.forEach((o,u)=>{Sh(e,u)&&(s=s.add(u))}),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return Ya()<=Le.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",Qa(n)),this.ys.getDocumentsMatchingQuery(e,n,Zr.min(),s)}Fs(e,n,s,o){return this.ys.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap="LocalStore",eC=3e8;class tC{constructor(e,n,s,o){this.persistence=e,this.Ms=n,this.serializer=o,this.xs=new gt(xe),this.Os=new Xs(u=>Xm(u),$m),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(s)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new H2(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function nC(r,e,n,s){return new tC(r,e,n,s)}async function bT(r,e){const n=Re(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Ls(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let g=Ue();for(const _ of o){f.push(_.batchId);for(const E of _.mutations)g=g.add(E.key)}for(const _ of u){m.push(_.batchId);for(const E of _.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next(_=>({ks:_,removedBatchIds:f,addedBatchIds:m}))})})}function iC(r,e){const n=Re(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.Bs.newChangeBuffer({trackRemovals:!0});return function(m,g,_,E){const S=_.batch,w=S.keys();let H=$.resolve();return w.forEach(Z=>{H=H.next(()=>E.getEntry(g,Z)).next(ie=>{const G=_.docVersions.get(Z);Ze(G!==null,48541),ie.version.compareTo(G)<0&&(S.applyToRemoteDocument(ie,_),ie.isValidDocument()&&(ie.setReadTime(_.commitVersion),E.addEntry(ie)))})}),H.next(()=>m.mutationQueue.removeMutationBatch(g,S))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let g=Ue();for(let _=0;_<m.mutationResults.length;++_)m.mutationResults[_].transformResults.length>0&&(g=g.add(m.batch.mutations[_].key));return g}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function ST(r){const e=Re(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function rC(r,e){const n=Re(r),s=e.snapshotVersion;let o=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Bs.newChangeBuffer({trackRemovals:!0});o=n.xs;const m=[];e.targetChanges.forEach((E,S)=>{const w=o.get(S);if(!w)return;m.push(n.Ti.removeMatchingKeys(u,E.removedDocuments,S).next(()=>n.Ti.addMatchingKeys(u,E.addedDocuments,S)));let H=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?H=H.withResumeToken(en.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):E.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(E.resumeToken,s)),o=o.insert(S,H),function(ie,G,ce){return ie.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-ie.snapshotVersion.toMicroseconds()>=eC?!0:ce.addedDocuments.size+ce.modifiedDocuments.size+ce.removedDocuments.size>0}(w,H,E)&&m.push(n.Ti.updateTargetData(u,H))});let g=or(),_=Ue();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(sC(u,f,e.documentUpdates).next(E=>{g=E.qs,_=E.Qs})),!s.isEqual(we.min())){const E=n.Ti.getLastRemoteSnapshotVersion(u).next(S=>n.Ti.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return $.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,g,_)).next(()=>g)}).then(u=>(n.xs=o,u))}function sC(r,e,n){let s=Ue(),o=Ue();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=or();return n.forEach((m,g)=>{const _=u.get(m);g.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(we.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):ae(ap,"Ignoring outdated watch update for ",m,". Current version:",_.version," Watch version:",g.version)}),{qs:f,Qs:o}})}function aC(r,e){const n=Re(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Ym),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function oC(r,e){const n=Re(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Ti.getTargetData(s,e).next(u=>u?(o=u,$.resolve(o)):n.Ti.allocateTargetId(s).next(f=>(o=new Gr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Ti.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.xs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.xs=n.xs.insert(s.targetId,s),n.Os.set(e,s.targetId)),s})}async function Am(r,e,n){const s=Re(r),o=s.xs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!go(f))throw f;ae(ap,`Failed to update sequence numbers for target ${e}: ${f}`)}s.xs=s.xs.remove(e),s.Os.delete(o.target)}function l0(r,e,n){const s=Re(r);let o=we.min(),u=Ue();return s.persistence.runTransaction("Execute query","readwrite",f=>function(g,_,E){const S=Re(g),w=S.Os.get(E);return w!==void 0?$.resolve(S.xs.get(w)):S.Ti.getTargetData(_,E)}(s,f,Ti(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(f,m.targetId).next(g=>{u=g})}).next(()=>s.Ms.getDocumentsMatchingQuery(f,e,n?o:we.min(),n?u:Ue())).next(m=>(lC(s,KI(e),m),{documents:m,$s:u})))}function lC(r,e,n){let s=r.Ns.get(e)||we.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Ns.set(e,s)}class u0{constructor(){this.activeTargetIds=e2()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uC{constructor(){this.xo=new u0,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,s){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new u0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0="ConnectivityMonitor";class h0{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ae(c0,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ae(c0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uc=null;function bm(){return Uc===null?Uc=function(){return 268435456+Math.round(2147483648*Math.random())}():Uc++,"0x"+Uc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd="RestConnection",hC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fC{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${s}/databases/${o}`,this.Go=this.databaseId.database===ah?`project_id=${s}`:`project_id=${s}&database_id=${o}`}zo(e,n,s,o,u){const f=bm(),m=this.jo(e,n.toUriEncodedString());ae(Wd,`Sending RPC '${e}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(g,o,u);const{host:_}=new URL(m),E=co(_);return this.Jo(e,m,g,s,E).then(S=>(ae(Wd,`Received RPC '${e}' ${f}: `,S),S),S=>{throw io(Wd,`RPC '${e}' ${f} failed with error: `,S,"url: ",m,"request:",s),S})}Yo(e,n,s,o,u,f){return this.zo(e,n,s,o,u)}Ho(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+mo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}jo(e,n){const s=hC[e];return`${this.Ko}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class mC extends fC{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=bm();return new Promise((m,g)=>{const _=new IE;_.setWithCredentials(!0),_.listenOnce(CE.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Fc.NO_ERROR:const S=_.getResponseJson();ae(rn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(S)),m(S);break;case Fc.TIMEOUT:ae(rn,`RPC '${e}' ${f} timed out`),g(new oe(W.DEADLINE_EXCEEDED,"Request time out"));break;case Fc.HTTP_ERROR:const w=_.getStatus();if(ae(rn,`RPC '${e}' ${f} failed with status:`,w,"response text:",_.getResponseText()),w>0){let H=_.getResponseJson();Array.isArray(H)&&(H=H[0]);const Z=H==null?void 0:H.error;if(Z&&Z.status&&Z.message){const ie=function(ce){const _e=ce.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(_e)>=0?_e:W.UNKNOWN}(Z.status);g(new oe(ie,Z.message))}else g(new oe(W.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new oe(W.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{h_:e,streamId:f,P_:_.getLastErrorCode(),T_:_.getLastError()})}}finally{ae(rn,`RPC '${e}' ${f} completed.`)}});const E=JSON.stringify(o);ae(rn,`RPC '${e}' ${f} sending request:`,o),_.send(n,"POST",E,s,15)})}I_(e,n,s){const o=bm(),u=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=xE(),m=DE(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Ho(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const E=u.join("");ae(rn,`Creating RPC '${e}' stream ${o}: ${E}`,g);const S=f.createWebChannel(E,g);this.E_(S);let w=!1,H=!1;const Z=new dC({Zo:G=>{H?ae(rn,`Not sending because RPC '${e}' stream ${o} is closed:`,G):(w||(ae(rn,`Opening RPC '${e}' stream ${o} transport.`),S.open(),w=!0),ae(rn,`RPC '${e}' stream ${o} sending:`,G),S.send(G))},Xo:()=>S.close()}),ie=(G,ce,_e)=>{G.listen(ce,de=>{try{_e(de)}catch(Ve){setTimeout(()=>{throw Ve},0)}})};return ie(S,Vl.EventType.OPEN,()=>{H||(ae(rn,`RPC '${e}' stream ${o} transport opened.`),Z.__())}),ie(S,Vl.EventType.CLOSE,()=>{H||(H=!0,ae(rn,`RPC '${e}' stream ${o} transport closed`),Z.u_(),this.d_(S))}),ie(S,Vl.EventType.ERROR,G=>{H||(H=!0,io(rn,`RPC '${e}' stream ${o} transport errored. Name:`,G.name,"Message:",G.message),Z.u_(new oe(W.UNAVAILABLE,"The operation could not be completed")))}),ie(S,Vl.EventType.MESSAGE,G=>{var ce;if(!H){const _e=G.data[0];Ze(!!_e,16349);const de=_e,Ve=(de==null?void 0:de.error)||((ce=de[0])===null||ce===void 0?void 0:ce.error);if(Ve){ae(rn,`RPC '${e}' stream ${o} received error:`,Ve);const Se=Ve.status;let ke=function(N){const M=Dt[N];if(M!==void 0)return hT(M)}(Se),V=Ve.message;ke===void 0&&(ke=W.INTERNAL,V="Unknown error status: "+Se+" with message "+Ve.message),H=!0,Z.u_(new oe(ke,V)),S.close()}else ae(rn,`RPC '${e}' stream ${o} received:`,_e),Z.c_(_e)}}),ie(m,NE.STAT_EVENT,G=>{G.stat===cm.PROXY?ae(rn,`RPC '${e}' stream ${o} detected buffering proxy`):G.stat===cm.NOPROXY&&ae(rn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{Z.a_()},0),Z}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function Jd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ch(r){return new y2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e,n,s=1e3,o=1.5,u=6e4){this.xi=e,this.timerId=n,this.A_=s,this.R_=o,this.V_=u,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),o=Math.max(0,n-s);o>0&&ae("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0="PersistentStream";class RT{constructor(e,n,s,o,u,f,m,g){this.xi=e,this.S_=s,this.D_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new wT(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(ar(n.toString()),ar("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.v_===n&&this.z_(s,o)},s=>{e(()=>{const o=new oe(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(o)})})}z_(e,n){const s=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{s(()=>this.j_(o))}),this.stream.onMessage(o=>{s(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return ae(f0,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(ae(f0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pC extends RT{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=T2(this.serializer,e),s=function(u){if(!("targetChange"in u))return we.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?we.min():f.readTime?Ai(f.readTime):we.min()}(e);return this.listener.Y_(n,s)}Z_(e){const n={};n.database=Tm(this.serializer),n.addTarget=function(u,f){let m;const g=f.target;if(m=pm(g)?{documents:S2(u,g)}:{query:w2(u,g).gt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=mT(u,f.resumeToken);const _=ym(u,f.expectedCount);_!==null&&(m.expectedCount=_)}else if(f.snapshotVersion.compareTo(we.min())>0){m.readTime=hh(u,f.snapshotVersion.toTimestamp());const _=ym(u,f.expectedCount);_!==null&&(m.expectedCount=_)}return m}(this.serializer,e);const s=I2(this.serializer,e);s&&(n.labels=s),this.Q_(n)}X_(e){const n={};n.database=Tm(this.serializer),n.removeTarget=e,this.Q_(n)}}class gC extends RT{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return Ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=b2(e.writeResults,e.commitTime),s=Ai(e.commitTime);return this.listener.ra(s,n)}ia(){const e={};e.database=Tm(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>A2(this.serializer,s))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{}class yC extends _C{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new oe(W.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,s,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.zo(e,vm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new oe(W.UNKNOWN,u.toString())})}Yo(e,n,s,o,u){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Yo(e,vm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new oe(W.UNKNOWN,f.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class vC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(ar(n),this.ua=!1):ae("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs="RemoteStore";class EC{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=u,this.Ra.No(f=>{s.enqueueAndForget(async()=>{$s(this)&&(ae(Qs,"Restarting streams for network reachability change."),await async function(g){const _=Re(g);_.da.add(4),await lu(_),_.Va.set("Unknown"),_.da.delete(4),await Nh(_)}(this))})}),this.Va=new vC(s,o)}}async function Nh(r){if($s(r))for(const e of r.Aa)await e(!0)}async function lu(r){for(const e of r.Aa)await e(!1)}function IT(r,e){const n=Re(r);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),cp(n)?up(n):yo(n).N_()&&lp(n,e))}function op(r,e){const n=Re(r),s=yo(n);n.Ea.delete(e),s.N_()&&CT(n,e),n.Ea.size===0&&(s.N_()?s.k_():$s(n)&&n.Va.set("Unknown"))}function lp(r,e){if(r.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}yo(r).Z_(e)}function CT(r,e){r.ma.Ke(e),yo(r).X_(e)}function up(r){r.ma=new m2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>r.Ea.get(e)||null,Pt:()=>r.datastore.serializer.databaseId}),yo(r).start(),r.Va.ca()}function cp(r){return $s(r)&&!yo(r).O_()&&r.Ea.size>0}function $s(r){return Re(r).da.size===0}function NT(r){r.ma=void 0}async function TC(r){r.Va.set("Online")}async function AC(r){r.Ea.forEach((e,n)=>{lp(r,e)})}async function bC(r,e){NT(r),cp(r)?(r.Va.Pa(e),up(r)):r.Va.set("Unknown")}async function SC(r,e,n){if(r.Va.set("Online"),e instanceof dT&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ea.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ea.delete(m),o.ma.removeTarget(m))}(r,e)}catch(s){ae(Qs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await dh(r,s)}else if(e instanceof Kc?r.ma.Xe(e):e instanceof fT?r.ma.ot(e):r.ma.nt(e),!n.isEqual(we.min()))try{const s=await ST(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.ma.It(f);return m.targetChanges.forEach((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ea.get(_);E&&u.Ea.set(_,E.withResumeToken(g.resumeToken,f))}}),m.targetMismatches.forEach((g,_)=>{const E=u.Ea.get(g);if(!E)return;u.Ea.set(g,E.withResumeToken(en.EMPTY_BYTE_STRING,E.snapshotVersion)),CT(u,g);const S=new Gr(E.target,g,_,E.sequenceNumber);lp(u,S)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){ae(Qs,"Failed to raise snapshot:",s),await dh(r,s)}}async function dh(r,e,n){if(!go(e))throw e;r.da.add(1),await lu(r),r.Va.set("Offline"),n||(n=()=>ST(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ae(Qs,"Retrying IndexedDB access"),await n(),r.da.delete(1),await Nh(r)})}function DT(r,e){return e().catch(n=>dh(r,n,e))}async function Dh(r){const e=Re(r),n=ts(e);let s=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Ym;for(;wC(e);)try{const o=await aC(e.localStore,s);if(o===null){e.Ia.length===0&&n.k_();break}s=o.batchId,RC(e,o)}catch(o){await dh(e,o)}xT(e)&&OT(e)}function wC(r){return $s(r)&&r.Ia.length<10}function RC(r,e){r.Ia.push(e);const n=ts(r);n.N_()&&n.ea&&n.ta(e.mutations)}function xT(r){return $s(r)&&!ts(r).O_()&&r.Ia.length>0}function OT(r){ts(r).start()}async function IC(r){ts(r).ia()}async function CC(r){const e=ts(r);for(const n of r.Ia)e.ta(n.mutations)}async function NC(r,e,n){const s=r.Ia.shift(),o=ep.from(s,e,n);await DT(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Dh(r)}async function DC(r,e){e&&ts(r).ea&&await async function(s,o){if(function(f){return f2(f)&&f!==W.ABORTED}(o.code)){const u=s.Ia.shift();ts(s).L_(),await DT(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Dh(s)}}(r,e),xT(r)&&OT(r)}async function d0(r,e){const n=Re(r);n.asyncQueue.verifyOperationInProgress(),ae(Qs,"RemoteStore received new credentials");const s=$s(n);n.da.add(3),await lu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await Nh(n)}async function xC(r,e){const n=Re(r);e?(n.da.delete(2),await Nh(n)):e||(n.da.add(2),await lu(n),n.Va.set("Unknown"))}function yo(r){return r.fa||(r.fa=function(n,s,o){const u=Re(n);return u.oa(),new pC(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{e_:TC.bind(null,r),n_:AC.bind(null,r),i_:bC.bind(null,r),Y_:SC.bind(null,r)}),r.Aa.push(async e=>{e?(r.fa.L_(),cp(r)?up(r):r.Va.set("Unknown")):(await r.fa.stop(),NT(r))})),r.fa}function ts(r){return r.ga||(r.ga=function(n,s,o){const u=Re(n);return u.oa(),new gC(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{e_:()=>Promise.resolve(),n_:IC.bind(null,r),i_:DC.bind(null,r),na:CC.bind(null,r),ra:NC.bind(null,r)}),r.Aa.push(async e=>{e?(r.ga.L_(),await Dh(r)):(await r.ga.stop(),r.Ia.length>0&&(ae(Qs,`Stopping write stream with ${r.Ia.length} pending writes`),r.Ia=[]))})),r.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new zs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new hp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fp(r,e){if(ar("AsyncQueue",`${e}: ${r}`),go(r))return new oe(W.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{static emptySet(e){return new eo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||pe.comparator(n.key,s.key):(n,s)=>pe.comparator(n.key,s.key),this.keyedMap=kl(),this.sortedSet=new gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof eo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new eo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(){this.pa=new gt(pe.comparator)}track(e){const n=e.doc.key,s=this.pa.get(n);s?e.type!==0&&s.type===3?this.pa=this.pa.insert(n,e):e.type===3&&s.type!==1?this.pa=this.pa.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.pa=this.pa.remove(n):e.type===1&&s.type===2?this.pa=this.pa.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):Te(63341,{Vt:e,ya:s}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,s)=>{e.push(s)}),e}}class lo{constructor(e,n,s,o,u,f,m,g,_){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new lo(e,n,eo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class MC{constructor(){this.queries=p0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Re(n),u=o.queries;o.queries=p0(),u.forEach((f,m)=>{for(const g of m.Sa)g.onError(s)})})(this,new oe(W.ABORTED,"Firestore shutting down"))}}function p0(){return new Xs(r=>JE(r),bh)}async function VC(r,e){const n=Re(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Da()&&e.va()&&(s=2):(u=new OC,s=e.va()?0:1);try{switch(s){case 0:u.ba=await n.onListen(o,!0);break;case 1:u.ba=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=fp(f,`Initialization of query '${Qa(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.Fa(n.onlineState),u.ba&&e.Ma(u.ba)&&dp(n)}async function kC(r,e){const n=Re(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.va()?0:1:!u.Da()&&e.va()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function PC(r,e){const n=Re(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Ma(o)&&(s=!0);f.ba=o}}s&&dp(n)}function jC(r,e,n){const s=Re(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function dp(r){r.Ca.forEach(e=>{e.next()})}var Sm,g0;(g0=Sm||(Sm={})).xa="default",g0.Cache="cache";class LC{constructor(e,n,s){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new lo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const s=n!=="Offline";return(!this.options.Qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=lo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Sm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(e){this.key=e}}class VT{constructor(e){this.key=e}}class UC{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ue(),this.mutatedKeys=Ue(),this.Za=eT(e),this.Xa=new eo(this.Za)}get eu(){return this.Ha}tu(e,n){const s=n?n.nu:new m0,o=n?n.Xa:this.Xa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,S)=>{const w=o.get(E),H=Sh(this.query,S)?S:null,Z=!!w&&this.mutatedKeys.has(w.key),ie=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let G=!1;w&&H?w.data.isEqual(H.data)?Z!==ie&&(s.track({type:3,doc:H}),G=!0):this.ru(w,H)||(s.track({type:2,doc:H}),G=!0,(g&&this.Za(H,g)>0||_&&this.Za(H,_)<0)&&(m=!0)):!w&&H?(s.track({type:0,doc:H}),G=!0):w&&!H&&(s.track({type:1,doc:w}),G=!0,(g||_)&&(m=!0)),G&&(H?(f=f.add(H),u=ie?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{Xa:f,nu:s,Cs:m,mutatedKeys:u}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const f=e.nu.wa();f.sort((E,S)=>function(H,Z){const ie=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Vt:G})}};return ie(H)-ie(Z)}(E.type,S.type)||this.Za(E.doc,S.doc)),this.iu(s),o=o!=null&&o;const m=n&&!o?this.su():[],g=this.Ya.size===0&&this.current&&!o?1:0,_=g!==this.Ja;return this.Ja=g,f.length!==0||_?{snapshot:new lo(this.query,e.Xa,u,f,e.mutatedKeys,g===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:m}:{ou:m}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new m0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Ue(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const n=[];return e.forEach(s=>{this.Ya.has(s)||n.push(new VT(s))}),this.Ya.forEach(s=>{e.has(s)||n.push(new MT(s))}),n}au(e){this.Ha=e.$s,this.Ya=Ue();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return lo.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const mp="SyncEngine";class BC{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class zC{constructor(e){this.key=e,this.cu=!1}}class qC{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.lu={},this.hu=new Xs(m=>JE(m),bh),this.Pu=new Map,this.Tu=new Set,this.Iu=new gt(pe.comparator),this.Eu=new Map,this.du=new ip,this.Au={},this.Ru=new Map,this.Vu=oo.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function HC(r,e,n=!0){const s=BT(r);let o;const u=s.hu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.uu()):o=await kT(s,e,n,!0),o}async function FC(r,e){const n=BT(r);await kT(n,e,!0,!1)}async function kT(r,e,n,s){const o=await oC(r.localStore,Ti(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await GC(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&IT(r.remoteStore,o),m}async function GC(r,e,n,s,o){r.fu=(S,w,H)=>async function(ie,G,ce,_e){let de=G.view.tu(ce);de.Cs&&(de=await l0(ie.localStore,G.query,!1).then(({documents:V})=>G.view.tu(V,de)));const Ve=_e&&_e.targetChanges.get(G.targetId),Se=_e&&_e.targetMismatches.get(G.targetId)!=null,ke=G.view.applyChanges(de,ie.isPrimaryClient,Ve,Se);return y0(ie,G.targetId,ke.ou),ke.snapshot}(r,S,w,H);const u=await l0(r.localStore,e,!0),f=new UC(e,u.$s),m=f.tu(u.documents),g=ou.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),_=f.applyChanges(m,r.isPrimaryClient,g);y0(r,n,_.ou);const E=new BC(e,n,f);return r.hu.set(e,E),r.Pu.has(n)?r.Pu.get(n).push(e):r.Pu.set(n,[e]),_.snapshot}async function YC(r,e,n){const s=Re(r),o=s.hu.get(e),u=s.Pu.get(o.targetId);if(u.length>1)return s.Pu.set(o.targetId,u.filter(f=>!bh(f,e))),void s.hu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Am(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&op(s.remoteStore,o.targetId),wm(s,o.targetId)}).catch(po)):(wm(s,o.targetId),await Am(s.localStore,o.targetId,!0))}async function QC(r,e){const n=Re(r),s=n.hu.get(e),o=n.Pu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),op(n.remoteStore,s.targetId))}async function KC(r,e,n){const s=tN(r);try{const o=await function(f,m){const g=Re(f),_=We.now(),E=m.reduce((H,Z)=>H.add(Z.key),Ue());let S,w;return g.persistence.runTransaction("Locally write mutations","readwrite",H=>{let Z=or(),ie=Ue();return g.Bs.getEntries(H,E).next(G=>{Z=G,Z.forEach((ce,_e)=>{_e.isValidDocument()||(ie=ie.add(ce))})}).next(()=>g.localDocuments.getOverlayedDocuments(H,Z)).next(G=>{S=G;const ce=[];for(const _e of m){const de=o2(_e,S.get(_e.key).overlayedDocument);de!=null&&ce.push(new ss(_e.key,de,GE(de.value.mapValue),qn.exists(!0)))}return g.mutationQueue.addMutationBatch(H,_,ce,m)}).next(G=>{w=G;const ce=G.applyToLocalDocumentSet(S,ie);return g.documentOverlayCache.saveOverlays(H,G.batchId,ce)})}).then(()=>({batchId:w.batchId,changes:nT(S)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,g){let _=f.Au[f.currentUser.toKey()];_||(_=new gt(xe)),_=_.insert(m,g),f.Au[f.currentUser.toKey()]=_}(s,o.batchId,n),await uu(s,o.changes),await Dh(s.remoteStore)}catch(o){const u=fp(o,"Failed to persist write");n.reject(u)}}async function PT(r,e){const n=Re(r);try{const s=await rC(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Eu.get(u);f&&(Ze(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.cu=!0:o.modifiedDocuments.size>0?Ze(f.cu,14607):o.removedDocuments.size>0&&(Ze(f.cu,42227),f.cu=!1))}),await uu(n,s,e)}catch(s){await po(s)}}function _0(r,e,n){const s=Re(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.hu.forEach((u,f)=>{const m=f.view.Fa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const g=Re(f);g.onlineState=m;let _=!1;g.queries.forEach((E,S)=>{for(const w of S.Sa)w.Fa(m)&&(_=!0)}),_&&dp(g)}(s.eventManager,e),o.length&&s.lu.Y_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function XC(r,e,n){const s=Re(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Eu.get(e),u=o&&o.key;if(u){let f=new gt(pe.comparator);f=f.insert(u,an.newNoDocument(u,we.min()));const m=Ue().add(u),g=new Ih(we.min(),new Map,new gt(xe),f,m);await PT(s,g),s.Iu=s.Iu.remove(u),s.Eu.delete(e),pp(s)}else await Am(s.localStore,e,!1).then(()=>wm(s,e,n)).catch(po)}async function $C(r,e){const n=Re(r),s=e.batch.batchId;try{const o=await iC(n.localStore,e);LT(n,s,null),jT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await uu(n,o)}catch(o){await po(o)}}async function ZC(r,e,n){const s=Re(r);try{const o=await function(f,m){const g=Re(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let E;return g.mutationQueue.lookupMutationBatch(_,m).next(S=>(Ze(S!==null,37113),E=S.keys(),g.mutationQueue.removeMutationBatch(_,S))).next(()=>g.mutationQueue.performConsistencyCheck(_)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(_,E,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,E)).next(()=>g.localDocuments.getDocuments(_,E))})}(s.localStore,e);LT(s,e,n),jT(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await uu(s,o)}catch(o){await po(o)}}function jT(r,e){(r.Ru.get(e)||[]).forEach(n=>{n.resolve()}),r.Ru.delete(e)}function LT(r,e,n){const s=Re(r);let o=s.Au[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Au[s.currentUser.toKey()]=o}}function wm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Pu.get(e))r.hu.delete(s),n&&r.lu.gu(s,n);r.Pu.delete(e),r.isPrimaryClient&&r.du.Hr(e).forEach(s=>{r.du.containsKey(s)||UT(r,s)})}function UT(r,e){r.Tu.delete(e.path.canonicalString());const n=r.Iu.get(e);n!==null&&(op(r.remoteStore,n),r.Iu=r.Iu.remove(e),r.Eu.delete(n),pp(r))}function y0(r,e,n){for(const s of n)s instanceof MT?(r.du.addReference(s.key,e),WC(r,s)):s instanceof VT?(ae(mp,"Document no longer in limbo: "+s.key),r.du.removeReference(s.key,e),r.du.containsKey(s.key)||UT(r,s.key)):Te(19791,{pu:s})}function WC(r,e){const n=e.key,s=n.path.canonicalString();r.Iu.get(n)||r.Tu.has(s)||(ae(mp,"New document in limbo: "+n),r.Tu.add(s),pp(r))}function pp(r){for(;r.Tu.size>0&&r.Iu.size<r.maxConcurrentLimboResolutions;){const e=r.Tu.values().next().value;r.Tu.delete(e);const n=new pe(ct.fromString(e)),s=r.Vu.next();r.Eu.set(s,new zC(n)),r.Iu=r.Iu.insert(n,s),IT(r.remoteStore,new Gr(Ti(Zm(n.path)),s,"TargetPurposeLimboResolution",Eh.le))}}async function uu(r,e,n){const s=Re(r),o=[],u=[],f=[];s.hu.isEmpty()||(s.hu.forEach((m,g)=>{f.push(s.fu(g,e,n).then(_=>{var E;if((_||n)&&s.isPrimaryClient){const S=_?!_.fromCache:(E=n==null?void 0:n.targetChanges.get(g.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(g.targetId,S?"current":"not-current")}if(_){o.push(_);const S=sp.Rs(g.targetId,_);u.push(S)}}))}),await Promise.all(f),s.lu.Y_(o),await async function(g,_){const E=Re(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>$.forEach(_,w=>$.forEach(w.ds,H=>E.persistence.referenceDelegate.addReference(S,w.targetId,H)).next(()=>$.forEach(w.As,H=>E.persistence.referenceDelegate.removeReference(S,w.targetId,H)))))}catch(S){if(!go(S))throw S;ae(ap,"Failed to update sequence numbers: "+S)}for(const S of _){const w=S.targetId;if(!S.fromCache){const H=E.xs.get(w),Z=H.snapshotVersion,ie=H.withLastLimboFreeSnapshotVersion(Z);E.xs=E.xs.insert(w,ie)}}}(s.localStore,u))}async function JC(r,e){const n=Re(r);if(!n.currentUser.isEqual(e)){ae(mp,"User change. New user:",e.toKey());const s=await bT(n.localStore,e);n.currentUser=e,function(u,f){u.Ru.forEach(m=>{m.forEach(g=>{g.reject(new oe(W.CANCELLED,f))})}),u.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await uu(n,s.ks)}}function eN(r,e){const n=Re(r),s=n.Eu.get(e);if(s&&s.cu)return Ue().add(s.key);{let o=Ue();const u=n.Pu.get(e);if(!u)return o;for(const f of u){const m=n.hu.get(f);o=o.unionWith(m.view.eu)}return o}}function BT(r){const e=Re(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=PT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=XC.bind(null,e),e.lu.Y_=PC.bind(null,e.eventManager),e.lu.gu=jC.bind(null,e.eventManager),e}function tN(r){const e=Re(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$C.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ZC.bind(null,e),e}class mh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ch(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return nC(this.persistence,new J2,e.initialUser,this.serializer)}Su(e){return new AT(rp.fi,this.serializer)}bu(e){return new uC}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mh.provider={build:()=>new mh};class nN extends mh{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){Ze(this.persistence.referenceDelegate instanceof fh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new L2(s,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new AT(s=>fh.fi(s,n),this.serializer)}}class Rm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>_0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=JC.bind(null,this.syncEngine),await xC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new MC}()}createDatastore(e){const n=Ch(e.databaseInfo.databaseId),s=function(u){return new mC(u)}(e.databaseInfo);return function(u,f,m,g){return new yC(u,f,m,g)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new EC(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>_0(this.syncEngine,n,0),function(){return h0.C()?new h0:new cC}())}createSyncEngine(e,n){return function(o,u,f,m,g,_,E){const S=new qC(o,u,f,m,g,_);return E&&(S.mu=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Re(o);ae(Qs,"RemoteStore shutting down."),u.da.add(5),await lu(u),u.Ra.shutdown(),u.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Rm.provider={build:()=>new Rm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):ar("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns="FirestoreClient";class rN{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=sn.UNAUTHENTICATED,this.clientId=kE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ae(ns,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ae(ns,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=fp(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function em(r,e){r.asyncQueue.verifyOperationInProgress(),ae(ns,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await bT(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function v0(r,e){r.asyncQueue.verifyOperationInProgress();const n=await sN(r);ae(ns,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>d0(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>d0(e.remoteStore,o)),r._onlineComponents=e}async function sN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ae(ns,"Using user provided OfflineComponentProvider");try{await em(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;io("Error using user provided cache. Falling back to memory cache: "+n),await em(r,new mh)}}else ae(ns,"Using default OfflineComponentProvider"),await em(r,new nN(void 0));return r._offlineComponents}async function zT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ae(ns,"Using user provided OnlineComponentProvider"),await v0(r,r._uninitializedComponentsProvider._online)):(ae(ns,"Using default OnlineComponentProvider"),await v0(r,new Rm))),r._onlineComponents}function aN(r){return zT(r).then(e=>e.syncEngine)}async function E0(r){const e=await zT(r),n=e.eventManager;return n.onListen=HC.bind(null,e.syncEngine),n.onUnlisten=YC.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=FC.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=QC.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(r,e,n){if(!n)throw new oe(W.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function oN(r,e,n,s){if(e===!0&&s===!0)throw new oe(W.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function A0(r){if(!pe.isDocumentKey(r))throw new oe(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function b0(r){if(pe.isDocumentKey(r))throw new oe(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function xh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te(12329,{type:typeof r})}function bi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new oe(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xh(r);throw new oe(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT="firestore.googleapis.com",S0=!0;class w0{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new oe(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=FT,this.ssl=S0}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:S0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=TT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<P2)throw new oe(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}oN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qT((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new oe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new oe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new oe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Oh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new w0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new w0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new dI;switch(s.type){case"firstParty":return new _I(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new oe(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=T0.get(n);s&&(ae("ComponentProvider","Removing Datastore"),T0.delete(n),s.terminate())}(this),Promise.resolve()}}function lN(r,e,n,s={}){var o;r=bi(r,Oh);const u=co(e),f=r._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:r._getEmulatorOptions()}),g=`${e}:${n}`;u&&(L0(`https://${g}`),U0("Firestore",!0)),f.host!==FT&&f.host!==g&&io("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},f),{host:g,ssl:u,emulatorOptions:s});if(!qs(_,m)&&(r._setSettings(_),s.mockUserToken)){let E,S;if(typeof s.mockUserToken=="string")E=s.mockUserToken,S=sn.MOCK_USER;else{E=yb(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new oe(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new sn(w)}r._authCredentials=new mI(new ME(E,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Zs(this.firestore,e,this._query)}}class dn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $r(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dn(this.firestore,e,this._key)}}class $r extends Zs{constructor(e,n,s){super(e,n,Zm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dn(this.firestore,null,new pe(e))}withConverter(e){return new $r(this.firestore,e,this._path)}}function _i(r,e,...n){if(r=Ot(r),HT("collection","path",e),r instanceof Oh){const s=ct.fromString(e,...n);return b0(s),new $r(r,null,s)}{if(!(r instanceof dn||r instanceof $r))throw new oe(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ct.fromString(e,...n));return b0(s),new $r(r.firestore,null,s)}}function yi(r,e,...n){if(r=Ot(r),arguments.length===1&&(e=kE.newId()),HT("doc","path",e),r instanceof Oh){const s=ct.fromString(e,...n);return A0(s),new dn(r,null,new pe(s))}{if(!(r instanceof dn||r instanceof $r))throw new oe(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ct.fromString(e,...n));return A0(s),new dn(r.firestore,r instanceof $r?r.converter:null,new pe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0="AsyncQueue";class I0{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new wT(this,"async_queue_retry"),this.rc=()=>{const s=Jd();s&&ae(R0,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=e;const n=Jd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=Jd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new zs;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!go(e))throw e;ae(R0,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(s=>{throw this.Xu=s,this.ec=!1,ar("INTERNAL UNHANDLED ERROR: ",C0(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=n,n}enqueueAfterDelay(e,n,s){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const o=hp.createAndSchedule(this,e,n,s,u=>this.uc(u));return this.Zu.push(o),o}oc(){this.Xu&&Te(47125,{cc:C0(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function C0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(r){return function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(r,["next","error","complete"])}class Ks extends Oh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new I0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new I0(e),this._firestoreClient=void 0,await e}}}function uN(r,e){const n=typeof r=="object"?r:H0(),s=typeof r=="string"?r:ah,o=km(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=gb("firestore");u&&lN(o,...u)}return o}function GT(r){if(r._terminated)throw new oe(W.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||cN(r),r._firestoreClient}function cN(r){var e,n,s;const o=r._freezeSettings(),u=function(m,g,_,E){return new OI(m,g,_,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,qT(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new rN(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new uo(en.fromBase64String(e))}catch(n){throw new oe(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new uo(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=/^__.*__$/;class fN{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ss(e,this.data,this.fieldMask,n,this.fieldTransforms):new au(e,this.data,n,this.fieldTransforms)}}class YT{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ss(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function QT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ic:r})}}class vp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ec(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new vp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.dc({path:s,Rc:!1});return o.Vc(e),o}mc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.dc({path:s,Rc:!1});return o.Ec(),o}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return ph(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(QT(this.Ic)&&hN.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class dN{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Ch(e)}bc(e,n,s,o=!1){return new vp({Ic:e,methodName:n,wc:s,path:Jt.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vh(r){const e=r._freezeSettings(),n=Ch(r._databaseId);return new dN(r._databaseId,!!e.ignoreUndefinedProperties,n)}function KT(r,e,n,s,o,u={}){const f=r.bc(u.merge||u.mergeFields?2:0,e,n,o);Ep("Data must be an object, but it was:",f,s);const m=XT(s,f);let g,_;if(u.merge)g=new In(f.fieldMask),_=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const w=Im(e,S,n);if(!f.contains(w))throw new oe(W.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);ZT(E,w)||E.push(w)}g=new In(E),_=f.fieldTransforms.filter(S=>g.covers(S.field))}else g=null,_=f.fieldTransforms;return new fN(new yn(m),g,_)}class kh extends gp{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof kh}}function mN(r,e,n,s){const o=r.bc(1,e,n);Ep("Data must be an object, but it was:",o,s);const u=[],f=yn.empty();rs(s,(g,_)=>{const E=Tp(e,g,n);_=Ot(_);const S=o.mc(E);if(_ instanceof kh)u.push(E);else{const w=cu(_,S);w!=null&&(u.push(E),f.set(E,w))}});const m=new In(u);return new YT(f,m,o.fieldTransforms)}function pN(r,e,n,s,o,u){const f=r.bc(1,e,n),m=[Im(e,s,n)],g=[o];if(u.length%2!=0)throw new oe(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(Im(e,u[w])),g.push(u[w+1]);const _=[],E=yn.empty();for(let w=m.length-1;w>=0;--w)if(!ZT(_,m[w])){const H=m[w];let Z=g[w];Z=Ot(Z);const ie=f.mc(H);if(Z instanceof kh)_.push(H);else{const G=cu(Z,ie);G!=null&&(_.push(H),E.set(H,G))}}const S=new In(_);return new YT(E,S,f.fieldTransforms)}function gN(r,e,n,s=!1){return cu(n,r.bc(s?4:3,e))}function cu(r,e){if($T(r=Ot(r)))return Ep("Unsupported field value:",e,r),XT(r,e);if(r instanceof gp)return function(s,o){if(!QT(o.Ic))throw o.gc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.gc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let g=cu(m,o.fc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=Ot(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return t2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=We.fromDate(s);return{timestampValue:hh(o.serializer,u)}}if(s instanceof We){const u=new We(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:hh(o.serializer,u)}}if(s instanceof _p)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof uo)return{bytesValue:mT(o.serializer,s._byteString)};if(s instanceof dn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.gc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:np(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof yp)return function(f,m){return{mapValue:{fields:{[HE]:{stringValue:FE},[oh]:{arrayValue:{values:f.toArray().map(_=>{if(typeof _!="number")throw m.gc("VectorValues must only contain numeric values.");return Wm(m.serializer,_)})}}}}}}(s,o);throw o.gc(`Unsupported field value: ${xh(s)}`)}(r,e)}function XT(r,e){const n={};return jE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):rs(r,(s,o)=>{const u=cu(o,e.Ac(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function $T(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof We||r instanceof _p||r instanceof uo||r instanceof dn||r instanceof gp||r instanceof yp)}function Ep(r,e,n){if(!$T(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=xh(n);throw s==="an object"?e.gc(r+" a custom object"):e.gc(r+" "+s)}}function Im(r,e,n){if((e=Ot(e))instanceof Mh)return e._internalPath;if(typeof e=="string")return Tp(r,e);throw ph("Field path arguments must be of type string or ",r,!1,void 0,n)}const _N=new RegExp("[~\\*/\\[\\]]");function Tp(r,e,n){if(e.search(_N)>=0)throw ph(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Mh(...e.split("."))._internalPath}catch{throw ph(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function ph(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new oe(W.INVALID_ARGUMENT,m+r+g)}function ZT(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new yN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ap("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class yN extends WT{data(){return super.data()}}function Ap(r,e){return typeof e=="string"?Tp(r,e):e instanceof Mh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new oe(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bp{}class JT extends bp{}function Nl(r,e,...n){let s=[];e instanceof bp&&s.push(e),s=s.concat(n),function(u){const f=u.filter(g=>g instanceof wp).length,m=u.filter(g=>g instanceof Sp).length;if(f>1||f>0&&m>0)throw new oe(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class Sp extends JT{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Sp(e,n,s)}_apply(e){const n=this._parse(e);return e1(e._query,n),new Zs(e.firestore,e.converter,gm(e._query,n))}_parse(e){const n=Vh(e.firestore);return function(u,f,m,g,_,E,S){let w;if(_.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new oe(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){x0(S,E);const Z=[];for(const ie of S)Z.push(D0(g,u,ie));w={arrayValue:{values:Z}}}else w=D0(g,u,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||x0(S,E),w=gN(m,f,S,E==="in"||E==="not-in");return xt.create(_,E,w)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class wp extends bp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new wp(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Jn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const g of m)e1(f,g),f=gm(f,g)}(e._query,n),new Zs(e.firestore,e.converter,gm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Rp extends JT{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Rp(e,n)}_apply(e){const n=function(o,u,f){if(o.startAt!==null)throw new oe(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new oe(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new $l(u,f)}(e._query,this._field,this._direction);return new Zs(e.firestore,e.converter,function(o,u){const f=o.explicitOrderBy.concat([u]);return new _o(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function Dl(r,e="asc"){const n=e,s=Ap("orderBy",r);return Rp._create(s,n)}function D0(r,e,n){if(typeof(n=Ot(n))=="string"){if(n==="")throw new oe(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!WE(e)&&n.indexOf("/")!==-1)throw new oe(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(ct.fromString(n));if(!pe.isDocumentKey(s))throw new oe(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Hv(r,new pe(s))}if(n instanceof dn)return Hv(r,n._key);throw new oe(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xh(n)}.`)}function x0(r,e){if(!Array.isArray(r)||r.length===0)throw new oe(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function e1(r,e){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new oe(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class EN{convertValue(e,n="none"){switch(es(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Jr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return rs(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[oh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>St(f.doubleValue));return new yp(u)}convertGeoPoint(e){return new _p(St(e.latitude),St(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Ah(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Ql(e));default:return null}}convertTimestamp(e){const n=Wr(e);return new We(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ct.fromString(e);Ze(ET(s),9688,{name:e});const o=new Kl(s.get(1),s.get(3)),u=new pe(s.popFirst(5));return o.isEqual(n)||ar(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(r,e,n){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class n1 extends WT{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Xc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Ap("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Xc extends n1{data(e={}){return super.data(e)}}class TN{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new jl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Xc(this._firestore,this._userDataWriter,s.key,s,new jl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const g=new Xc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new jl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const g=new Xc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new jl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,E=-1;return m.type!==0&&(_=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:AN(m.type),doc:g,oldIndex:_,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function AN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:r})}}class i1 extends EN{constructor(e){super(),this.firestore=e}convertBytes(e){return new uo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new dn(this.firestore,null,n)}}function bN(r,e,n){r=bi(r,dn);const s=bi(r.firestore,Ks),o=t1(r.converter,e);return Ph(s,[KT(Vh(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,qn.none())])}function Ip(r,e,n,...s){r=bi(r,dn);const o=bi(r.firestore,Ks),u=Vh(o);let f;return f=typeof(e=Ot(e))=="string"||e instanceof Mh?pN(u,"updateDoc",r._key,e,n,s):mN(u,"updateDoc",r._key,e),Ph(o,[f.toMutation(r._key,qn.exists(!0))])}function Jl(r){return Ph(bi(r.firestore,Ks),[new Jm(r._key,qn.none())])}function hu(r,e){const n=bi(r.firestore,Ks),s=yi(r),o=t1(r.converter,e);return Ph(n,[KT(Vh(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,qn.exists(!1))]).then(()=>s)}function Fa(r,...e){var n,s,o;r=Ot(r);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof e[f]!="object"||N0(e[f])||(u=e[f],f++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(N0(e[f])){const S=e[f];e[f]=(n=S.next)===null||n===void 0?void 0:n.bind(S),e[f+1]=(s=S.error)===null||s===void 0?void 0:s.bind(S),e[f+2]=(o=S.complete)===null||o===void 0?void 0:o.bind(S)}let g,_,E;if(r instanceof dn)_=bi(r.firestore,Ks),E=Zm(r._key.path),g={next:S=>{e[f]&&e[f](SN(_,r,S))},error:e[f+1],complete:e[f+2]};else{const S=bi(r,Zs);_=bi(S.firestore,Ks),E=S._query;const w=new i1(_);g={next:H=>{e[f]&&e[f](new TN(_,w,S,H))},error:e[f+1],complete:e[f+2]},vN(r._query)}return function(w,H,Z,ie){const G=new iN(ie),ce=new LC(H,G,Z);return w.asyncQueue.enqueueAndForget(async()=>VC(await E0(w),ce)),()=>{G.xu(),w.asyncQueue.enqueueAndForget(async()=>kC(await E0(w),ce))}}(GT(_),E,m,g)}function Ph(r,e){return function(s,o){const u=new zs;return s.asyncQueue.enqueueAndForget(async()=>KC(await aN(s),o,u)),u.promise}(GT(r),e)}function SN(r,e,n){const s=n.docs.get(e._key),o=new i1(r);return new n1(r,o,e._key,s,new jl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){mo=o})(ho),to(new Hs("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Ks(new pI(s.getProvider("auth-internal")),new yI(f,s.getProvider("app-check-internal")),function(_,E){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new oe(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kl(_.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Kr(xv,Ov,e),Kr(xv,Ov,"esm2017")})();const wN={apiKey:"AIzaSyA5StJwxgDblEpmnEjY1QYZ4O95GqunuxI",authDomain:"inab-app.firebaseapp.com",projectId:"inab-app",storageBucket:"inab-app.firebasestorage.app",messagingSenderId:"308782697748",appId:"1:308782697748:web:ad9cd4d640e9d6d6b2c601",measurementId:"G-X224XNKNFX"},r1=q0(wN),Ga=uI(r1),Lt=uN(r1),s1=fe.createContext(),Cp=()=>{const r=fe.useContext(s1);if(!r)throw new Error("useAuth must be used within an AuthProvider");return r},a1=({children:r})=>{const[e,n]=fe.useState(null),[s,o]=fe.useState(!0),u=(S,w)=>Gw(Ga,S,w),f=(S,w)=>Yw(Ga,S,w),m=()=>Ww(Ga);function g(S){return Fw(Ga,S)}function _(S){return Kw(Ga.currentUser,{displayName:S})}fe.useEffect(()=>Zw(Ga,w=>{n(w),o(!1)}),[]);const E={currentUser:e,signup:u,login:f,logout:m,resetPassword:g,updateUserProfile:_};return A.jsx(s1.Provider,{value:E,children:!s&&r})};a1.propTypes={children:se.node.isRequired};const o1=fe.createContext(),as=()=>{const r=fe.useContext(o1);if(!r)throw new Error("useCurrency must be used within a CurrencyProvider");return r},xl={EUR:{symbol:"",name:"Euro",code:"EUR",locale:"de-DE",position:"before"},USD:{symbol:"$",name:"US Dollar",code:"USD",locale:"en-US",position:"before"},GBP:{symbol:"",name:"British Pound",code:"GBP",locale:"en-GB",position:"before"},JPY:{symbol:"",name:"Japanese Yen",code:"JPY",locale:"ja-JP",position:"before"},CAD:{symbol:"C$",name:"Canadian Dollar",code:"CAD",locale:"en-CA",position:"before"},AUD:{symbol:"A$",name:"Australian Dollar",code:"AUD",locale:"en-AU",position:"before"},CHF:{symbol:"CHF",name:"Swiss Franc",code:"CHF",locale:"de-CH",position:"after"},CNY:{symbol:"",name:"Chinese Yuan",code:"CNY",locale:"zh-CN",position:"before"}},l1=({children:r})=>{const[e,n]=fe.useState("EUR"),m={currentCurrency:e,setCurrentCurrency:n,formatCurrency:(g,_=e)=>{const E=xl[_];if(!E)return`${g}`;try{return new Intl.NumberFormat(E.locale,{style:"currency",currency:E.code,minimumFractionDigits:2,maximumFractionDigits:2}).format(g)}catch{return`${E.symbol}${g.toFixed(2)}`}},getCurrencySymbol:(g=e)=>{var _;return((_=xl[g])==null?void 0:_.symbol)||""},getCurrencyName:(g=e)=>{var _;return((_=xl[g])==null?void 0:_.name)||"Euro"},getSupportedCurrencies:()=>Object.entries(xl).map(([g,_])=>({code:g,name:_.name,symbol:_.symbol})),SUPPORTED_CURRENCIES:xl};return A.jsx(o1.Provider,{value:m,children:r})};l1.propTypes={children:se.node.isRequired};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),u1=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var IN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=fe.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...m},g)=>fe.createElement("svg",{ref:g,...IN,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:u1("lucide",o),...m},[...f.map(([_,E])=>fe.createElement(_,E)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=(r,e)=>{const n=fe.forwardRef(({className:s,...o},u)=>fe.createElement(CN,{ref:u,iconNode:e,className:u1(`lucide-${RN(r)}`,s),...o}));return n.displayName=`${r}`,n};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],DN=vt("Calendar",NN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ON=vt("ChevronDown",xN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],VN=vt("CircleAlert",MN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],c1=vt("DollarSign",kN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Cm=vt("EyeOff",PN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Nm=vt("Eye",jN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],UN=vt("FileText",LN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],zN=vt("Globe",BN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Dm=vt("Lock",qN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],FN=vt("LogOut",HN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],h1=vt("Mail",GN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],QN=vt("Menu",YN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],XN=vt("Palette",KN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Np=vt("Plus",$N);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],WN=vt("Save",ZN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],f1=vt("SquarePen",JN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],tD=vt("Tag",eD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],fu=vt("Trash2",nD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],rD=vt("TrendingDown",iD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],aD=vt("TrendingUp",sD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],lD=vt("User",oD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Dp=vt("X",uD),cD="_loginContainer_frr9i_2",hD="_authCard_frr9i_11",fD="_authTitle_frr9i_32",dD="_authSubtitle_frr9i_40",mD="_tabContainer_frr9i_47",pD="_tabButton_frr9i_55",gD="_activeTab_frr9i_71",_D="_authForm_frr9i_77",yD="_formGroup_frr9i_83",vD="_label_frr9i_89",ED="_inputWrapper_frr9i_95",TD="_inputIcon_frr9i_101",AD="_input_frr9i_95",bD="_passwordToggle_frr9i_128",SD="_submitButton_frr9i_144",wD="_errorMessage_frr9i_167",Ie={loginContainer:cD,authCard:hD,authTitle:fD,authSubtitle:dD,tabContainer:mD,tabButton:pD,activeTab:gD,authForm:_D,formGroup:yD,label:vD,inputWrapper:ED,inputIcon:TD,input:AD,passwordToggle:bD,submitButton:SD,errorMessage:wD},RD=({onLogin:r})=>{const[e,n]=fe.useState(""),[s,o]=fe.useState(""),[u,f]=fe.useState(!1),[m,g]=fe.useState(!1),[_,E]=fe.useState(""),S=async w=>{if(w.preventDefault(),!(!e||!s)){g(!0),E("");try{await r(e,s)}catch(H){console.error("Login error:",H),E(H.message||"Failed to login. Please check your credentials.")}finally{g(!1)}}};return A.jsxs("form",{onSubmit:S,className:Ie.authForm,children:[_&&A.jsx("div",{className:Ie.errorMessage,children:_}),A.jsxs("div",{className:Ie.formGroup,children:[A.jsx("label",{htmlFor:"login-email",className:Ie.label,children:"Email"}),A.jsxs("div",{className:Ie.inputWrapper,children:[A.jsx(h1,{className:Ie.inputIcon}),A.jsx("input",{type:"email",id:"login-email",value:e,onChange:w=>n(w.target.value),className:Ie.input,placeholder:"Enter your email",required:!0})]})]}),A.jsxs("div",{className:Ie.formGroup,children:[A.jsx("label",{htmlFor:"login-password",className:Ie.label,children:"Password"}),A.jsxs("div",{className:Ie.inputWrapper,children:[A.jsx(Dm,{className:Ie.inputIcon}),A.jsx("input",{type:u?"text":"password",id:"login-password",value:s,onChange:w=>o(w.target.value),className:Ie.input,placeholder:"Enter your password",required:!0}),A.jsx("button",{type:"button",className:Ie.passwordToggle,onClick:()=>f(!u),children:u?A.jsx(Cm,{size:16}):A.jsx(Nm,{size:16})})]})]}),A.jsx("button",{type:"submit",className:Ie.submitButton,disabled:m,children:m?"Signing In...":"Sign In"})]})},ID=({onSignup:r})=>{const[e,n]=fe.useState(""),[s,o]=fe.useState(""),[u,f]=fe.useState(""),[m,g]=fe.useState(!1),[_,E]=fe.useState(!1),[S,w]=fe.useState(!1),[H,Z]=fe.useState(""),ie=async G=>{if(G.preventDefault(),!(!e||!s)){if(s!==u){Z("Passwords do not match");return}if(s.length<6){Z("Password must be at least 6 characters long");return}w(!0),Z("");try{await r(e,s)}catch(ce){console.error("Signup error:",ce),Z(ce.message||"Failed to create an account")}finally{w(!1)}}};return A.jsxs("form",{onSubmit:ie,className:Ie.authForm,children:[H&&A.jsx("div",{className:Ie.errorMessage,children:H}),A.jsxs("div",{className:Ie.formGroup,children:[A.jsx("label",{htmlFor:"signup-email",className:Ie.label,children:"Email"}),A.jsxs("div",{className:Ie.inputWrapper,children:[A.jsx(h1,{className:Ie.inputIcon}),A.jsx("input",{type:"email",id:"signup-email",value:e,onChange:G=>n(G.target.value),className:Ie.input,placeholder:"Enter your email",required:!0})]})]}),A.jsxs("div",{className:Ie.formGroup,children:[A.jsx("label",{htmlFor:"signup-password",className:Ie.label,children:"Password"}),A.jsxs("div",{className:Ie.inputWrapper,children:[A.jsx(Dm,{className:Ie.inputIcon}),A.jsx("input",{type:m?"text":"password",id:"signup-password",value:s,onChange:G=>o(G.target.value),className:Ie.input,placeholder:"Enter your password",required:!0}),A.jsx("button",{type:"button",className:Ie.passwordToggle,onClick:()=>g(!m),children:m?A.jsx(Cm,{size:16}):A.jsx(Nm,{size:16})})]})]}),A.jsxs("div",{className:Ie.formGroup,children:[A.jsx("label",{htmlFor:"confirm-password",className:Ie.label,children:"Confirm Password"}),A.jsxs("div",{className:Ie.inputWrapper,children:[A.jsx(Dm,{className:Ie.inputIcon}),A.jsx("input",{type:_?"text":"password",id:"confirm-password",value:u,onChange:G=>f(G.target.value),className:Ie.input,placeholder:"Confirm your password",required:!0}),A.jsx("button",{type:"button",className:Ie.passwordToggle,onClick:()=>E(!_),children:_?A.jsx(Cm,{size:16}):A.jsx(Nm,{size:16})})]})]}),A.jsx("button",{type:"submit",className:Ie.submitButton,disabled:S,children:S?"Creating Account...":"Sign Up"})]})},CD=()=>{const[r,e]=fe.useState(!0),{login:n,signup:s}=Cp();return A.jsx("div",{className:Ie.loginContainer,children:A.jsxs("div",{className:Ie.authCard,children:[A.jsx("h1",{className:Ie.authTitle,children:"iNAB Expense Tracker"}),A.jsx("p",{className:Ie.authSubtitle,children:"Track your expenses, manage your budget"}),A.jsxs("div",{className:Ie.tabContainer,children:[A.jsx("button",{className:`${Ie.tabButton} ${r?Ie.activeTab:""}`,onClick:()=>e(!0),children:"Login"}),A.jsx("button",{className:`${Ie.tabButton} ${r?"":Ie.activeTab}`,onClick:()=>e(!1),children:"Sign Up"})]}),r?A.jsx(RD,{onLogin:n}):A.jsx(ID,{onSignup:s})]})})},ND="_appContainer_1jmac_2",DD="_mainContent_1jmac_8",xD="_container_1jmac_14",OD="_card_1jmac_20",MD="_loading_1jmac_28",VD="_loadingSpinner_1jmac_39",kD="_errorBanner_1jmac_54",PD="_errorClose_1jmac_67",jD="_tabNavigation_1jmac_88",LD="_tabButton_1jmac_97",UD="_activeTab_1jmac_114",BD="_sectionActions_1jmac_125",zD="_button_1jmac_132",qD="_buttonSecondary_1jmac_155",HD="_helperText_1jmac_166",FD="_formContainer_1jmac_172",GD="_formTitle_1jmac_180",YD="_form_1jmac_172",QD="_formGroup_1jmac_193",KD="_select_1jmac_199",XD="_formActions_1jmac_258",$D="_sectionHeader_1jmac_269",ZD="_sectionTitle_1jmac_276",WD="_totalBalance_1jmac_283",JD="_accountsGrid_1jmac_305",ex="_accountCard_1jmac_311",tx="_accountHeader_1jmac_326",nx="_accountInfo_1jmac_333",ix="_accountName_1jmac_337",rx="_accountType_1jmac_345",sx="_accountActions_1jmac_354",ax="_actionButton_1jmac_359",ox="_accountBalance_1jmac_373",lx="_balanceLabel_1jmac_380",ux="_balanceAmount_1jmac_386",cx="_accountDescription_1jmac_392",hx="_transfersSection_1jmac_413",fx="_transfersList_1jmac_417",dx="_transferItem_1jmac_423",mx="_transferHeader_1jmac_435",px="_transferAccounts_1jmac_442",gx="_fromAccount_1jmac_449",_x="_toAccount_1jmac_450",yx="_accountDot_1jmac_460",vx="_transferArrow_1jmac_473",Ex="_transferActions_1jmac_479",Tx="_transferDetails_1jmac_484",Ax="_transferAmount_1jmac_491",bx="_transferDate_1jmac_497",Sx="_transferDescription_1jmac_502",wx="_allocationsSection_1jmac_513",Rx="_allocationsList_1jmac_517",Ix="_monthGroup_1jmac_523",Cx="_monthTitle_1jmac_530",Nx="_monthAllocations_1jmac_539",Dx="_allocationItem_1jmac_545",xx="_allocationHeader_1jmac_557",Ox="_allocationAccount_1jmac_564",Mx="_allocationActions_1jmac_570",Vx="_allocationDetails_1jmac_575",kx="_allocationAmount_1jmac_582",Px="_allocationDescription_1jmac_588",jx="_emptyState_1jmac_599",Lx="_budgetSection_1jmac_613",Ux="_label_1jmac_617",Bx="_input_1jmac_625",zx="_nameInput_1jmac_641",qx="_balanceCard_1jmac_646",Hx="_negativeBalance_1jmac_670",Fx="_formSection_1jmac_674",Gx="_formGrid_1jmac_688",Yx="_addButton_1jmac_701",Qx="_categoryTitle_1jmac_728",Kx="_categoryGrid_1jmac_735",Xx="_categoryCard_1jmac_742",$x="_categoryHeader_1jmac_756",Zx="_categoryName_1jmac_763",Wx="_categoryIcon_1jmac_772",Jx="_categoryAmount_1jmac_776",eO="_categoryProgress_1jmac_783",tO="_progressBar_1jmac_791",nO="_progressText_1jmac_797",iO="_expensesSection_1jmac_804",rO="_expensesHeader_1jmac_808",sO="_expensesTitle_1jmac_815",aO="_expensesSummary_1jmac_822",oO="_expensesCount_1jmac_832",lO="_expensesTotal_1jmac_837",uO="_expensesList_1jmac_842",cO="_expenseItem_1jmac_848",hO="_expenseInfo_1jmac_864",fO="_expenseName_1jmac_868",dO="_expenseMeta_1jmac_875",mO="_expenseCategory_1jmac_883",pO="_reportLabel_1jmac_894",gO="_expenseActions_1jmac_903",_O="_expenseAmount_1jmac_909",yO="_deleteButton_1jmac_915",vO="_emptyStateIcon_1jmac_943",EO="_emptyStateText_1jmac_949",TO="_emptyStateSubtext_1jmac_955",AO="_sidebar_1jmac_961",bO="_open_1jmac_974",SO="_sidebarHeader_1jmac_978",wO="_closeButton_1jmac_986",RO="_reportsList_1jmac_1001",IO="_reportItem_1jmac_1005",CO="_reportInfo_1jmac_1014",NO="_reportName_1jmac_1018",DO="_reportDate_1jmac_1025",xO="_reportActions_1jmac_1030",OO="_reportButton_1jmac_1035",MO="_emptyReports_1jmac_1050",VO="_header_1jmac_1058",kO="_title_1jmac_1067",PO="_titleContainer_1jmac_1074",jO="_menuButton_1jmac_1080",LO="_actions_1jmac_1095",UO="_userInfo_1jmac_1101",BO="_userEmail_1jmac_1107",zO="_currencySelector_1jmac_1248",qO="_currencyButton_1jmac_1253",HO="_currencyCode_1jmac_1273",FO="_currencySymbol_1jmac_1278",GO="_chevron_1jmac_1283",YO="_rotated_1jmac_1287",QO="_currencyDropdown_1jmac_1291",KO="_currencyOption_1jmac_1306",XO="_selected_1jmac_1328",$O="_currencyName_1jmac_1337",ZO="_backdrop_1jmac_1342",WO="_headerCurrencySelector_1jmac_1351",C={appContainer:ND,mainContent:DD,container:xD,card:OD,loading:MD,loadingSpinner:VD,errorBanner:kD,errorClose:PD,tabNavigation:jD,tabButton:LD,activeTab:UD,sectionActions:BD,button:zD,buttonSecondary:qD,helperText:HD,formContainer:FD,formTitle:GD,form:YD,formGroup:QD,select:KD,formActions:XD,sectionHeader:$D,sectionTitle:ZD,totalBalance:WD,accountsGrid:JD,accountCard:ex,accountHeader:tx,accountInfo:nx,accountName:ix,accountType:rx,accountActions:sx,actionButton:ax,accountBalance:ox,balanceLabel:lx,balanceAmount:ux,accountDescription:cx,transfersSection:hx,transfersList:fx,transferItem:dx,transferHeader:mx,transferAccounts:px,fromAccount:gx,toAccount:_x,accountDot:yx,transferArrow:vx,transferActions:Ex,transferDetails:Tx,transferAmount:Ax,transferDate:bx,transferDescription:Sx,allocationsSection:wx,allocationsList:Rx,monthGroup:Ix,monthTitle:Cx,monthAllocations:Nx,allocationItem:Dx,allocationHeader:xx,allocationAccount:Ox,allocationActions:Mx,allocationDetails:Vx,allocationAmount:kx,allocationDescription:Px,emptyState:jx,budgetSection:Lx,label:Ux,input:Bx,nameInput:zx,balanceCard:qx,negativeBalance:Hx,formSection:Fx,formGrid:Gx,addButton:Yx,categoryTitle:Qx,categoryGrid:Kx,categoryCard:Xx,categoryHeader:$x,categoryName:Zx,categoryIcon:Wx,categoryAmount:Jx,categoryProgress:eO,progressBar:tO,progressText:nO,expensesSection:iO,expensesHeader:rO,expensesTitle:sO,expensesSummary:aO,expensesCount:oO,expensesTotal:lO,expensesList:uO,expenseItem:cO,expenseInfo:hO,expenseName:fO,expenseMeta:dO,expenseCategory:mO,reportLabel:pO,expenseActions:gO,expenseAmount:_O,deleteButton:yO,emptyStateIcon:vO,emptyStateText:EO,emptyStateSubtext:TO,sidebar:AO,open:bO,sidebarHeader:SO,closeButton:wO,reportsList:RO,reportItem:IO,reportInfo:CO,reportName:NO,reportDate:DO,reportActions:xO,reportButton:OO,emptyReports:MO,header:VO,title:kO,titleContainer:PO,menuButton:jO,actions:LO,userInfo:UO,userEmail:BO,currencySelector:zO,currencyButton:qO,currencyCode:HO,currencySymbol:FO,chevron:GO,rotated:YO,currencyDropdown:QO,currencyOption:KO,selected:XO,currencyName:$O,backdrop:ZO,headerCurrencySelector:WO},JO=({isOpen:r,onClose:e,reports:n,onLoadReport:s,onDeleteReport:o})=>A.jsxs("div",{className:`${C.sidebar} ${r?C.open:""}`,children:[A.jsxs("div",{className:C.sidebarHeader,children:[A.jsx("h2",{children:"Reports"}),A.jsx("button",{onClick:e,className:C.closeButton,children:A.jsx(Dp,{size:20})})]}),n.length===0?A.jsx("p",{className:C.emptyReports,children:"No saved reports yet"}):A.jsx("ul",{className:C.reportsList,children:n.map(u=>A.jsxs("li",{className:C.reportItem,children:[A.jsxs("div",{className:C.reportInfo,children:[A.jsx("p",{className:C.reportName,children:u.name}),A.jsx("p",{className:C.reportDate,children:u.exportDate.toDate().toLocaleDateString()})]}),A.jsxs("div",{className:C.reportActions,children:[A.jsx("button",{onClick:()=>s(u),className:C.reportButton,title:"Load Report",children:"Load"}),A.jsx("button",{onClick:()=>o(u.id),className:C.reportButton,title:"Delete Report",children:A.jsx(fu,{size:16})})]})]},u.id))})]}),d1=({className:r=""})=>{const{currentCurrency:e,setCurrentCurrency:n,getSupportedCurrencies:s,getCurrencySymbol:o}=as(),[u,f]=fe.useState(!1),m=s(),g=E=>{n(E),f(!1)},_=()=>{f(!u)};return A.jsxs("div",{className:`${C.currencySelector} ${r}`,children:[A.jsxs("button",{onClick:_,className:C.currencyButton,"aria-label":"Select currency",children:[A.jsx(zN,{size:16}),A.jsx("span",{className:C.currencyCode,children:e}),A.jsx("span",{className:C.currencySymbol,children:o()}),A.jsx(ON,{size:16,className:`${C.chevron} ${u?C.rotated:""}`})]}),u&&A.jsx("div",{className:C.currencyDropdown,children:m.map(E=>A.jsxs("button",{onClick:()=>g(E.code),className:`${C.currencyOption} ${e===E.code?C.selected:""}`,children:[A.jsx("span",{className:C.currencySymbol,children:E.symbol}),A.jsx("span",{className:C.currencyName,children:E.name}),A.jsx("span",{className:C.currencyCode,children:E.code})]},E.code))}),u&&A.jsx("div",{className:C.backdrop,onClick:()=>f(!1)})]})};d1.propTypes={className:se.string};const m1=({currentUser:r,onToggleSidebar:e,onSave:n,onLogout:s})=>{const{getCurrencySymbol:o}=as();return A.jsxs("div",{className:C.header,children:[A.jsxs("div",{className:C.titleContainer,children:[A.jsx("button",{onClick:e,className:C.menuButton,children:A.jsx(QN,{size:20})}),A.jsxs("h1",{className:C.title,children:["Expense Tracker (",o(),")"]})]}),A.jsxs("div",{className:C.actions,children:[A.jsx(d1,{className:C.headerCurrencySelector}),A.jsx("div",{className:C.userInfo,children:r&&A.jsxs("div",{className:C.userEmail,children:[A.jsx(lD,{size:16}),A.jsx("span",{children:r.email})]})}),A.jsx("button",{onClick:n,className:C.actionButton,title:"Save Budget Report",children:A.jsx("span",{children:A.jsx(WN,{size:16})})}),A.jsx("button",{onClick:s,className:C.actionButton,title:"Logout",children:A.jsx("span",{children:A.jsx(FN,{size:16})})})]})]})};m1.propTypes={currentUser:se.object,onToggleSidebar:se.func.isRequired,onSave:se.func.isRequired,onLogout:se.func.isRequired};const e4=({onAddExpense:r,categories:e})=>{const[n,s]=fe.useState(""),[o,u]=fe.useState(""),[f,m]=fe.useState(e[0]),[g,_]=fe.useState(!1),E=async w=>{if(w.preventDefault(),!(!n.trim()||!o||parseFloat(o)<=0)){_(!0);try{await r({name:n.trim(),amount:o,category:f}),s(""),u(""),m(e[0])}catch(H){console.error("Error adding expense:",H)}finally{_(!1)}}},S=n.trim()&&o&&parseFloat(o)>0;return A.jsxs("div",{className:C.formSection,children:[A.jsx("h3",{className:C.formTitle,children:"Add New Expense"}),A.jsxs("form",{onSubmit:E,className:C.formGrid,children:[A.jsxs("div",{className:C.formGroup,children:[A.jsxs("label",{htmlFor:"expense-name",className:C.label,children:[A.jsx(UN,{size:16}),"Expense Name"]}),A.jsx("input",{id:"expense-name",type:"text",value:n,onChange:w=>s(w.target.value),className:C.input,placeholder:"e.g., Groceries, Gas, Netflix",required:!0,disabled:g})]}),A.jsxs("div",{className:C.formGroup,children:[A.jsxs("label",{htmlFor:"expense-amount",className:C.label,children:[A.jsx(c1,{size:16}),"Amount"]}),A.jsx("input",{id:"expense-amount",type:"number",value:o,onChange:w=>u(w.target.value),className:C.input,placeholder:"0.00",required:!0,min:"0",step:"0.01",disabled:g})]}),A.jsxs("div",{className:C.formGroup,children:[A.jsxs("label",{htmlFor:"expense-category",className:C.label,children:[A.jsx(tD,{size:16}),"Category"]}),A.jsx("select",{id:"expense-category",value:f,onChange:w=>m(w.target.value),className:C.input,disabled:g,children:e.map(w=>A.jsx("option",{value:w,children:w},w))})]}),A.jsx("button",{type:"submit",className:C.addButton,disabled:!S||g,children:g?"Adding...":A.jsxs(A.Fragment,{children:[A.jsx(Np,{size:16}),"Add Expense"]})})]})]})},p1=({categories:r,categoryColors:e,getCategoryTotal:n,totalBudget:s=0})=>{const{formatCurrency:o}=as(),u=m=>s===0?0:Math.min(m/s*100,100),f=r.map(m=>({name:m,total:n(m),percentage:u(n(m))})).sort((m,g)=>g.total-m.total);return A.jsxs("div",{className:C.categorySection,children:[A.jsx("h2",{className:C.categoryTitle,children:"Spending by Category"}),A.jsx("div",{className:C.categoryGrid,children:f.map(({name:m,total:g,percentage:_})=>A.jsxs("div",{className:C.categoryCard,style:{borderLeftColor:e[m]},children:[A.jsxs("div",{className:C.categoryHeader,children:[A.jsx("div",{className:C.categoryName,children:m}),A.jsx("div",{className:C.categoryIcon,children:g>0?A.jsx(aD,{size:16}):A.jsx(rD,{size:16})})]}),A.jsx("div",{className:C.categoryAmount,children:o(g)}),s>0&&A.jsxs("div",{className:C.categoryProgress,children:[A.jsx("div",{className:C.progressBar,style:{width:`${_}%`,backgroundColor:e[m]}}),A.jsxs("span",{className:C.progressText,children:[_.toFixed(1),"% of budget"]})]})]},m))})]})};p1.propTypes={categories:se.arrayOf(se.string).isRequired,categoryColors:se.object.isRequired,getCategoryTotal:se.func.isRequired,totalBudget:se.number};const g1=({expenses:r,categoryColors:e,onDeleteExpense:n})=>{const{formatCurrency:s}=as(),o=f=>f?(f.toDate?f.toDate():new Date(f)).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"",u=r.reduce((f,m)=>f+m.amount,0);return A.jsxs("div",{className:C.expensesSection,children:[A.jsxs("div",{className:C.expensesHeader,children:[A.jsx("h2",{className:C.expensesTitle,children:"All Expenses"}),A.jsxs("div",{className:C.expensesSummary,children:[A.jsxs("span",{className:C.expensesCount,children:[r.length," ",r.length===1?"expense":"expenses"]}),A.jsxs("span",{className:C.expensesTotal,children:["Total: ",s(u)]})]})]}),r.length===0?A.jsxs("div",{className:C.emptyState,children:[A.jsx(VN,{className:C.emptyStateIcon}),A.jsx("div",{className:C.emptyStateText,children:"No expenses added yet"}),A.jsx("div",{className:C.emptyStateSubtext,children:"Add your first expense using the form above"})]}):A.jsx("div",{className:C.expensesList,children:r.map(f=>A.jsxs("div",{className:C.expenseItem,children:[A.jsxs("div",{className:C.expenseInfo,children:[A.jsx("div",{className:C.expenseName,children:f.name}),A.jsxs("div",{className:C.expenseMeta,children:[A.jsx("span",{className:C.expenseCategory,style:{backgroundColor:e[f.category],color:"#1f2937"},children:f.category}),f.createdAt&&A.jsxs("span",{className:C.expenseDate,children:[A.jsx(DN,{size:12}),o(f.createdAt)]}),f.isFromReport&&A.jsx("span",{className:C.reportLabel,children:"From Report"})]})]}),A.jsxs("div",{className:C.expenseActions,children:[A.jsx("span",{className:C.expenseAmount,children:s(f.amount)}),!f.isFromReport&&A.jsx("button",{onClick:()=>n(f.id),className:C.deleteButton,title:"Delete expense",children:A.jsx(fu,{size:16})})]})]},f.id))})]})};g1.propTypes={expenses:se.array.isRequired,categoryColors:se.object.isRequired,onDeleteExpense:se.func.isRequired};const t4=["Checking","Savings","Investment","Crypto","Credit Card","Cash","Other"],_1=({onAddAccount:r,onCancel:e,editingAccount:n})=>{const[s,o]=fe.useState({name:"",type:"Checking",balance:"",description:"",color:"#3B82F6"});fe.useEffect(()=>{var m;n&&o({name:n.name||"",type:n.type||"Checking",balance:((m=n.balance)==null?void 0:m.toString())||"",description:n.description||"",color:n.color||"#3B82F6"})},[n]);const u=async m=>{if(m.preventDefault(),!(!s.name.trim()||!s.balance))try{await r({name:s.name.trim(),type:s.type,balance:parseFloat(s.balance)||0,description:s.description.trim(),color:s.color}),o({name:"",type:"Checking",balance:"",description:"",color:"#3B82F6"})}catch(g){console.error("Error adding account:",g)}},f=m=>{const{name:g,value:_}=m.target;o(E=>({...E,[g]:_}))};return A.jsxs("div",{className:C.formSection,children:[A.jsx("h3",{className:C.formTitle,children:n?"Edit Account":"Add New Account"}),A.jsxs("form",{onSubmit:u,className:C.formGrid,children:[A.jsxs("div",{className:C.formGroup,children:[A.jsx("label",{htmlFor:"account-name",className:C.label,children:"Account Name *"}),A.jsx("input",{id:"account-name",name:"name",type:"text",value:s.name,onChange:f,className:C.input,placeholder:"e.g., Main Checking, Savings Account",required:!0})]}),A.jsxs("div",{className:C.formGroup,children:[A.jsx("label",{htmlFor:"account-type",className:C.label,children:"Account Type *"}),A.jsx("select",{id:"account-type",name:"type",value:s.type,onChange:f,className:C.input,required:!0,children:t4.map(m=>A.jsx("option",{value:m,children:m},m))})]}),A.jsxs("div",{className:C.formGroup,children:[A.jsx("label",{htmlFor:"account-balance",className:C.label,children:"Current Balance *"}),A.jsx("input",{id:"account-balance",name:"balance",type:"number",value:s.balance,onChange:f,className:C.input,placeholder:"0.00",step:"0.01",min:"0",required:!0})]}),A.jsxs("div",{className:C.formGroup,children:[A.jsx("label",{htmlFor:"account-description",className:C.label,children:"Description (Optional)"}),A.jsx("textarea",{id:"account-description",name:"description",value:s.description,onChange:f,className:C.input,placeholder:"Brief description of this account",rows:"2"})]}),A.jsxs("div",{className:C.formGroup,children:[A.jsxs("label",{htmlFor:"account-color",className:C.label,children:[A.jsx(XN,{size:16}),"Account Color"]}),A.jsx("input",{id:"account-color",name:"color",type:"color",value:s.color,onChange:f,className:C.colorInput})]}),A.jsxs("div",{className:C.formActions,children:[A.jsxs("button",{type:"submit",className:C.addButton,children:[A.jsx(Np,{size:16}),n?"Update Account":"Add Account"]}),A.jsxs("button",{type:"button",onClick:e,className:C.cancelButton,children:[A.jsx(Dp,{size:16}),"Cancel"]})]})]})]})};_1.propTypes={onAddAccount:se.func.isRequired,onCancel:se.func.isRequired,editingAccount:se.shape({id:se.string,name:se.string,type:se.string,balance:se.number,description:se.string,color:se.string})};const y1=({accounts:r,onEditAccount:e,onDeleteAccount:n})=>{const{formatCurrency:s}=as(),o=r.reduce((u,f)=>u+(f.balance||0),0);return r.length===0?A.jsxs("div",{className:C.emptyState,children:[A.jsx(c1,{size:48,className:C.emptyIcon}),A.jsx("h3",{children:"No Accounts Yet"}),A.jsx("p",{children:"Add your first account to start tracking your finances."})]}):A.jsxs("div",{className:C.listSection,children:[A.jsxs("div",{className:C.listHeader,children:[A.jsx("h3",{children:"Your Accounts"}),A.jsxs("div",{className:C.totalBalance,children:[A.jsx("span",{children:"Total Balance:"}),A.jsx("span",{className:C.balanceAmount,children:s(o)})]})]}),A.jsx("div",{className:C.accountsGrid,children:r.map(u=>A.jsxs("div",{className:C.accountCard,style:{borderLeftColor:u.color||"#3B82F6"},children:[A.jsxs("div",{className:C.accountHeader,children:[A.jsxs("div",{className:C.accountInfo,children:[A.jsx("h4",{className:C.accountName,children:u.name}),A.jsx("span",{className:C.accountType,children:u.type})]}),A.jsx("div",{className:C.accountBalance,children:s(u.balance||0)})]}),u.description&&A.jsx("p",{className:C.accountDescription,children:u.description}),A.jsxs("div",{className:C.accountActions,children:[A.jsx("button",{onClick:()=>e(u),className:C.actionButton,title:"Edit Account",children:A.jsx(f1,{size:16})}),A.jsx("button",{onClick:()=>n(u.id),className:`${C.actionButton} ${C.deleteButton}`,title:"Delete Account",children:A.jsx(fu,{size:16})})]})]},u.id))})]})};y1.propTypes={accounts:se.arrayOf(se.shape({id:se.string.isRequired,name:se.string.isRequired,type:se.string.isRequired,balance:se.number,description:se.string,color:se.string})).isRequired,onEditAccount:se.func.isRequired,onDeleteAccount:se.func.isRequired};const n4=({accounts:r,onAddTransfer:e,onCancel:n})=>{const[s,o]=fe.useState({fromAccount:"",toAccount:"",amount:"",date:new Date().toISOString().split("T")[0],description:""}),u=m=>{if(m.preventDefault(),!(!s.fromAccount||!s.toAccount||!s.amount)){if(s.fromAccount===s.toAccount){alert("Cannot transfer to the same account");return}e({...s,amount:parseFloat(s.amount)}),o({fromAccount:"",toAccount:"",amount:"",date:new Date().toISOString().split("T")[0],description:""})}},f=m=>{const{name:g,value:_}=m.target;o(E=>({...E,[g]:_}))};return A.jsxs("div",{className:C.formContainer,children:[A.jsx("h3",{className:C.formTitle,children:"Transfer Between Accounts"}),A.jsxs("form",{onSubmit:u,className:C.form,children:[A.jsxs("div",{className:C.formGroup,children:[A.jsx("label",{className:C.label,children:"From Account"}),A.jsxs("select",{name:"fromAccount",value:s.fromAccount,onChange:f,className:C.select,required:!0,children:[A.jsx("option",{value:"",children:"Select account"}),r.map(m=>A.jsxs("option",{value:m.id,children:[m.name," (",m.balance.toFixed(2),")"]},m.id))]})]}),A.jsxs("div",{className:C.formGroup,children:[A.jsx("label",{className:C.label,children:"To Account"}),A.jsxs("select",{name:"toAccount",value:s.toAccount,onChange:f,className:C.select,required:!0,children:[A.jsx("option",{value:"",children:"Select account"}),r.map(m=>A.jsxs("option",{value:m.id,children:[m.name," (",m.balance.toFixed(2),")"]},m.id))]})]}),A.jsxs("div",{className:C.formGroup,children:[A.jsx("label",{className:C.label,children:"Amount"}),A.jsx("input",{type:"number",name:"amount",value:s.amount,onChange:f,className:C.input,placeholder:"0.00",step:"0.01",min:"0.01",required:!0})]}),A.jsxs("div",{className:C.formGroup,children:[A.jsx("label",{className:C.label,children:"Date"}),A.jsx("input",{type:"date",name:"date",value:s.date,onChange:f,className:C.input,required:!0})]}),A.jsxs("div",{className:C.formGroup,children:[A.jsx("label",{className:C.label,children:"Description (Optional)"}),A.jsx("input",{type:"text",name:"description",value:s.description,onChange:f,className:C.input,placeholder:"e.g., Monthly savings transfer"})]}),A.jsxs("div",{className:C.formActions,children:[A.jsx("button",{type:"submit",className:C.button,children:"Transfer"}),n&&A.jsx("button",{type:"button",onClick:n,className:`${C.button} ${C.buttonSecondary}`,children:"Cancel"})]})]})]})},v1=({transfers:r,accounts:e,onDeleteTransfer:n})=>{const{formatCurrency:s}=as(),o=m=>{const g=e.find(_=>_.id===m);return g?g.name:"Unknown Account"},u=m=>{const g=e.find(_=>_.id===m);return g?g.color:"#ccc"},f=m=>new Date(m).toLocaleDateString("en-IE",{year:"numeric",month:"short",day:"numeric"});return A.jsxs("div",{className:C.transfersSection,children:[A.jsx("div",{className:C.sectionHeader,children:A.jsx("h2",{className:C.sectionTitle,children:"Transfers"})}),r.length===0?A.jsx("div",{className:C.emptyState,children:A.jsx("p",{children:"No transfers yet. Transfer money between your accounts to see them here!"})}):A.jsx("div",{className:C.transfersList,children:r.map(m=>A.jsxs("div",{className:C.transferItem,children:[A.jsxs("div",{className:C.transferHeader,children:[A.jsxs("div",{className:C.transferAccounts,children:[A.jsxs("div",{className:C.fromAccount,children:[A.jsx("span",{className:C.accountDot,style:{backgroundColor:u(m.fromAccount)}}),A.jsx("span",{className:C.accountName,children:o(m.fromAccount)})]}),A.jsx("div",{className:C.transferArrow,children:""}),A.jsxs("div",{className:C.toAccount,children:[A.jsx("span",{className:C.accountDot,style:{backgroundColor:u(m.toAccount)}}),A.jsx("span",{className:C.accountName,children:o(m.toAccount)})]})]}),A.jsx("div",{className:C.transferActions,children:A.jsx("button",{onClick:()=>n(m.id),className:C.actionButton,title:"Delete transfer",children:A.jsx(fu,{size:16})})})]}),A.jsxs("div",{className:C.transferDetails,children:[A.jsx("div",{className:C.transferAmount,children:s(m.amount)}),A.jsx("div",{className:C.transferDate,children:f(m.date)})]}),m.description&&A.jsx("div",{className:C.transferDescription,children:A.jsx("p",{children:m.description})})]},m.id))})]})};v1.propTypes={transfers:se.arrayOf(se.shape({id:se.string.isRequired,fromAccount:se.string.isRequired,toAccount:se.string.isRequired,amount:se.number.isRequired,date:se.oneOfType([se.string,se.object]).isRequired,description:se.string})).isRequired,accounts:se.arrayOf(se.shape({id:se.string.isRequired,name:se.string.isRequired,color:se.string})).isRequired,onDeleteTransfer:se.func.isRequired};const E1=({onAddAllocation:r,onCancel:e,editingAllocation:n,accounts:s})=>{const[o,u]=fe.useState({accountId:"",amount:"",month:"",description:""});fe.useEffect(()=>{var _;if(n)u({accountId:n.accountId||"",amount:((_=n.amount)==null?void 0:_.toString())||"",month:n.month||"",description:n.description||""});else{const E=new Date,S=`${E.getFullYear()}-${String(E.getMonth()+1).padStart(2,"0")}`;u({accountId:"",amount:"",month:S,description:""})}},[n]);const f=async _=>{if(_.preventDefault(),!(!o.accountId||!o.amount||!o.month))try{await r({accountId:o.accountId,amount:parseFloat(o.amount)||0,month:o.month,description:o.description.trim()}),u({accountId:"",amount:"",month:new Date().toISOString().slice(0,7),description:""})}catch(E){console.error("Error adding budget allocation:",E)}},m=_=>{const{name:E,value:S}=_.target;u(w=>({...w,[E]:S}))},g=_=>{const[E,S]=_.split("-");return new Date(E,S-1).toLocaleDateString("en-IE",{year:"numeric",month:"long"})};return A.jsxs("div",{className:C.formSection,children:[A.jsx("h3",{className:C.formTitle,children:n?"Edit Budget Allocation":"Add Budget Allocation"}),A.jsxs("form",{onSubmit:f,className:C.formGrid,children:[A.jsxs("div",{className:C.formGroup,children:[A.jsx("label",{htmlFor:"allocation-account",className:C.label,children:"Account *"}),A.jsxs("select",{id:"allocation-account",name:"accountId",value:o.accountId,onChange:m,className:C.input,required:!0,children:[A.jsx("option",{value:"",children:"Select an account"}),s.map(_=>{var E;return A.jsxs("option",{value:_.id,children:[_.name," (",((E=_.balance)==null?void 0:E.toFixed(2))||"0.00",")"]},_.id)})]})]}),A.jsxs("div",{className:C.formGroup,children:[A.jsx("label",{htmlFor:"allocation-amount",className:C.label,children:"Amount *"}),A.jsx("input",{id:"allocation-amount",name:"amount",type:"number",value:o.amount,onChange:m,className:C.input,placeholder:"0.00",step:"0.01",min:"0",required:!0})]}),A.jsxs("div",{className:C.formGroup,children:[A.jsx("label",{htmlFor:"allocation-month",className:C.label,children:"Month *"}),A.jsx("input",{id:"allocation-month",name:"month",type:"month",value:o.month,onChange:m,className:C.input,required:!0}),o.month&&A.jsx("small",{className:C.helperText,children:g(o.month)})]}),A.jsxs("div",{className:C.formGroup,children:[A.jsx("label",{htmlFor:"allocation-description",className:C.label,children:"Description (Optional)"}),A.jsx("textarea",{id:"allocation-description",name:"description",value:o.description,onChange:m,className:C.input,placeholder:"e.g., Monthly savings goal, Emergency fund contribution",rows:"2"})]}),A.jsxs("div",{className:C.formActions,children:[A.jsxs("button",{type:"submit",className:C.addButton,children:[A.jsx(Np,{size:16}),n?"Update Allocation":"Add Allocation"]}),A.jsxs("button",{type:"button",onClick:e,className:C.cancelButton,children:[A.jsx(Dp,{size:16}),"Cancel"]})]})]})]})};E1.propTypes={onAddAllocation:se.func.isRequired,onCancel:se.func.isRequired,editingAllocation:se.shape({id:se.string,accountId:se.string,amount:se.number,month:se.string,description:se.string}),accounts:se.arrayOf(se.shape({id:se.string.isRequired,name:se.string.isRequired,balance:se.number})).isRequired};const T1=({allocations:r,accounts:e,onEditAllocation:n,onDeleteAllocation:s})=>{const{formatCurrency:o}=as(),u=E=>{const S=e.find(w=>w.id===E);return S?S.name:"Unknown Account"},f=E=>{const S=e.find(w=>w.id===E);return S?S.color:"#ccc"},m=E=>{const[S,w]=E.split("-");return new Date(S,w-1).toLocaleDateString("en-IE",{year:"numeric",month:"long"})},g=r.reduce((E,S)=>{const w=S.month;return E[w]||(E[w]=[]),E[w].push(S),E},{}),_=Object.keys(g).sort((E,S)=>S.localeCompare(E));return A.jsxs("div",{className:C.allocationsSection,children:[A.jsx("div",{className:C.sectionHeader,children:A.jsx("h2",{className:C.sectionTitle,children:"Budget Allocations"})}),r.length===0?A.jsx("div",{className:C.emptyState,children:A.jsx("p",{children:"No budget allocations yet. Set monthly budget goals for your accounts!"})}):A.jsx("div",{className:C.allocationsList,children:_.map(E=>A.jsxs("div",{className:C.monthGroup,children:[A.jsx("h3",{className:C.monthTitle,children:m(E)}),A.jsx("div",{className:C.monthAllocations,children:g[E].map(S=>A.jsxs("div",{className:C.allocationItem,children:[A.jsxs("div",{className:C.allocationHeader,children:[A.jsxs("div",{className:C.allocationAccount,children:[A.jsx("span",{className:C.accountDot,style:{backgroundColor:f(S.accountId)}}),A.jsx("span",{className:C.accountName,children:u(S.accountId)})]}),A.jsxs("div",{className:C.allocationActions,children:[A.jsx("button",{onClick:()=>n(S),className:C.actionButton,title:"Edit allocation",children:A.jsx(f1,{size:16})}),A.jsx("button",{onClick:()=>s(S.id),className:C.actionButton,title:"Delete allocation",children:A.jsx(fu,{size:16})})]})]}),A.jsx("div",{className:C.allocationDetails,children:A.jsx("div",{className:C.allocationAmount,children:o(S.amount)})}),S.description&&A.jsx("div",{className:C.allocationDescription,children:A.jsx("p",{children:S.description})})]},S.id))})]},E))})]})};T1.propTypes={allocations:se.arrayOf(se.shape({id:se.string.isRequired,accountId:se.string.isRequired,amount:se.number.isRequired,month:se.string.isRequired,description:se.string})).isRequired,accounts:se.arrayOf(se.shape({id:se.string.isRequired,name:se.string.isRequired,color:se.string})).isRequired,onEditAllocation:se.func.isRequired,onDeleteAllocation:se.func.isRequired};const i4=r=>_i(Lt,"users",r,"expenses"),r4=async(r,e)=>{try{const n={...e,date:e.date?We.fromDate(new Date(e.date)):We.now(),createdAt:We.now(),userId:r};return{id:(await hu(i4(r),n)).id,...e,date:e.date?new Date(e.date):new Date,createdAt:new Date}}catch(n){throw console.error("Error adding expense: ",n),n}},s4=r=>_i(Lt,"users",r,"accounts"),a4=async(r,e)=>{try{const n={...e,balance:parseFloat(e.balance)||0,createdAt:We.now(),userId:r};return{id:(await hu(s4(r),n)).id,...e,balance:parseFloat(e.balance)||0,createdAt:new Date}}catch(n){throw console.error("Error adding account: ",n),n}},o4=async(r,e,n)=>{try{const s=yi(Lt,"users",r,"accounts",e),o={...n,balance:parseFloat(n.balance)||0,updatedAt:We.now()};return await Ip(s,o),{id:e,...n,balance:parseFloat(n.balance)||0,updatedAt:new Date}}catch(s){throw console.error("Error updating account: ",s),s}},l4=async(r,e)=>{try{const n=yi(Lt,"users",r,"accounts",e);return await Jl(n),e}catch(n){throw console.error("Error deleting account: ",n),n}},u4=r=>_i(Lt,"users",r,"transfers"),c4=async(r,e)=>{try{const n={...e,amount:parseFloat(e.amount),date:We.fromDate(new Date(e.date)),createdAt:We.now(),userId:r};return{id:(await hu(u4(r),n)).id,...e,amount:parseFloat(e.amount),date:new Date(e.date),createdAt:new Date}}catch(n){throw console.error("Error adding transfer: ",n),n}},h4=async(r,e)=>{try{const n=yi(Lt,"users",r,"transfers",e);return await Jl(n),e}catch(n){throw console.error("Error deleting transfer: ",n),n}},f4=r=>_i(Lt,"users",r,"budgetAllocations"),d4=async(r,e)=>{try{const n={...e,amount:parseFloat(e.amount),month:e.month,createdAt:We.now(),userId:r};return{id:(await hu(f4(r),n)).id,...e,amount:parseFloat(e.amount),createdAt:new Date}}catch(n){throw console.error("Error adding budget allocation: ",n),n}},m4=async(r,e,n)=>{try{const s=yi(Lt,"users",r,"budgetAllocations",e),o={...n,amount:parseFloat(n.amount),updatedAt:We.now()};return await Ip(s,o),{id:e,...n,amount:parseFloat(n.amount),updatedAt:new Date}}catch(s){throw console.error("Error updating budget allocation: ",s),s}},p4=async(r,e)=>{try{const n=yi(Lt,"users",r,"budgetAllocations",e);return await Jl(n),e}catch(n){throw console.error("Error deleting budget allocation: ",n),n}},tm=["Food","Transport","Bills","Entertainment","Shopping","Investments","Savings","Crypto","Wants","Hobbies","Other"],g4=()=>{const{currentUser:r,logout:e}=Cp(),{formatCurrency:n}=as(),[s,o]=fe.useState(0),[u,f]=fe.useState([]),[m,g]=fe.useState([]),[_,E]=fe.useState(!1),[S,w]=fe.useState(!0),[H,Z]=fe.useState(null),[ie,G]=fe.useState(null),[ce,_e]=fe.useState([]),[de,Ve]=fe.useState([]),[Se,ke]=fe.useState([]),[V,R]=fe.useState(!1),[N,M]=fe.useState(!1),[k,P]=fe.useState(!1),[D,Et]=fe.useState(null),[ot,Y]=fe.useState(null),[te,ue]=fe.useState("expenses"),Be=fe.useMemo(()=>tm.reduce((ge,Oe)=>(ge[Oe]=_4(),ge),{}),[]);fe.useEffect(()=>{if(!r){w(!1);return}w(!0),G(null);try{const ge=yi(Lt,"users",r.uid),Oe=Fa(ge,Ye=>{Ye.exists()?(Z(Ye.data()),o(Ye.data().totalBudget||0)):(bN(ge,{email:r.email,totalBudget:0,createdAt:We.now()}).catch(ft=>{console.error("Error creating user profile:",ft),G("Failed to create user profile")}),Z({email:r.email,totalBudget:0}),o(0))},Ye=>{console.error("Error loading user profile:",Ye),G("Failed to load user profile")}),Ge=_i(Lt,"users",r.uid,"expenses"),vo=Nl(Ge,Dl("createdAt","desc")),os=Fa(vo,Ye=>{const ft=[];Ye.forEach(lt=>{ft.push({id:lt.id,...lt.data(),amount:parseFloat(lt.data().amount)})}),f(ft)},Ye=>{console.error("Error loading expenses:",Ye),G("Failed to load expenses")}),cr=_i(Lt,"users",r.uid,"reports"),Ni=Nl(cr,Dl("exportDate","desc")),Eo=Fa(Ni,Ye=>{const ft=[];Ye.forEach(lt=>{ft.push({id:lt.id,...lt.data()})}),g(ft)},Ye=>{console.error("Error loading reports:",Ye),G("Failed to load reports")}),hr=_i(Lt,"users",r.uid,"accounts"),ls=Nl(hr,Dl("createdAt","desc")),Ws=Fa(ls,Ye=>{const ft=[];Ye.forEach(lt=>{ft.push({id:lt.id,...lt.data(),balance:parseFloat(lt.data().balance)||0})}),_e(ft)},Ye=>{console.error("Error loading accounts:",Ye),G("Failed to load accounts")}),ht=_i(Lt,"users",r.uid,"transfers"),Ke=Nl(ht,Dl("date","desc")),ln=Fa(Ke,Ye=>{const ft=[];Ye.forEach(lt=>{ft.push({id:lt.id,...lt.data(),amount:parseFloat(lt.data().amount)})}),Ve(ft)},Ye=>{console.error("Error loading transfers:",Ye),G("Failed to load transfers")}),Bt=_i(Lt,"users",r.uid,"budgetAllocations"),Js=Nl(Bt,Dl("createdAt","desc")),To=Fa(Js,Ye=>{const ft=[];Ye.forEach(lt=>{ft.push({id:lt.id,...lt.data(),amount:parseFloat(lt.data().amount)})}),ke(ft),w(!1)},Ye=>{console.error("Error loading budget allocations:",Ye),G("Failed to load budget allocations"),w(!1)});return()=>{Oe(),os(),Eo(),Ws(),ln(),To()}}catch(ge){console.error("Error setting up Firebase listeners:",ge),G("Failed to connect to database"),w(!1)}},[r]),fe.useEffect(()=>{if(!r||!H)return;const ge=yi(Lt,"users",r.uid);Ip(ge,{totalBudget:s}).catch(Oe=>{console.error("Error updating total budget:",Oe),G("Failed to update budget")})},[s,r,H]);const x=async ge=>{if(!(!ge.name||!ge.amount||!r))try{G(null),await r4(r.uid,ge)}catch(Oe){console.error("Error adding expense:",Oe),G("Failed to add expense. Please try again.")}},J=async ge=>{if(r)try{G(null);const Oe=yi(Lt,"users",r.uid,"expenses",ge);await Jl(Oe)}catch(Oe){console.error("Error deleting expense:",Oe),G("Failed to delete expense. Please try again.")}},re=async ge=>{if(r)try{G(null),D?(await o4(r.uid,D.id,ge),Et(null)):await a4(r.uid,ge),R(!1)}catch(Oe){console.error("Error managing account:",Oe),G("Failed to manage account. Please try again.")}},ee=ge=>{Et(ge),R(!0)},me=async ge=>{if(!(!r||!confirm("Are you sure you want to delete this account? This action cannot be undone.")))try{G(null),await l4(r.uid,ge)}catch(Ge){console.error("Error deleting account:",Ge),G("Failed to delete account. Please try again.")}},Ne=async ge=>{if(r)try{G(null),await c4(r.uid,ge),M(!1)}catch(Oe){console.error("Error adding transfer:",Oe),G("Failed to add transfer. Please try again.")}},Ae=async ge=>{if(!(!r||!confirm("Are you sure you want to delete this transfer?")))try{G(null),await h4(r.uid,ge)}catch(Ge){console.error("Error deleting transfer:",Ge),G("Failed to delete transfer. Please try again.")}},wt=async ge=>{if(r)try{G(null),ot?(await m4(r.uid,ot.id,ge),Y(null)):await d4(r.uid,ge),P(!1)}catch(Oe){console.error("Error managing budget allocation:",Oe),G("Failed to manage budget allocation. Please try again.")}},tt=ge=>{Y(ge),P(!0)},Cn=async ge=>{if(!(!r||!confirm("Are you sure you want to delete this budget allocation?")))try{G(null),await p4(r.uid,ge)}catch(Ge){console.error("Error deleting budget allocation:",Ge),G("Failed to delete budget allocation. Please try again.")}},Hn=()=>{const ge=u.reduce((Oe,Ge)=>Oe+Ge.amount,0);return s-ge},Fn=ge=>u.filter(Oe=>Oe.category===ge).reduce((Oe,Ge)=>Oe+Ge.amount,0),Ri=async()=>{if(!r)return;const ge=prompt("Enter a name for this report:",`Budget Report ${new Date().toLocaleDateString()}`);if(ge)try{G(null);const Oe=_i(Lt,"users",r.uid,"reports");await hu(Oe,{name:ge,total:s,expenses:u.map(Ge=>({...Ge,amount:parseFloat(Ge.amount)})),exportDate:We.now()}),E(!0)}catch(Oe){console.error("Error saving report:",Oe),G("Failed to save report. Please try again.")}},Ii=ge=>{o(ge.total);const Oe=ge.expenses.map(Ge=>({...Ge,isFromReport:!0}));f(Oe),E(!1)},Ci=async ge=>{if(!(!r||!confirm("Are you sure you want to delete this report?")))try{G(null);const Ge=yi(Lt,"users",r.uid,"reports",ge);await Jl(Ge)}catch(Ge){console.error("Error deleting report:",Ge),G("Failed to delete report. Please try again.")}};return S?A.jsxs("div",{className:C.loading,children:[A.jsx("div",{className:C.loadingSpinner}),A.jsx("p",{children:"Loading your expense tracker..."})]}):A.jsxs("div",{className:C.appContainer,children:[A.jsx(JO,{isOpen:_,onClose:()=>E(!1),reports:m,onLoadReport:Ii,onDeleteReport:Ci}),A.jsx("div",{className:C.mainContent,children:A.jsx("div",{className:C.container,children:A.jsxs("div",{className:C.card,children:[ie&&A.jsxs("div",{className:C.errorBanner,children:[ie,A.jsx("button",{onClick:()=>G(null),className:C.errorClose,children:""})]}),A.jsx(m1,{currentUser:r,onToggleSidebar:()=>E(!0),onSave:Ri,onLogout:e}),A.jsxs("div",{className:C.tabNavigation,children:[A.jsx("button",{className:`${C.tabButton} ${te==="expenses"?C.activeTab:""}`,onClick:()=>ue("expenses"),children:"Expenses"}),A.jsx("button",{className:`${C.tabButton} ${te==="accounts"?C.activeTab:""}`,onClick:()=>ue("accounts"),children:"Accounts"}),A.jsx("button",{className:`${C.tabButton} ${te==="transfers"?C.activeTab:""}`,onClick:()=>ue("transfers"),children:"Transfers"}),A.jsx("button",{className:`${C.tabButton} ${te==="allocations"?C.activeTab:""}`,onClick:()=>ue("allocations"),children:"Budget Allocations"})]}),te==="expenses"&&A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:C.budgetSection,children:[A.jsx("label",{className:C.label,children:"Starting Amount"}),A.jsx("input",{type:"number",value:s,onChange:ge=>o(parseFloat(ge.target.value)||0),className:`${C.input} ${C.nameInput}`,placeholder:"Enter your total amount",min:"0",step:"0.01"})]}),A.jsxs("div",{className:C.balanceCard,children:[A.jsx("div",{className:C.balanceLabel,children:"Remaining Balance"}),A.jsx("div",{className:`${C.balanceAmount} ${Hn()<0?C.negativeBalance:""}`,children:n(Hn())})]}),A.jsx(e4,{onAddExpense:x,categories:tm}),A.jsx(p1,{categories:tm,categoryColors:Be,getCategoryTotal:Fn,totalBudget:s}),A.jsx(g1,{expenses:u,categoryColors:Be,onDeleteExpense:J})]}),te==="accounts"&&A.jsxs(A.Fragment,{children:[A.jsx("div",{className:C.sectionActions,children:A.jsx("button",{onClick:()=>R(!0),className:C.button,children:"Add Account"})}),V&&A.jsx(_1,{onAddAccount:re,onCancel:()=>{R(!1),Et(null)},editingAccount:D}),A.jsx(y1,{accounts:ce,onEditAccount:ee,onDeleteAccount:me})]}),te==="transfers"&&A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:C.sectionActions,children:[A.jsx("button",{onClick:()=>M(!0),className:C.button,disabled:ce.length<2,children:"Add Transfer"}),ce.length<2&&A.jsx("small",{className:C.helperText,children:"You need at least 2 accounts to make transfers"})]}),N&&A.jsx(n4,{accounts:ce,onAddTransfer:Ne,onCancel:()=>M(!1)}),A.jsx(v1,{transfers:de,accounts:ce,onDeleteTransfer:Ae})]}),te==="allocations"&&A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:C.sectionActions,children:[A.jsx("button",{onClick:()=>P(!0),className:C.button,disabled:ce.length===0,children:"Add Budget Allocation"}),ce.length===0&&A.jsx("small",{className:C.helperText,children:"You need to create accounts first"})]}),k&&A.jsx(E1,{accounts:ce,onAddAllocation:wt,onCancel:()=>{P(!1),Y(null)},editingAllocation:ot}),A.jsx(T1,{allocations:Se,accounts:ce,onEditAllocation:tt,onDeleteAllocation:Cn})]})]})})})]})},_4=()=>{const n=Math.floor(Math.random()*80+150),s=Math.floor(Math.random()*80+150),o=Math.floor(Math.random()*80+150),u=Math.floor(Math.random()*3),f=[n,s,o];return f[u]=Math.floor(Math.random()*50+100),`rgb(${f[0]}, ${f[1]}, ${f[2]})`},y4=()=>{const{currentUser:r}=Cp();return r?A.jsx(l1,{children:A.jsx(g4,{})}):A.jsx(CD,{})};ib.createRoot(document.getElementById("root")).render(A.jsx(XA.StrictMode,{children:A.jsx(a1,{children:A.jsx(y4,{})})}));
